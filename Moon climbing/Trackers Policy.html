<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="title" content="Privacy &amp; Cookie Policy" />
<meta name="description" content="Moon Climbing" />
<meta name="keywords" content="Moon Climbing" />
<meta name="robots" content="INDEX,FOLLOW" />
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<title>Privacy &amp; Cookie Policy</title>
<link rel="stylesheet" type="text/css" media="all" href="https://moonclimbing.com/static/version1725881161/frontend/Moon/hyva/en_GB/css/styles.css" />
<script type="text/javascript" src="https://cdn-cookieyes.com/client_data/f7df13dcdc11fc02575c53cd/script.js"></script>
<link rel="icon" type="image/x-icon" href="https://moonclimbing.com/media/favicon/stores/1/logo_1_.png" />
<link rel="shortcut icon" type="image/x-icon" href="https://moonclimbing.com/media/favicon/stores/1/logo_1_.png" />
<meta name="“facebook-domain-verification”" content="“qsvvza3jp3pwphnf1qzonkttp888ul”" />
<meta name="google-site-verification" content="pZa_0BEy85BmoVhjufrTjUPorvLzAbncF6b7tN1veAk" />

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N4NRXQJ');</script>
 
<script>
console.log('No Meta pixel is configured, please log in as a admin and then visit Stores -> Meta -> Setup -> Get Started');
</script>
</head>
<body id="html-body" class="hero-page cms-privacy-policy-cookie-restriction-mode general-account cms-page-view page-layout-hero_page">

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N4NRXQJ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K3Z5VWL"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>
    var BASE_URL = 'https://moonclimbing.com/';
    var THEME_PATH = 'https://moonclimbing.com/static/version1725881161/frontend/Moon/hyva/en_GB';
    var COOKIE_CONFIG = {
        "expires": null,
        "path": "\u002F",
        "domain": ".moonclimbing.com",
        "secure": false,
        "lifetime": "86400",
        "cookie_restriction_enabled": false    };
    var CURRENT_STORE_CODE = 'default';
    var CURRENT_WEBSITE_ID = '1';

    window.hyva = window.hyva || {}

    window.cookie_consent_groups = window.cookie_consent_groups || {}
    window.cookie_consent_groups['necessary'] = true;

    window.cookie_consent_config = window.cookie_consent_config || {};
    window.cookie_consent_config['necessary'] = [].concat(
        window.cookie_consent_config['necessary'] || [],
        [
            'user_allowed_save_cookie',
            'form_key',
            'mage-messages',
            'private_content_version',
            'mage-cache-sessid',
            'last_visited_store',
            'section_data_ids'
        ]
    );
</script>
<script>
    'use strict';
    (function( hyva, undefined ) {

        function lifetimeToExpires(options, defaults) {

            var lifetime = options.lifetime || defaults.lifetime;

            if (lifetime) {
                var date = new Date;
                date.setTime(date.getTime() + lifetime * 1000);
                return date;
            }

            return null;
        }

        function generateRandomString() {

            const allowedCharacters = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ',
                length = 16;

            let formKey = '',
                charactersLength = allowedCharacters.length;

            for (var i = 0; i < length; i++) {
                formKey += allowedCharacters[Math.round(Math.random() * (charactersLength - 1))]
            }

            return formKey;
        }

        const cookieTempStorage = {};

        const internalCookie = {
            get(name) {
                const v = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');
                return v ? v[2] : null;
            },
            set(name, value, days, skipSetDomain) {
                let expires,
                    path,
                    domain,
                    secure,
                    samesite;

                const defaultCookieConfig = {
                    expires: null,
                    path: '/',
                    domain: null,
                    secure: false,
                    lifetime: null,
                    samesite: 'lax'
                };

                const cookieConfig = window.COOKIE_CONFIG || {};

                expires = days
                    ? lifetimeToExpires({lifetime: 24 * 60 * 60 * days, expires: null}, defaultCookieConfig)
                    : lifetimeToExpires(window.COOKIE_CONFIG, defaultCookieConfig) || defaultCookieConfig.expires;

                path = cookieConfig.path || defaultCookieConfig.path;
                domain = !skipSetDomain && (cookieConfig.domain || defaultCookieConfig.domain);
                secure = cookieConfig.secure || defaultCookieConfig.secure;
                samesite = cookieConfig.samesite || defaultCookieConfig.samesite;

                document.cookie = name + "=" + encodeURIComponent(value) +
                    (expires ? '; expires=' + expires.toGMTString() : '') +
                    (path ? '; path=' + path : '') +
                    (domain ? '; domain=' + domain : '') +
                    (secure ? '; secure' : '') +
                    (samesite ? '; samesite=' + samesite : 'lax');
            },
            isWebsiteAllowedToSaveCookie() {
                const allowedCookies = this.get('user_allowed_save_cookie');
                if (allowedCookies) {
                    const allowedWebsites = JSON.parse(unescape(allowedCookies));

                    return allowedWebsites[CURRENT_WEBSITE_ID] === 1;
                }
                return false;
            },
            getGroupByCookieName(name) {
                const cookieConsentConfig = window.cookie_consent_config || {};
                let group = null;
                for (let prop in cookieConsentConfig) {
                    if (!cookieConsentConfig.hasOwnProperty(prop)) continue;
                    if (cookieConsentConfig[prop].includes(name)) {
                        group = prop;
                        break;
                    }
                }
                return group;
            },
            isCookieAllowed(name) {
                const cookieGroup = this.getGroupByCookieName(name);
                return cookieGroup
                    ? window.cookie_consent_groups[cookieGroup]
                    : this.isWebsiteAllowedToSaveCookie();
            },
            saveTempStorageCookies() {
                for (const [name, data] of Object.entries(cookieTempStorage)) {
                    if (this.isCookieAllowed(name)) {
                        this.set(name, data['value'], data['days'], data['skipSetDomain']);
                        delete cookieTempStorage[name];
                    }
                }
            }
        };

        hyva.getCookie = (name) => {
            const cookieConfig = window.COOKIE_CONFIG || {};

            if (cookieConfig.cookie_restriction_enabled && ! internalCookie.isCookieAllowed(name)) {
                return cookieTempStorage[name] ? cookieTempStorage[name]['value'] : null;
            }

            return internalCookie.get(name);
        }

        hyva.setCookie = (name, value, days, skipSetDomain) => {
            const cookieConfig = window.COOKIE_CONFIG || {};

            if (cookieConfig.cookie_restriction_enabled && ! internalCookie.isCookieAllowed(name)) {
                cookieTempStorage[name] = {value, days, skipSetDomain};
                return;
            }
            return internalCookie.set(name, value, days, skipSetDomain);
        }

        hyva.getBrowserStorage = () => {
            const browserStorage = window.localStorage || window.sessionStorage;
            if (!browserStorage) {
                console.warn('Browser Storage is unavailable');
                return false;
            }
            try {
                browserStorage.setItem('storage_test', 1);
                browserStorage.removeItem('storage_test');
            } catch (error) {
                console.warn('Browser Storage is not accessible', error);
                return false;
            }
            return browserStorage;
        }

        hyva.postForm = (postParams) => {
            const form = document.createElement("form");

            let data = postParams.data;

            if (!data.uenc) {
                data.uenc = btoa(window.location.href);
            }
            form.method = "POST";
            form.action = postParams.action;

            Object.keys(postParams.data).map(key => {
                const field = document.createElement("input");
                field.type = 'hidden'
                field.value = postParams.data[key];
                field.name = key;
                form.appendChild(field);
            });

            const form_key = document.createElement("input");
            form_key.type = 'hidden';
            form_key.value = hyva.getFormKey();
            form_key.name="form_key";
            form.appendChild(form_key);

            document.body.appendChild(form);

            form.submit();
        }

        hyva.getFormKey = function () {
            let formKey = hyva.getCookie('form_key');

            if (!formKey) {
                formKey = generateRandomString();
                hyva.setCookie('form_key', formKey);
            }

            return formKey;
        }

        hyva.formatPrice = (value, showSign) => {
            var formatter = new Intl.NumberFormat(
                'en\u002DGB',
                {
                    style: 'currency',
                    currency: 'GBP',
                    signDisplay: showSign ? "always" : "auto"
                }
            );
            return (typeof Intl.NumberFormat.prototype.formatToParts === 'function') ?
                formatter.formatToParts(value).map(({type, value}) => {
                    switch (type) {
                        case 'currency':
                            return '£' || value;
                        case 'minusSign':
                            return '- ';
                        case 'plusSign':
                            return '+ ';
                        default :
                            return value;
                    }
                }).reduce((string, part) => string + part) :
                formatter.format(value);
        }

        const formatStr = function (str, nStart) {
            const args = Array.from(arguments).slice(2);

            return str.replace(/(%+)([0-9]+)/g, (m, p, n) => {
                const idx = parseInt(n) - nStart;

                if (args[idx] === null || args[idx] === void 0) {
                    return m;
                }
                return p.length % 2
                    ? p.slice(0, -1).replace('%%', '%') + args[idx]
                    : p.replace('%%', '%') + n;
            })
        }

        hyva.str = function (string) {
            const args = Array.from(arguments);
            args.splice(1, 0, 1);

            return formatStr.apply(undefined, args);
        }

        hyva.strf = function () {
            const args = Array.from(arguments);
            args.splice(1, 0, 0);

            return formatStr.apply(undefined, args);
        }

        /**
         * Take a html string as `content` parameter and
         * extract an element from the DOM to replace in
         * the current page under the same selector,
         * defined by `targetSelector`
         */
        hyva.replaceDomElement = (targetSelector, content) => {

            // Parse the content and extract the DOM node using the `targetSelector`
            const parser = new DOMParser();
            const doc = parser.parseFromString(content, 'text/html');
            const contentNode = doc.querySelector(targetSelector);

            // Bail if content can't be found
            if (!contentNode) {
                return;
            }

            // Extract all the script tags from the new content.
            // Script tags won't execute when inserted into a dom-element directly,
            // therefore we need to inject them to the head of the document.
            const tmpScripts = contentNode.getElementsByTagName('script');

            if (tmpScripts.length > 0) {
                // Push all script tags into an array
                // (to prevent dom manipulation while iterating over dom nodes)
                const scripts = [];
                for (let i = 0; i < tmpScripts.length; i++) {
                    scripts.push(tmpScripts[i]);
                }

                // Iterate over all script tags and duplicate+inject each into the head
                for (let i = 0; i < scripts.length; i++) {
                    let script = document.createElement('script');
                    script.innerHTML = scripts[i].innerHTML;

                    document.head.appendChild(script);

                    // Remove the original (non-executing) node from the page
                    scripts[i].parentNode.removeChild(scripts[i]);
                }
            }

            // Replace the old DOM node with the new content
            document.querySelector(targetSelector).replaceWith(contentNode);

            // Reload customerSectionData and display cookie-messages if present
            window.dispatchEvent(new CustomEvent("reload-customer-section-data"));
            hyva.initMessages();
        }

        const replace = {['+']: '-', ['/']: '_', ['=']: ','};
        hyva.getUenc = () => btoa(window.location.href).replace(/[+/=]/g, match => replace[match]);

        window.addEventListener('user-allowed-save-cookie', () => internalCookie.saveTempStorageCookies())

    }( window.hyva = window.hyva || {} ));
</script>
<input name="form_key" type="hidden" value="ql3dGYKAMf0nJ9eT" /> <script>
        function initPromoBanner() {
            return {
                atTop: (window.pageYOffset < 50) ? false : true,
                currentIndex: 0,
                isScrollingUp: true,
                currentPos: window.pageYOffset,
                messagesCount: 5,
                isPaused: false,
                isSticky: document.getElementsByClassName('is-sticky').length,
                scrollToElement() {
                    const targetElement = document.querySelector(".newsletter-widget");
                    if (targetElement) {
                        targetElement.querySelector('div').scrollIntoView({ behavior: "smooth" });
                    }
                },
                handleLink(url, openInNewTab) {
                    if (!url) {
                        this.scrollToElement();
                        return
                    }

                    if (openInNewTab) {
                        window.open(url, '_blank').focus();
                    } else {
                        window.open(url, '_self');
                    }
                },
                showNextParagraph() {
                    if (!this.isPaused && this.messagesCount > 1) {
                        this.currentIndex = this.currentIndex + 1 <= this.messagesCount ? this.currentIndex + 1 : 0;
                        this.$refs.promos.style.transform = `translate3d(-${80*this.currentIndex}vw, 0px, 0px)`;
                    }
                },
                initPromos() {
                    let containerWidth = this.getWidthWithoutPadding(this.$refs.promos);
                    this.$refs.promos.style.height = null;
                    this.$refs.promos.style.width = `${containerWidth * (this.messagesCount + 1)}px`
                },
                pauseSliding() {
                    this.isPaused = true;
                },
                resumeSliding() {
                    this.isPaused = false;
                },
                getWidthWithoutPadding(element) {
                    const wrapperComputedStyle = window.getComputedStyle(element, null);

                    return (element.clientWidth
                            -parseFloat(wrapperComputedStyle.paddingLeft)
                            + parseFloat(wrapperComputedStyle.paddingRight)
                            );
                }
            }
        }
    </script>
<div x-data="initPromoBanner()" x-init="setInterval(() => { showNextParagraph() }, 6500);" @scroll.window="atTop = (window.pageYOffset < 50) ? false: true;
                        isScrollingUp = (window.pageYOffset > currentPos && window.pageYOffset > 60) ? false: true;
                        currentPos = window.pageYOffset" class="bg-black w-full py-2.5 lg:py-3 fixed z-30 md:z-[60] min-h-[44px]
                transition-all duration-[400ms] ease-in-out overflow-hidden" id="top_promo_banner" :class="{'-translate-y-full': !isScrollingUp && !isSticky}">
<div x-init="initPromos()" class="px-[10vw] overflow-hidden" x-ref="promos" style="height:28px;" :class="{'transition-transform linear duration-1000': currentIndex !== 0}">
<button class="text-white uppercase relative link w-[80vw]" style="font-weight: 700;font-family: 'Barlow Condensed', sans-serif;font-size:14px;" @click="handleLink('/delivery', 0)" @mouseover="pauseSliding" @mouseleave="resumeSliding">
<span class="inline-block">
Free UK/EU Shipping Over £35/€40 </span>
</button>
<button class="text-white uppercase relative link w-[80vw]" style="font-weight: 700;font-family: 'Barlow Condensed', sans-serif;font-size:14px;" @click="handleLink('/moonboard/holds-and-bolts.html?moonboard_hold_setup=5841', 0)" @mouseover="pauseSliding" @mouseleave="resumeSliding">
<span class="inline-block">
Moonboard 2024 Setup Available </span>
</button>
<button class="text-white uppercase relative link w-[80vw]" style="font-weight: 700;font-family: 'Barlow Condensed', sans-serif;font-size:14px;" @click="handleLink('/clothing/mens/tops.html', 0)" @mouseover="pauseSliding" @mouseleave="resumeSliding">
<span class="inline-block">
New T Shirts Available </span>
</button>
<button class="text-white uppercase relative link w-[80vw]" style="font-weight: 700;font-family: 'Barlow Condensed', sans-serif;font-size:14px;" @click="handleLink('', 1)" @mouseover="pauseSliding" @mouseleave="resumeSliding">
<span class="inline-block">
Sign Up To Our Newsletter! </span>
</button>
<button class="text-white uppercase relative link w-[80vw]" style="font-weight: 700;font-family: 'Barlow Condensed', sans-serif;font-size:14px;" @click="handleLink('/equipment/packs-and-bags/roll-top-back-pack.html', 0)" @mouseover="pauseSliding" @mouseleave="resumeSliding">
<span class="inline-block">
New Roll Top Bags </span>
</button>
<button class="text-white uppercase relative link w-[80vw]" style="font-weight: 700;font-family: 'Barlow Condensed', sans-serif;font-size:14px;" @click="handleLink('/delivery', 0)" @mouseover="pauseSliding" @mouseleave="resumeSliding">
<span class="inline-block ml-[-22px]">
Free UK/EU Shipping Over £35/€40 </span>
</button>
</div>
</div>
<div class="page-wrapper"><header class="page-header"><script type="application/javascript" async src="https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=VAT2Qe"></script>
<script type="text/x-magento-init">
        {
            "*": {
                "KlaviyoCustomerData": {}
            }
        }
    </script>
<script>
    'use strict';
    window.gtmGeneralData = {"page_type":"cms_page_view","store_view":"\u00a3 GBP"};

    function gtmProductListFetchFunction(requestArgs) {
        fetch(
            '/gtm/catalog/productlist',
            {
                method: 'POST',
                body: new URLSearchParams(requestArgs)
            }
        ).then(
            response => {
                return response.json();
            }
        ).then(
            response => {
                const { data } = JSON.parse(response);

                if (data) {
                    window.dataLayer = window.dataLayer || [];
                    window.dataLayer.push({ ecommerce: null });

                    window.dataLayer.push(data);
                }
            }
        );
    }

    function gtmFetchProductListPages(htmlDoc, currentPage) {
        let loadedDataLayerData = JSON.parse(
            htmlDoc.querySelector('.gtm-list-op')?.innerHTML
                || '{}'
        );

        if (Object.keys(loadedDataLayerData).length) {
            let ecommerce = loadedDataLayerData[2],
                pageString = `-p-${ currentPage }`;


            ecommerce['item_list_id'] += pageString;
            ecommerce['item_list_name'] += pageString;

            let dataLayer = {
                event: loadedDataLayerData[1],
                ecommerce,
                gtm_id: loadedDataLayerData['gtm_id']
            };

            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({ ecommerce: null });

            window.dataLayer.push(dataLayer);
            return;
        }

        let shownProducts = [];

        htmlDoc.querySelectorAll('[data-loaded-product-sku]').forEach(element => {
            let sku = element.getAttribute('data-loaded-product-sku');

            if (sku) {
                shownProducts.push(sku);
            }
        });

        gtmProductListFetchFunction({
            form_key: hyva.getFormKey(),
            page: currentPage,
            skus: shownProducts
        });
    }

    function gtmPrepareSkusListFromTabsDom(tabId) {
        if (!tabId) {
            return [];
        }

        let shownProducts = [];

        document.querySelectorAll(`#${ tabId } [data-product-sku]`).forEach(element => {
            let sku = element.getAttribute('data-product-sku');

            if (sku) {
                shownProducts.push(sku);
            }
        });

        return shownProducts;
    }

    function fetchGtmItemList(tabId, skus = [], listName = '') {
        if (tabId) {
            skus = gtmPrepareSkusListFromTabsDom(tabId)
            listName = 'tabs-' + tabId;
        }

        if (!skus.length) {
            return;
        }

        gtmProductListFetchFunction({
            form_key: hyva.getFormKey(),
            skus,
            item_list_name: listName ? 'product_list-' + listName : ''
        });
    }

    function initGtmGeneral(event) {
        if (document.body.classList.contains('cms-home')) {
            window.gtmGeneralData['page_type'] = 'home';
        }

        const { gtmGeneralData = {} } = window;

        window.dataLayer = window.dataLayer || [];

        window.dataLayer.push({
            event: 'general',
            ...gtmGeneralData
        });

        window.gtmGeneralEventFired = true;

        const gtmGeneralEvent = new CustomEvent('gtmGeneralEvent', {})

        dispatchEvent(gtmGeneralEvent);
    }

    window.addEventListener(
        'private-content-loaded',
        (event) => initGtmGeneral(event), { once:true }
    );
</script>
<script>
    function initHeader() {
        return {
            searchOpen: false,
            customerOpen: false,
            atTop: (window.pageYOffset < 50) ? false : true,
            isScrollingUp: true,
            currentPos: window.pageYOffset,
            desktopIsOpen: false,
            cart: {},
            wishlistCounter: 0,
            getData(data) {
                if (data.cart) {
                    this.cart = data.cart
                }
                if (data.wishlist.counter !== null) {
                    this.wishlistCounter = data.wishlist.counter.match(/\d+/)[0]
                }
            },
        }
    }

    function handleEmptyCart() {
        return {
            emptyCartMessage: document.getElementById("empty-cart-message"),

            showMessageIfEmpty() {
                this.emptyCartMessage.classList.remove("hidden");
                this.emptyCartMessage.classList.add("flex");
            },

            removeEmptyCartMessage() {
                this.emptyCartMessage.classList.remove("flex");
                this.emptyCartMessage.classList.add("hidden");
            }
        }
    }
</script>
<div id="header" x-data="initHeader()" @open-menu-desktop.window="desktopIsOpen = $event.detail === 0 ? false : true" @close-search.window="searchOpen = false" @scroll.window="atTop = (window.pageYOffset < 50) ? false: true;
                    isScrollingUp = (window.pageYOffset > currentPos && window.pageYOffset > 60) ? false: true;
                    currentPos = window.pageYOffset" @keydown.window.escape="searchOpen = false;" @private-content-loaded.window="getData(event.detail.data)" class="fixed top-11 left-0 z-[9999] transition-all duration-[400ms] ease-in-out w-screen bg-transparent
     px-5 py-3 md:py-3 md:h-20 md:pl-8 md:pr-[154px] 2xl:h-[112px] 2xl:py-6 2xl:pl-[60px] 2xl:pr-[182px]" :class="{'bg-transparent': !atTop && !desktopIsOpen && !searchOpen && !customerOpen,'bg-black-lighter': atTop && !desktopIsOpen && !searchOpen,
         'bg-black 2xl:pr-[60px] md:pr-8 pt-6 pb-9': searchOpen
        ,'bg-black' : desktopIsOpen || customerOpen,'-translate-y-full': !isScrollingUp,
        'top-11' : document.getElementById('top_promo_banner') && isScrollingUp
    }">
<div class="flex w-full items-center mx-auto md:mx-0 mt-0 max-h-14 2xl:max-h-16
         w-full justify-between md:justify-start md:items-center order-3">

<div class="order-3 flex-grow md:flex-grow-0 md:order-1 md:px-0" :class="{'hidden md:block': searchOpen}">
<a class="flex items-center justify-center text-xl font-medium tracking-wide
     text-gray-800 no-underline hover:no-underline font-title" href="https://moonclimbing.com/" title="100&#x25;&#x20;climbing&#x20;Since&#x20;2002" aria-label="store logo">
<img src="https://moonclimbing.com/media/logo/stores/1/logo_1__1.png" title="100&#x25;&#x20;climbing&#x20;Since&#x20;2002" alt="100&#x25;&#x20;climbing&#x20;Since&#x20;2002" class="w-[56px] h-[56px] 2xl:w-16 2xl:h-16 max-w-none" />
</a>
</div>

<button x-show="!searchOpen" class="inline-block md:pr-5 lg:pr-8 md: 2xl:pr-12 ml-1 order-2 md:order-4
                    no-underline sm:ml-3 hover:opacity-90 transition-opacity duration-700" id="menu-search-icon" @click.prevent="
                    searchOpen = !searchOpen;
                    $nextTick(() => {
                        const searchInput = document.querySelector('#search');
                        searchInput.focus();
                        searchInput.select();
                    });
                ">
<span class="sr-only label">
Search </span>
<span class="block w-7 h-7 bg-search"></span>
</button>

<div x-show="!searchOpen" x-data="initMenuDesktop_66e0991316725()" x-init="$watch('toggleActivePanelId', value => $dispatch('open-menu-desktop',value))" class="z-20 order-2 sm:order-2 md:order-2 navigation hidden md:flex md:flex-grow desktop-menu">
<script>
    function initStoreSwitcher() {
        return {
            open: false,
            isLoading: false,
            setIsLoading() {
                if (this.isLoading) {
                    return;
                };

                this.isLoading = true;
                let loader = document.createElement('div');
                loader.setAttribute('x-data', '{isLoading: true}');
                loader.innerHTML = `<div class="flex flex-row justify-center items-center w-full h-full fixed select-none z-50"
     style="left: 50%;top: 50%;transform: translateX(-50%) translateY(-50%);background: rgba(255,255,255,0.7);"
     x-show="isLoading"
     x-transition:enter="ease-out duration-200"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="ease-in duration-200"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0">
    <!-- By Sam Herbert (@sherb), for everyone. More @ http://goo.gl/7AJzbL -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 57 57" stroke="currentColor" class="text-primary" width="57" height="57">
    <g fill="none" fill-rule="evenodd">
        <g transform="translate(1 1)" stroke-width="2">
            <circle cx="5" cy="50" r="5">
                <animate attributeName="cy" begin="0s" dur="2.2s" values="50;5;50;50" calcMode="linear" repeatCount="indefinite"/>
                <animate attributeName="cx" begin="0s" dur="2.2s" values="5;27;49;5" calcMode="linear" repeatCount="indefinite"/>
            </circle>
            <circle cx="27" cy="5" r="5">
                <animate attributeName="cy" begin="0s" dur="2.2s" from="5" to="5" values="5;50;50;5" calcMode="linear" repeatCount="indefinite"/>
                <animate attributeName="cx" begin="0s" dur="2.2s" from="27" to="27" values="27;49;5;27" calcMode="linear" repeatCount="indefinite"/>
            </circle>
            <circle cx="49" cy="50" r="5">
                <animate attributeName="cy" begin="0s" dur="2.2s" values="50;50;5;50" calcMode="linear" repeatCount="indefinite"/>
                <animate attributeName="cx" from="49" to="49" begin="0s" dur="2.2s" values="49;5;27;49" calcMode="linear" repeatCount="indefinite"/>
            </circle>
        </g>
    </g>
</svg>
    <div class="ml-10 text-primary text-xl">
        Loading...    </div>
</div>
`;
                loader.firstChild.style.zIndex = 999999;
                document.getElementById('maincontent').appendChild(loader);
                
            }
        }
    }
</script>
<div x-data="initStoreSwitcher()" class="switcher">
<div class="relative flex flex-col text-left xl:h-[104px] w-[89px] button-container">
<div>
<button @click.prevent="open = !open" @click.outside="open = false" @keydown.window.escape="open=false" type="button" class="inline-flex justify-center w-full bg-transparent focus:outline-none my-[14px] px-2" aria-haspopup="true" aria-expanded="true">
<span class="flex">
<img src="https://moonclimbing.com/static/version1725881161/frontend/Moon/hyva/en_GB/images/flag-uk.svg" alt="UK shop" class="mr-2" />
<span>UK shop</span>
</span>
</button>
</div>
<nav x-cloak x-show="open" class="w-[100%] z-20 p-3 overflow-auto origin-top-left  bg-gray-lighter">
<div role="menu" aria-orientation="vertical" aria-labelledby="options-menu">
<a href="https://eu.moonclimbing.com/" class="no-underline text-inherit" @click="setIsLoading()">
<span class="flex">
<img src="https://moonclimbing.com/static/version1725881161/frontend/Moon/hyva/en_GB/images/flag-eu.svg" alt="EU shop" class="mr-2" />
<span>EU shop</span>
</span>
</a>
</div>
</nav>
</div>
</div>

<div x-ref="nav-desktop" @load.window="setActiveMenu($root)" class="hidden md:block md:min-h-0 md:px-8 md:w-auto md:pt-0">
<nav class="w-full duration-150 ease-in-out flex justify-start
            w-auto min-h-0 transition-display" @click.away="toggleActivePanelId = 0" @scroll.window="toggleActivePanelId = 0">
<div class="mr-2 level-0" @click="toggleActivePanelId =
                    toggleActivePanelId === '0' ?
                      0 : '0';">
<span class="flex items-center block p-3 text-md bg-opacity-95">
<a class="w-full block relative pt-3 pb-0 px-2 link no-underline tracking-[0.12em] level-0 overflow-hidden" title="Shop">
Shop <span class="active-moon" :class="{'activated' : toggleActivePanelId === '0'}"></span>
</a>
</span>
<div class="menu-desktop-wrapper fixed z-10 invisible max-h-0 min-h-0 origin-top pt-4 pb-10 px-3
                                   shadow-lg bg-black left-0 md:top-20 2xl:top-28 w-full transition-all duration-[400ms] ease-in-out" :class="{
                                'invisible opacity-0 max-h-0 min-h-0' : toggleActivePanelId !== '0',
                                'visible opacity-100 max-h-screen' : toggleActivePanelId === '0',
                                'mt-11' : document.getElementById('top_promo_banner')
                            }">
<div class="flex flex-row gap-6 justify-center items-start">
<div class="w-[200px]">

<span href="/moonboard" title="Moonboard" class="menu-desktop-link block w-max pb-5 leading-6 translate-y-[-10px] no-underline">
<span class="text-barlow-condensed text-lg leading-6 font-extrabold
                                                        text-white tracking-[0.12em] uppercase no-underline">
Moonboard </span>
</span>
<a href="https://moonclimbing.com/moonboard/kits-and-packages.html" title="Kits" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Kits </span>
</a>
<a href="https://moonclimbing.com/moonboard/holds-and-bolts.html" title="Hold&#x20;Sets" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Hold Sets </span>
</a>
<a href="https://moonclimbing.com/moonboard/led.html" title="LEDs" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
LEDs </span>
</a>
<a href="https://moonclimbing.com/moonboard/parts-and-components.html" title="Parts&#x20;&amp;&#x20;Spares" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Parts &amp; Spares </span>
</a>
<a href="https://moonclimbing.com/moonboard.html" title="View&#x20;All" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
View All </span>
</a>
</div>
<div class="w-[200px]">

<span href="https://moonclimbing.com/mens-moon-climbing-clothes.html" title="Men&#x27;s" class="menu-desktop-link block w-max pb-5 leading-6 translate-y-[-10px] no-underline">
<span class="text-barlow-condensed text-lg leading-6 font-extrabold
                                                        text-white tracking-[0.12em] uppercase no-underline">
Men&#039;s </span>
</span>
<a href="https://moonclimbing.com/clothing/mens/tops.html" title="Tops" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Tops </span>
</a>
<a href="https://moonclimbing.com/mens-moon-climbing-clothes/bottoms.html" title="Legwear" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Legwear </span>
</a>
<a href="https://moonclimbing.com/clothing/mens/accessories.html" title="Accessories" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Accessories </span>
</a>
<a href="https://moonclimbing.com/clothing/mens/men-s-clearance.html" title="Clearance" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Clearance </span>
</a>
<a href="https://moonclimbing.com/mens-moon-climbing-clothes.html" title="View&#x20;All" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
View All </span>
</a>
</div>
<div class="w-[200px]">

<span href="https://moonclimbing.com/clothing/womens.html" title="Women&#x27;s" class="menu-desktop-link block w-max pb-5 leading-6 translate-y-[-10px] no-underline">
<span class="text-barlow-condensed text-lg leading-6 font-extrabold
                                                        text-white tracking-[0.12em] uppercase no-underline">
Women&#039;s </span>
</span>
<a href="https://moonclimbing.com/clothing/womens/tops.html" title="Tops" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Tops </span>
</a>
<a href="https://moonclimbing.com/clothing/womens/legwear.html" title="Legwear" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Legwear </span>
</a>
<a href="https://moonclimbing.com/clothing/womens/accessories.html" title="Accessories" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Accessories </span>
</a>
<a href="https://moonclimbing.com/clothing/womens/women-s-clearance.html" title="Clearance" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Clearance </span>
</a>
<a href="https://moonclimbing.com/clothing/womens.html" title="View&#x20;All" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
View All </span>
</a>
</div>
<div class="w-[200px]">

<span href="https://moonclimbing.com/equipment.html" title="Equipment" class="menu-desktop-link block w-max pb-5 leading-6 translate-y-[-10px] no-underline">
<span class="text-barlow-condensed text-lg leading-6 font-extrabold
                                                        text-white tracking-[0.12em] uppercase no-underline">
Equipment </span>
</span>
<a href="https://moonclimbing.com/equipment/bouldering-pads.html" title="Crash&#x20;Pads" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Crash Pads </span>
</a>
<a href="https://moonclimbing.com/equipment/packs-and-bags.html" title="Packs&#x20;&amp;&#x20;Bags" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Packs &amp; Bags </span>
</a>
<a href="https://moonclimbing.com/equipment/chalk-bags.html" title="Chalk&#x20;Bags" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Chalk Bags </span>
</a>
<a href="https://moonclimbing.com/equipment/chalk-and-brushes.html" title="Chalk&#x20;&amp;&#x20;Accessories" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Chalk &amp; Accessories </span>
</a>
<a href="https://moonclimbing.com/equipment.html" title="View&#x20;All" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
View All </span>
</a>
</div>
<div class="w-[200px]">

<span href="https://moonclimbing.com/training.html" title="Training" class="menu-desktop-link block w-max pb-5 leading-6 translate-y-[-10px] no-underline">
<span class="text-barlow-condensed text-lg leading-6 font-extrabold
                                                        text-white tracking-[0.12em] uppercase no-underline">
Training </span>
</span>
<a href="https://moonclimbing.com/training/hangboards.html" title="Hangboards" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Hangboards </span>
</a>
<a href="https://moonclimbing.com/training/rungs.html" title="Rungs" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Rungs </span>
</a>
<a href="https://moonclimbing.com/training/training-clearance.html" title="Clearance" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Clearance </span>
</a>
<a href="https://moonclimbing.com/training.html" title="View&#x20;All" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '0',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '0'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
View All </span>
</a>
</div>
</div>
</div>
</div>
<div class="mr-2 level-0" @click="toggleActivePanelId =
                    toggleActivePanelId === '1' ?
                      0 : '1';">
<span class="flex items-center block p-3 text-md bg-opacity-95">
<a class="w-full block relative pt-3 pb-0 px-2 link no-underline tracking-[0.12em] level-0 overflow-hidden" title="Explore">
Explore <span class="active-moon" :class="{'activated' : toggleActivePanelId === '1'}"></span>
</a>
</span>
<div class="menu-desktop-wrapper fixed z-10 invisible max-h-0 min-h-0 origin-top pt-4 pb-10 px-3
                                   shadow-lg bg-black left-0 md:top-20 2xl:top-28 w-full transition-all duration-[400ms] ease-in-out" :class="{
                                'invisible opacity-0 max-h-0 min-h-0' : toggleActivePanelId !== '1',
                                'visible opacity-100 max-h-screen' : toggleActivePanelId === '1',
                                'mt-11' : document.getElementById('top_promo_banner')
                            }">
<div class="flex flex-row gap-6 justify-center items-start">
<div class="w-[200px]">
<a href="/moonboard" title="Moonboard" class="menu-desktop-link block w-max pb-5 leading-6 translate-y-[-10px] no-underline">
<span class="text-barlow-condensed text-lg leading-6 font-extrabold
                                                        text-white tracking-[0.12em] uppercase no-underline">
Moonboard </span>
</a>
<a href="/what-is-moonboard" title="What&#x20;Is&#x20;The&#x20;Moonboard" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '1',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '1'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
What Is The Moonboard </span>
</a>
<a href="/choose-your-moonboard" title="Choose&#x20;Your&#x20;Moonboard" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '1',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '1'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Choose Your Moonboard </span>
</a>
<a href="/build-your-moonboard" title="Build&#x20;Your&#x20;Moonboard" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '1',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '1'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Build Your Moonboard </span>
</a>
<a href="/using-your-moonboard" title="Using&#x20;Your&#x20;Moonboard&#x20;FAQ" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '1',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '1'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Using Your Moonboard FAQ </span>
</a>
<a href="/using-moonboard-app" title="Using&#x20;Your&#x20;Moonboard&#x20;App" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '1',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '1'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Using Your Moonboard App </span>
</a>
<a href="https://www.moonboard.com/account/login" title="Moonboard&#x20;Log-In" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '1',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '1'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Moonboard Log-In </span>
</a>
</div>
<div class="w-[200px]">
<a href="/about-moon" title="Team" class="menu-desktop-link block w-max pb-5 leading-6 translate-y-[-10px] no-underline">
<span class="text-barlow-condensed text-lg leading-6 font-extrabold
                                                        text-white tracking-[0.12em] uppercase no-underline">
Team </span>
</a>
<a href="/athletes" title="Ambassadors" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '1',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '1'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Ambassadors </span>
</a>
</div>
<div class="w-[200px]">
<a href="/blog" title="Blog" class="menu-desktop-link block w-max pb-5 leading-6 translate-y-[-10px] no-underline">
<span class="text-barlow-condensed text-lg leading-6 font-extrabold
                                                        text-white tracking-[0.12em] uppercase no-underline">
Blog </span>
</a>
<a href="/blog" title="Articles" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '1',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '1'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Articles </span>
</a>
<a href="/News/category/videos" title="Video" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '1',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '1'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Video </span>
</a>
</div>
<div class="w-[200px]">
<a href="/about-moon" title="About&#x20;Us" class="menu-desktop-link block w-max pb-5 leading-6 translate-y-[-10px] no-underline">
<span class="text-barlow-condensed text-lg leading-6 font-extrabold
                                                        text-white tracking-[0.12em] uppercase no-underline">
About Us </span>
</a>
<a href="/sustainability" title="Sustainability" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '1',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '1'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
Sustainability </span>
</a>
<a href="/about-moon" title="History" class="menu-desktop-link block max-w-full pb-4 last:pb-0 opacity-0 leading-6 translate-y-[-10px]
                                                          no-underline transition-all duration-500 ease-in-out bg-opacity-95" :class="{
                                                        'opacity-0 translate-y-[-10px]' : toggleActivePanelId !== '1',
                                                        'opacity-1 translate-y-0' : toggleActivePanelId === '1'
                                                    }">
<span class="text-archivo-regular text-md leading-6 font-normal text-white
                                                                 link no-underline normal-case">
History </span>
</a>
</div>
</div>
</div>
</div>
</nav>
</div>
</div>
<script>
    'use strict';

    const initMenuDesktop_66e0991316725 = () => {
        return {
            toggleActivePanelId: null,
            open: false,
            setActiveMenu(menuNode) {
                Array.from(menuNode.querySelectorAll('a')).filter(link => {
                    return link.href === window.location.href.split('?')[0];
                }).map(item => {
                    item.classList.add('underline');
                    item.closest('div.level-0') &&
                    item.closest('div.level-0').querySelector('a.level-0').classList.add('underline');
                });
            }
        }
    }
</script>
<div x-data="initMenuMobile_66e099132dc8f()" class="order-1 pr-6 md:order-2 navigation md:hidden w-[52px]" x-show="!searchOpen">

<div @load.window="setActiveMenu($root)" class="transition-transform ease-in-out -translate-x-[1%] z-30" :class="{
            'h-screen overflow-hidden fixed top-0 left-0 w-[87.5vw] bg-black translate-x-0' : open,
            '-translate-x-[1%]' : !open
        }" @toggle-mobile-menu.window="open = !open" @keydown.window.escape="open=false" @click.away="enableBodyScroll()">
<div class="flex items-baseline justify-between menu-icon">
<div class="flex justify-end w-full min-h-[76px]">

<div class="menu-mobile-logo pt-5 pl-4" x-cloak x-show="open">
<a class="block w-10 h-10" href="https://moonclimbing.com/">
<img src="https://moonclimbing.com/static/version1725881161/frontend/Moon/hyva/en_GB/images/logo.svg" class="w-full h-full" alt="100% climbing Since 2002" />
</a>
</div>
<a @click="$dispatch('toggle-mobile-menu'),
                           open ? document.body.style.overflow = 'hidden' : document.body.style.overflow = 'visible',
                           open ? document.documentElement.style.overflow = 'hidden' : document.documentElement.style.overflow = 'visible'" class="flex items-center justify-center cursor-pointer no-underline" :class="{ 'ml-auto py-6 px-4': open }">
<span class="text-barlow-condensed text-sm text-white tracking-[0.12rem] font-extrabold uppercase" :class="{'hidden' : !open, 'block': open }">
close </span>
<span class="block w-7 h-7 bg-menu" :class="{ 'hidden' : open, 'block': !open }"></span>
</a>
</div>
</div>
<nav class="menu-mobile-nav hidden overflow-x-hidden w-full
                   duration-150 ease-in-out transform transition-display h-full" :class="{
                 'hidden' : !open,
                 'block, overflow-y-auto' : mobilePanelActiveId,
                 'inline, overflow-y-hidden' : !mobilePanelActiveId
            }">
<div class="level-0 pt-0 first:pt-4 pb-5">
<span class="flex items-center transition-transform duration-150 ease-in-out transform pl-4" :class="{
                            '-translate-x-full' : mobilePanelActiveId,
                            'translate-x-0' : !mobilePanelActiveId
                        }" @click="mobilePanelActiveId =
                                mobilePanelActiveId === '0' ?
                                0 : '0'">
<a class="flex items-center cursor-pointer level-0 tracking-[0.12em]
                                  text-barlow-condensed text-lg leading-6 font-extrabold text-white uppercase no-underline">
Shop </a>
<a class="flex content-center justify-center items-center w-8 h-6 cursor-pointer">
<span class="block w-3 h-3 bg-arrow bg-cover bg-no-repeat bg-center"></span>
</a>
</span>
<div class="menu-mobile-categories absolute top-0 right-0 z-10 w-full h-full transition-transform duration-200 ease-in-out
                                translate-x-full transform bg-black max-h-[calc(100vh-72px)] overflow-y-scroll overflow-x-hidden pb-[200px]" :class="{
                                'translate-x-full' : mobilePanelActiveId !== '0',
                                'translate-x-0' : mobilePanelActiveId === '0',
                            }">
<a class="flex items-center pl-4 py-4 cursor-pointer bg-black no-underline tracking-[0.12rem]
                                    text-white text-barlow-condensed text-lg leading-6 font-extrabold uppercase" @click="mobilePanelActiveId = 0">
<span class="block w-3 h-3 bg-arrow bg-cover bg-no-repeat bg-center rotate-180"></span>
<span class="ml-4 leading-6">
back </span>
</a>
<div x-data="selected">
<div class="flex items-center w-full px-4 py-3 cursor-pointer
                                              bg-black justify-between">
<a class="text-barlow-condensed text-base text-white w-[90%]
                                                  font-extrabold uppercase tracking-[0.12rem] no-underline" title="Moonboard" @click="toggle">
Moonboard </a>
<span class="bg-plus relative w-4 h-4 bg-cover bg-no-repeat bg-center transition-all duration-300" :class="{
                                                'rotate-[45deg]' : selected,
                                                'rotate-0' : !selected
                                              }" @click="toggle">
<div class="absolute w-12 h-12 -top-4 -left-4"></div>
</span>
</div>

<div class="transition-all duration-[250ms] ease-in max-h-0 overflow-hidden" x-ref="container2" x-bind:style="selected ? 'max-height: ' + $refs.container2.scrollHeight + 'px' : ''">
<a href="https://moonclimbing.com/moonboard/kits-and-packages.html" title="Kits" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Kits </span>
</a>
<a href="https://moonclimbing.com/moonboard/holds-and-bolts.html" title="Hold&#x20;Sets" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Hold Sets </span>
</a>
<a href="https://moonclimbing.com/moonboard/led.html" title="LEDs" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
LEDs </span>
</a>
<a href="https://moonclimbing.com/moonboard/parts-and-components.html" title="Parts&#x20;&amp;&#x20;Spares" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Parts &amp; Spares </span>
</a>
<a href="https://moonclimbing.com/moonboard.html" title="View&#x20;All" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
View All </span>
</a>
</div>
</div>
<div x-data="selected">
<div class="flex items-center w-full px-4 py-3 cursor-pointer
                                              bg-black justify-between">
<a class="text-barlow-condensed text-base text-white w-[90%]
                                                  font-extrabold uppercase tracking-[0.12rem] no-underline" title="Men&#x27;s" @click="toggle">
Men&#039;s </a>
<span class="bg-plus relative w-4 h-4 bg-cover bg-no-repeat bg-center transition-all duration-300" :class="{
                                                'rotate-[45deg]' : selected,
                                                'rotate-0' : !selected
                                              }" @click="toggle">
<div class="absolute w-12 h-12 -top-4 -left-4"></div>
</span>
</div>

<div class="transition-all duration-[250ms] ease-in max-h-0 overflow-hidden" x-ref="container2" x-bind:style="selected ? 'max-height: ' + $refs.container2.scrollHeight + 'px' : ''">
<a href="https://moonclimbing.com/clothing/mens/tops.html" title="Tops" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Tops </span>
</a>
<a href="https://moonclimbing.com/mens-moon-climbing-clothes/bottoms.html" title="Legwear" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Legwear </span>
</a>
<a href="https://moonclimbing.com/clothing/mens/accessories.html" title="Accessories" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Accessories </span>
</a>
<a href="https://moonclimbing.com/clothing/mens/men-s-clearance.html" title="Clearance" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Clearance </span>
</a>
<a href="https://moonclimbing.com/mens-moon-climbing-clothes.html" title="View&#x20;All" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
View All </span>
</a>
</div>
</div>
<div x-data="selected">
<div class="flex items-center w-full px-4 py-3 cursor-pointer
                                              bg-black justify-between">
<a class="text-barlow-condensed text-base text-white w-[90%]
                                                  font-extrabold uppercase tracking-[0.12rem] no-underline" title="Women&#x27;s" @click="toggle">
Women&#039;s </a>
<span class="bg-plus relative w-4 h-4 bg-cover bg-no-repeat bg-center transition-all duration-300" :class="{
                                                'rotate-[45deg]' : selected,
                                                'rotate-0' : !selected
                                              }" @click="toggle">
<div class="absolute w-12 h-12 -top-4 -left-4"></div>
</span>
</div>

<div class="transition-all duration-[250ms] ease-in max-h-0 overflow-hidden" x-ref="container2" x-bind:style="selected ? 'max-height: ' + $refs.container2.scrollHeight + 'px' : ''">
<a href="https://moonclimbing.com/clothing/womens/tops.html" title="Tops" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Tops </span>
</a>
<a href="https://moonclimbing.com/clothing/womens/legwear.html" title="Legwear" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Legwear </span>
</a>
<a href="https://moonclimbing.com/clothing/womens/accessories.html" title="Accessories" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Accessories </span>
</a>
<a href="https://moonclimbing.com/clothing/womens/women-s-clearance.html" title="Clearance" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Clearance </span>
</a>
<a href="https://moonclimbing.com/clothing/womens.html" title="View&#x20;All" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
View All </span>
</a>
</div>
</div>
<div x-data="selected">
<div class="flex items-center w-full px-4 py-3 cursor-pointer
                                              bg-black justify-between">
<a class="text-barlow-condensed text-base text-white w-[90%]
                                                  font-extrabold uppercase tracking-[0.12rem] no-underline" title="Equipment" @click="toggle">
Equipment </a>
<span class="bg-plus relative w-4 h-4 bg-cover bg-no-repeat bg-center transition-all duration-300" :class="{
                                                'rotate-[45deg]' : selected,
                                                'rotate-0' : !selected
                                              }" @click="toggle">
<div class="absolute w-12 h-12 -top-4 -left-4"></div>
</span>
</div>

<div class="transition-all duration-[250ms] ease-in max-h-0 overflow-hidden" x-ref="container2" x-bind:style="selected ? 'max-height: ' + $refs.container2.scrollHeight + 'px' : ''">
<a href="https://moonclimbing.com/equipment/bouldering-pads.html" title="Crash&#x20;Pads" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Crash Pads </span>
</a>
<a href="https://moonclimbing.com/equipment/packs-and-bags.html" title="Packs&#x20;&amp;&#x20;Bags" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Packs &amp; Bags </span>
</a>
<a href="https://moonclimbing.com/equipment/chalk-bags.html" title="Chalk&#x20;Bags" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Chalk Bags </span>
</a>
<a href="https://moonclimbing.com/equipment/chalk-and-brushes.html" title="Chalk&#x20;&amp;&#x20;Accessories" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Chalk &amp; Accessories </span>
</a>
<a href="https://moonclimbing.com/equipment.html" title="View&#x20;All" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
View All </span>
</a>
</div>
</div>
<div x-data="selected">
<div class="flex items-center w-full px-4 py-3 cursor-pointer
                                              bg-black justify-between">
<a class="text-barlow-condensed text-base text-white w-[90%]
                                                  font-extrabold uppercase tracking-[0.12rem] no-underline" title="Training" @click="toggle">
Training </a>
<span class="bg-plus relative w-4 h-4 bg-cover bg-no-repeat bg-center transition-all duration-300" :class="{
                                                'rotate-[45deg]' : selected,
                                                'rotate-0' : !selected
                                              }" @click="toggle">
<div class="absolute w-12 h-12 -top-4 -left-4"></div>
</span>
</div>

<div class="transition-all duration-[250ms] ease-in max-h-0 overflow-hidden" x-ref="container2" x-bind:style="selected ? 'max-height: ' + $refs.container2.scrollHeight + 'px' : ''">
<a href="https://moonclimbing.com/training/hangboards.html" title="Hangboards" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Hangboards </span>
</a>
<a href="https://moonclimbing.com/training/rungs.html" title="Rungs" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Rungs </span>
</a>
<a href="https://moonclimbing.com/training/training-clearance.html" title="Clearance" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Clearance </span>
</a>
<a href="https://moonclimbing.com/training.html" title="View&#x20;All" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
View All </span>
</a>
</div>
</div>
</div>
</div>
<div class="level-0 pt-0 first:pt-4 pb-5">
<span class="flex items-center transition-transform duration-150 ease-in-out transform pl-4" :class="{
                            '-translate-x-full' : mobilePanelActiveId,
                            'translate-x-0' : !mobilePanelActiveId
                        }" @click="mobilePanelActiveId =
                                mobilePanelActiveId === '1' ?
                                0 : '1'">
<a class="flex items-center cursor-pointer level-0 tracking-[0.12em]
                                  text-barlow-condensed text-lg leading-6 font-extrabold text-white uppercase no-underline">
Explore </a>
<a class="flex content-center justify-center items-center w-8 h-6 cursor-pointer">
<span class="block w-3 h-3 bg-arrow bg-cover bg-no-repeat bg-center"></span>
</a>
</span>
<div class="menu-mobile-categories absolute top-0 right-0 z-10 w-full h-full transition-transform duration-200 ease-in-out
                                translate-x-full transform bg-black max-h-[calc(100vh-72px)] overflow-y-scroll overflow-x-hidden pb-[200px]" :class="{
                                'translate-x-full' : mobilePanelActiveId !== '1',
                                'translate-x-0' : mobilePanelActiveId === '1',
                            }">
<a class="flex items-center pl-4 py-4 cursor-pointer bg-black no-underline tracking-[0.12rem]
                                    text-white text-barlow-condensed text-lg leading-6 font-extrabold uppercase" @click="mobilePanelActiveId = 0">
<span class="block w-3 h-3 bg-arrow bg-cover bg-no-repeat bg-center rotate-180"></span>
<span class="ml-4 leading-6">
back </span>
</a>
<div x-data="selected">
<div class="flex items-center w-full px-4 py-3 cursor-pointer
                                              bg-black justify-between">
<a class="text-barlow-condensed text-base text-white w-[90%]
                                                  font-extrabold uppercase tracking-[0.12rem] no-underline" title="Moonboard" @click="toggle">
Moonboard </a>
<span class="bg-plus relative w-4 h-4 bg-cover bg-no-repeat bg-center transition-all duration-300" :class="{
                                                'rotate-[45deg]' : selected,
                                                'rotate-0' : !selected
                                              }" @click="toggle">
<div class="absolute w-12 h-12 -top-4 -left-4"></div>
</span>
</div>

<div class="transition-all duration-[250ms] ease-in max-h-0 overflow-hidden" x-ref="container2" x-bind:style="selected ? 'max-height: ' + $refs.container2.scrollHeight + 'px' : ''">
<a href="/what-is-moonboard" title="What&#x20;Is&#x20;The&#x20;Moonboard" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
What Is The Moonboard </span>
</a>
<a href="/choose-your-moonboard" title="Choose&#x20;Your&#x20;Moonboard" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Choose Your Moonboard </span>
</a>
<a href="/build-your-moonboard" title="Build&#x20;Your&#x20;Moonboard" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Build Your Moonboard </span>
</a>
<a href="/using-your-moonboard" title="Using&#x20;Your&#x20;Moonboard&#x20;FAQ" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Using Your Moonboard FAQ </span>
</a>
<a href="/using-moonboard-app" title="Using&#x20;Your&#x20;Moonboard&#x20;App" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Using Your Moonboard App </span>
</a>
<a href="https://www.moonboard.com/account/login" title="Moonboard&#x20;Log-In" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Moonboard Log-In </span>
</a>
</div>
</div>
<div x-data="selected">
<div class="flex items-center w-full px-4 py-3 cursor-pointer
                                              bg-black justify-between">
<a class="text-barlow-condensed text-base text-white w-[90%]
                                                  font-extrabold uppercase tracking-[0.12rem] no-underline" title="Team" @click="toggle">
Team </a>
<span class="bg-plus relative w-4 h-4 bg-cover bg-no-repeat bg-center transition-all duration-300" :class="{
                                                'rotate-[45deg]' : selected,
                                                'rotate-0' : !selected
                                              }" @click="toggle">
<div class="absolute w-12 h-12 -top-4 -left-4"></div>
</span>
</div>

<div class="transition-all duration-[250ms] ease-in max-h-0 overflow-hidden" x-ref="container2" x-bind:style="selected ? 'max-height: ' + $refs.container2.scrollHeight + 'px' : ''">
<a href="/athletes" title="Ambassadors" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Ambassadors </span>
</a>
</div>
</div>
<div x-data="selected">
<div class="flex items-center w-full px-4 py-3 cursor-pointer
                                              bg-black justify-between">
<a class="text-barlow-condensed text-base text-white w-[90%]
                                                  font-extrabold uppercase tracking-[0.12rem] no-underline" title="Blog" @click="toggle">
Blog </a>
<span class="bg-plus relative w-4 h-4 bg-cover bg-no-repeat bg-center transition-all duration-300" :class="{
                                                'rotate-[45deg]' : selected,
                                                'rotate-0' : !selected
                                              }" @click="toggle">
<div class="absolute w-12 h-12 -top-4 -left-4"></div>
</span>
</div>

<div class="transition-all duration-[250ms] ease-in max-h-0 overflow-hidden" x-ref="container2" x-bind:style="selected ? 'max-height: ' + $refs.container2.scrollHeight + 'px' : ''">
<a href="/blog" title="Articles" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Articles </span>
</a>
<a href="/News/category/videos" title="Video" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Video </span>
</a>
</div>
</div>
<div x-data="selected">
<div class="flex items-center w-full px-4 py-3 cursor-pointer
                                              bg-black justify-between">
<a class="text-barlow-condensed text-base text-white w-[90%]
                                                  font-extrabold uppercase tracking-[0.12rem] no-underline" title="About&#x20;Us" @click="toggle">
About Us </a>
<span class="bg-plus relative w-4 h-4 bg-cover bg-no-repeat bg-center transition-all duration-300" :class="{
                                                'rotate-[45deg]' : selected,
                                                'rotate-0' : !selected
                                              }" @click="toggle">
<div class="absolute w-12 h-12 -top-4 -left-4"></div>
</span>
</div>

<div class="transition-all duration-[250ms] ease-in max-h-0 overflow-hidden" x-ref="container2" x-bind:style="selected ? 'max-height: ' + $refs.container2.scrollHeight + 'px' : ''">
<a href="/sustainability" title="Sustainability" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
Sustainability </span>
</a>
<a href="/about-moon" title="History" class="flex items-center w-full pb-4 pl-4 cursor-pointer
                                                bg-black no-underline">
<span class="text-sm text-archivo-regular font-normal text-white">
History </span>
</a>
</div>
</div>
</div>
</div>
<div class="menu-mobile-items pl-4 pr-6">
<a href="https://moonclimbing.com/checkout/cart/index/" class="no-underline">
<div class="flex flex-row justify-start items-center gap-[11.5px] pb-[23px] pt-4">
<span class="block w-7 h-7 bg-cart"></span>
<span class="text-barlow-condensed text-lg leading-6 font-extrabold text-white uppercase">
shopping bag </span>
</div>
</a>
<a href="https://moonclimbing.com/wishlist/" class="no-underline">
<div class="flex flex-row justify-start items-center gap-[11.5px] pb-[23px]">
<span class="block w-7 h-7 bg-favorites"></span>
<span class="text-barlow-condensed text-lg leading-6 font-extrabold text-white uppercase">
favorites </span>
</div>
</a>
<a class="no-underline" href="https://moonclimbing.com/customer/account/create/">
<div class="flex flex-row justify-start items-center gap-[11.5px]">
<span class="block w-7 h-7 bg-profile"></span>
<span class="text-barlow-condensed text-lg leading-6 font-extrabold text-white uppercase">
login / register </span>
</div>
</a>
<div class="menu-mobile-storeSwitcher">
<script>
    function initStoreSwitcher() {
        return {
            open: false,
            isLoading: false,
            setIsLoading() {
                if (this.isLoading) {
                    return;
                };

                this.isLoading = true;
                let loader = document.createElement('div');
                loader.setAttribute('x-data', '{isLoading: true}');
                loader.innerHTML = `<div class="flex flex-row justify-center items-center w-full h-full fixed select-none z-50"
     style="left: 50%;top: 50%;transform: translateX(-50%) translateY(-50%);background: rgba(255,255,255,0.7);"
     x-show="isLoading"
     x-transition:enter="ease-out duration-200"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="ease-in duration-200"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0">
    <!-- By Sam Herbert (@sherb), for everyone. More @ http://goo.gl/7AJzbL -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 57 57" stroke="currentColor" class="text-primary" width="57" height="57">
    <g fill="none" fill-rule="evenodd">
        <g transform="translate(1 1)" stroke-width="2">
            <circle cx="5" cy="50" r="5">
                <animate attributeName="cy" begin="0s" dur="2.2s" values="50;5;50;50" calcMode="linear" repeatCount="indefinite"/>
                <animate attributeName="cx" begin="0s" dur="2.2s" values="5;27;49;5" calcMode="linear" repeatCount="indefinite"/>
            </circle>
            <circle cx="27" cy="5" r="5">
                <animate attributeName="cy" begin="0s" dur="2.2s" from="5" to="5" values="5;50;50;5" calcMode="linear" repeatCount="indefinite"/>
                <animate attributeName="cx" begin="0s" dur="2.2s" from="27" to="27" values="27;49;5;27" calcMode="linear" repeatCount="indefinite"/>
            </circle>
            <circle cx="49" cy="50" r="5">
                <animate attributeName="cy" begin="0s" dur="2.2s" values="50;50;5;50" calcMode="linear" repeatCount="indefinite"/>
                <animate attributeName="cx" from="49" to="49" begin="0s" dur="2.2s" values="49;5;27;49" calcMode="linear" repeatCount="indefinite"/>
            </circle>
        </g>
    </g>
</svg>
    <div class="ml-10 text-primary text-xl">
        Loading...    </div>
</div>
`;
                loader.firstChild.style.zIndex = 999999;
                document.getElementById('maincontent').appendChild(loader);
                
            }
        }
    }
</script>
<div x-data="initStoreSwitcher()" class="switcher">
<div class="relative flex flex-col text-left xl:h-[104px] w-[89px] button-container">
<div>
<button @click.prevent="open = !open" @click.outside="open = false" @keydown.window.escape="open=false" type="button" class="inline-flex justify-center w-full bg-transparent focus:outline-none my-[14px] px-2" aria-haspopup="true" aria-expanded="true">
<span class="flex">
<img src="https://moonclimbing.com/static/version1725881161/frontend/Moon/hyva/en_GB/images/flag-uk.svg" alt="UK shop" class="mr-2" />
<span>UK shop</span>
</span>
</button>
</div>
<nav x-cloak x-show="open" class="w-[100%] z-20 p-3 overflow-auto origin-top-left  bg-gray-lighter">
<div role="menu" aria-orientation="vertical" aria-labelledby="options-menu">
<a href="https://eu.moonclimbing.com/" class="no-underline text-inherit" @click="setIsLoading()">
<span class="flex">
<img src="https://moonclimbing.com/static/version1725881161/frontend/Moon/hyva/en_GB/images/flag-eu.svg" alt="EU shop" class="mr-2" />
<span>EU shop</span>
</span>
</a>
</div>
</nav>
</div>
</div>
</div>
</div>
</nav>
</div>
<div x-cloak x-show="open" class="menu-mobile-bg absolute top-0 left-0 -z-0 w-screen h-screen transition-all duration-75">
</div>
</div>
<script>
    'use strict';

    const initMenuMobile_66e099132dc8f = () => {
        return {
            mobilePanelActiveId: null,
            open: false,
            setActiveMenu(menuNode) {
                Array.from(menuNode.querySelectorAll('a')).filter(link => {
                    return link.href === window.location.href.split('?')[0];
                }).map(item => {
                    item.classList.add('underline');
                    item.closest('div.level-0') &&
                    item.closest('div.level-0').querySelector('a.level-0').classList.add('underline');
                });
            },
            enableBodyScroll() {
                if (this.open) {
                    document.body.style.overflow = 'visible';
                    document.documentElement.style.overflow = 'visible';
                    this.open = false;
                }
            }
        }
    }
</script>
<a x-show="!searchOpen" class="order-3 sm:order-3 hidden md:inline-block no-underline
            md:order-6 pb-2 sm:w-auto sm:pb-0 px-8 md:pl-0 md:pr-5
            lg:pr-8 2xl:pr-12 hover:opacity-90 transition-opacity duration-700" href="https://moonclimbing.com/wishlist/">
<span class="block w-7 h-7 bg-favorites"></span>
<span x-text="wishlistCounter" class="relative top-[-18px]  left-[22px]  hidden h-4 w-4
                    flex justify-center items-center -mt-5 -mr-4 text-xs font-extrabold
                    leading-none text-barlow-condensed text-center text-black uppercase transform -translate-x-1
                    translate-y-1/2 rounded-full bg-success" :class="{
                    'hidden': !wishlistCounter,
                    'block': wishlistCounter }"></span>
</a>

<div x-show="!searchOpen" class="relative inline-block md:pr-5 lg:pr-8 2xl:pr-12
            ml-1 sm:ml-3 order-4 md:order-5 pr-6 customer-menu">
<a href="https&#x3A;&#x2F;&#x2F;moonclimbing.com&#x2F;customer&#x2F;account&#x2F;" id="customer-menu" class="block hover:opacity-90 transition-opacity duration-700" @click.prevent="customerOpen = true" :aria-expanded="customerOpen ? 'true' : 'false'" aria-label="My&#x20;Account">
<span class="block w-7 h-7 bg-profile"></span>
</a>
<nav class="absolute left-[-78px] sm:left-[-110px] md:left-[-13px] z-20 w-40 py-3 mt-2 -mr-4 px-4 origin-top-right
               sm:w-48 lg:mt-3 bg-container-lighter" x-cloak x-show="customerOpen" @click.outside="customerOpen = false" aria-labelledby="customer-menu">
<a class="block py-1.5 lg:py-1.5 hover:bg-gray-100" onclick="hyva.setCookie && hyva.setCookie(
                   'login_redirect',
                   window.location.href,
                   1
               )" href="https://moonclimbing.com/customer/account/index/">
Sign In </a>
<a class="block py-1.5 lg:py-1.5 hover:bg-gray-100" href="https://moonclimbing.com/customer/account/create/">
Create an Account </a>
</nav>
</div>

<a x-data="handleEmptyCart()" x-show="!searchOpen" id="menu-cart-icon" @click.prevent.stop="cart.summary_count > 0 ? $dispatch('toggle-cart',{}) : showMessageIfEmpty()" class="relative order-5 md:order-7 md:pr-5 lg:pr-8 2xl:pr-12 inline-block ml-1 no-underline hover:opacity-90 transition-opacity duration-700" href="https://moonclimbing.com/checkout/cart/index/">
<span class="sr-only label">
Cart </span>
<span class="block w-7 h-7 bg-cart"></span>
<span x-text="cart.summary_count" class="relative top-[-18px]  left-[18px]  hidden h-4 w-4
                    flex justify-center items-center -mt-5 -mr-4 text-xs font-extrabold
                    leading-none text-barlow-condensed text-center text-black uppercase transform -translate-x-1
                    translate-y-1/2 rounded-full bg-success" :class="{
                    'hidden': !cart.summary_count,
                    'block': cart.summary_count }"></span>
</a>

<div class="z-10 w-full order-4" id="search-content" :class="{ 'block': searchOpen}" x-cloak x-show="searchOpen" @click.outside="searchOpen = false">
<div class="text-black flex flex-col-reverse md:grid md:grid-cols-search " x-data="initMiniSearch()">
<form class="form minisearch flex justify-center" id="search_mini_form" x-ref="form" @submit.prevent="search()" action="https://moonclimbing.com/catalogsearch/result/" method="get">
<label class="hidden" for="search" data-role="minisearch-label">
<span>Search</span>
</label>
<div class="input-wrapper w-full flex items-center justify-center relative mt-3 md:mt-0">
<input id="search" x-ref="searchInput" x-model="searchVal" type="search" autocomplete="off" name="q" value placeholder="Search&#x20;entire&#x20;store" maxlength="128" class=" w-full md:w-[422px] lg:w-[620px] h-[56px] lg:h-full py-5 text-white text-barlow-condensed uppercase border-0
                    text-lg leading-6 bg-[#1d1d1d] tracking-[0.12em] transition appearance-none px-6 md:px-8
                    focus-visible:!appearance-none focus-visible:!shadow-none  focus-visible:!outline-none
                    focus:!appearance-none focus:!shadow-none  focus:!outline-none focus:ring-0
                    focus-within:!appearance-none focus-within:!shadow-none  focus-within:!outline-none" @focus.once="suggest" @input.debounce.300="suggest" @keydown.arrow-down.prevent="focusElement($root.querySelector('[tabindex]'))" x-on:keydown.enter="suggestions.length === 0 ? $event.preventDefault() : null" />
<div class="icon w-7 h-7 absolute right-6 md:relative md:right-14">
<span class="inline-block relative bg-search w-full h-full hover:cursor-pointer" @click="searchVal.length > 0 && search" x-show="!searchVal"></span>
<span class="inline-block relative bg-close w-3 h-3 hover:cursor-pointer" @click="searchVal.length > 0 && reset" x-show="searchVal"></span>
</div>
</div>
<template x-if="suggestions.length > 0">
<div class="w-screen bg-black absolute right-0 transition-colors duration-700 appearance-none
                flex flex-col md:grid md:grid-cols-[auto] pl-12 md:pl-10 md:pr-8 2xl:pl-[68px] 2xl:pr-[60px]
                mt-[84px] md:mt-16 2xl:mt-[88px] pb-10 justify-center">
<template x-for="suggestion in suggestions">
<div class="flex justify-start pt-5 hover:cursor-pointer hover:opacity-80
                            md:pl-2 md:w-[422px] lg:w-[620px] text-archivo-bold font-bold text-md  text-white" tabindex="0" @click="search(suggestion.title)" @keydown.enter="search(suggestion.title)" @keydown.enter.prevent @keydown.arrow-up.prevent="
                            focusElement($event.target.previousElementSibling) || $refs.searchInput.focus()
                        " @keydown.arrow-down.prevent="focusElement($event.target.nextElementSibling)">
<span x-text="suggestion.title" class="mr-1"></span>
(<span x-text="suggestion.num_results"></span>)
</div>
</template>
</div>
</template>
<template x-if="suggestions.length === 0 && searchVal.length > 3">
<div class="w-screen bg-black absolute right-0 transition-colors duration-700 appearance-none
                        flex flex-col md:grid md:grid-cols-[auto] pl-12 md:pl-10 md:pr-8 2xl:pl-[68px] 2xl:pr-[60px]
                        mt-[84px] md:mt-16 2xl:mt-[88px] pb-10 justify-center">
<div class="flex justify-start pt-5 hover:cursor-pointer hover:opacity-80
                        md:pl-2 md:w-[422px] lg:w-[620px] text-archivo-bold font-bold text-md  text-white">
<span>No Results Found</span>
</div>
</div>
</template>
<button type="submit" title="Search" class="action search sr-only" aria-label="Search">
Search </button>
</form>
<button @click="searchOpen = false" class="text-white text-barlow-condensed text-sm tracking-[0.12em] uppercase text-right lg:text-center lg:absolute
                lg:top-7 lg:right-8
                2xl:top-[44px] 2xl:right-[60px]">
cancel
</button>
</div>
<script>
    'use strict';

    function initMiniSearch() {
        return {
            minSearchLength: 3,
            suggestions: [],
            searchVal: '',
            authToken: 'koirdjr60x45p6pxx0bgxxwxo5olbqco',
            currentStoreCode: 'default' || 'default',
            suggest() {
                const search = this.$refs.searchInput;
                if (search.value.length >= this.minSearchLength) {
                    search.setCustomValidity('');
                    search.reportValidity();
                    this.fetchSuggestions(search.value);
                } else {
                    this.suggestions = [];
                }
            },
            fetchSuggestions(term) {
                let searchCriteriaParams = {
                    "searchCriteria[filter_groups][0][filters][0][value]": `%${term}%`,
                    "searchCriteria[filter_groups][0][filters][0][condition_type]": "like",
                    "searchCriteria[filter_groups][0][filters][0][field]": "name",
                    // check if the child configurable products are visible in search
                    "searchCriteria[filter_groups][1][filters][0][field]": "visibility",
                    "searchCriteria[filter_groups][1][filters][0][value]": "4",
                    "searchCriteria[filter_groups][1][filters][0][condition_type]": "eq",
                    "fields": "items[id,name,status]",
                    "searchCriteria[pageSize]": 8
                };

                fetch(
                    window.BASE_URL + `rest/${this.currentStoreCode}/V1/products?` + new URLSearchParams(searchCriteriaParams),
                    {
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${this.authToken}`
                        }
                    }
                )
                .then(response => response.json())
                .then(result => {
                    if (result.items && result.items.length >= 1) {
                        let items = result.items.filter((item) => item.status === 1);
                        this.suggestions = this.getEachItemCount(items);
                    }
                    else {
                        this.suggestions = []
                    }
                });
            },
            getEachItemCount(items) {
                const allItemNames = items.map((item) => item.name || '');
                const uniqueItemNames = [...new Set(allItemNames)];
                const itemsToShow = 5;
                let itemsWithCount = [];

                for(let item of uniqueItemNames) {
                    let itemCount = allItemNames.filter((currentItem) => currentItem == item).length;

                    itemsWithCount.push({
                        'title': item,
                        'num_results': itemCount
                    });

                    if(itemsWithCount.length > itemsToShow){
                        itemsWithCount = itemsWithCount.slice(0, itemsToShow - 1);
                    }
                }

                return itemsWithCount;
            },
            search(term) {
                const search = this.$refs.searchInput;
                term = term || search.value;

                if (term.toLowerCase() === 'reset') {
                    this.reset()
                    return;
                } else if (term.toLowerCase() === 'cancel') {
                    this.reset();
                    this.$dispatch('close-search');
                    return;
                }

                if (term.length < this.minSearchLength) {
                    search.setCustomValidity('Minimum\u0020Search\u0020query\u0020length\u0020is\u00203');
                    search.reportValidity();
                } else {
                    search.setCustomValidity('');
                    search.value = term;
                    this.$refs.form.submit();
                }
            },
            focusElement(element) {
                if (element && element.nodeName === "DIV") {
                    element.focus();
                    return true;
                } else {
                    return false;
                }
            },
            reset () {
                this.searchVal = ''
                this.suggestions = []
            }
        }
    }
</script>
</div>
</div>

<script>
    function initCartDrawer() {
        return {
            open: false,
            isLoading: false,
            cart: {},
            maxItemsToDisplay: 10,
            itemsCount: 0,
            totalCartAmount: 0,
            totalsOpen: false,
            isFreeShippingAllowed: true,
            prevScrollPosition: window.pageYOffset,
            freeShippingLimit: '35',
            eligibleMessage: 'You\u0027re\u0020eligible\u0020for\u0020Free\u0020Shipping\u0020\u0028exclusions\u0020apply\u0029',
            ineligibleMessage: 'You\u0020are\u0020\u00251\u0020away\u0020from\u0020Free\u0020Shipping',

            getData(data) {
                if (data.cart) {
                    this.cart = data.cart;
                    this.itemsCount = data.cart.items && data.cart.items.length || 0;
                    this.totalCartAmount = this.cart.subtotalAmount;
                    this.setCartItems();
                }
                this.isLoading = false;
            },
            cartItems: [],
            getItemCountTitle() {
                return hyva.strf('(%0)',this.itemsCount)
            },
            setCartItems() {
                this.cartItems = this.cart.items && this.cart.items.sort((a, b) => b.item_id - a.item_id) || [];

                if (this.maxItemsToDisplay > 0) {
                    this.cartItems = this.cartItems.slice(0, parseInt(this.maxItemsToDisplay, 10));
                }
            },
            incrementQty(item) {
                item.qty++;
                this.updateItemQty(item);
            },
            decrementQty(item) {
                if (item.qty <= 1) {
                    return;
                }
                item.qty--;
                this.updateItemQty(item);
            },
            updateItemQty(item) {
                this.isLoading = true;

                const formKey = hyva.getFormKey();
                const postUrl = BASE_URL + 'checkout/sidebar/updateItemQty/';

                fetch(postUrl, {
                    "headers": {
                        "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    },
                    "body": "form_key=" + formKey + "&item_id=" + item.item_id + "&item_qty=" + item.qty,
                    "method": "POST",
                    "mode": "cors",
                    "credentials": "include"
                }).then(response => {
                    if (response.redirected) {
                        window.location.href = response.url;
                    } else if (response.ok) {
                        return response.json();
                    } else {
                        window.dispatchMessages && window.dispatchMessages([{
                            type: 'warning',
                            text: 'Could\u0020not\u0020update\u0020item\u0020quantity.'
                        }]);
                        this.isLoading = false;
                    }
                }).then(result => {
                    window.dispatchMessages && window.dispatchMessages([{
                        type: result.success ? 'success' : 'error',
                        text: result.success ?
                            'You\u0020updated\u0020the\u0020item\u0020quantity.' :
                            result.error_message
                    }], result.success ? 5000 : 0)
                    window.dispatchEvent(new CustomEvent('reload-customer-section-data'));
                });
            },
            deleteItemFromCart(itemId) {
                this.isLoading = true;

                const formKey = hyva.getFormKey();
                const postUrl = BASE_URL + 'checkout/sidebar/removeItem/';

                fetch(postUrl, {
                    "headers": {
                        "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    },
                    "body": "form_key=" + formKey + "&item_id=" + itemId,
                    "method": "POST",
                    "mode": "cors",
                    "credentials": "include"
                }).then(response => {
                    if (response.redirected) {
                        window.location.href = response.url;
                    } else if (response.ok) {
                        return response.json();
                    } else {
                        window.dispatchMessages && window.dispatchMessages([{
                            type: 'warning',
                            text: 'Could\u0020not\u0020remove\u0020item\u0020from\u0020quote.'
                        }]);
                        this.isLoading = false;
                    }
                }).then(result => {
                    window.dispatchMessages && window.dispatchMessages([{
                        type: result.success ? 'success' : 'error',
                        text: result.success
                            ? 'You\u0020removed\u0020the\u0020item.'
                            : result.error_message
                    }], result.success ? 5000 : 0)
                    hyva.setCookie('mage-cache-sessid', '', -1, true);
                    window.dispatchEvent(new CustomEvent('reload-customer-section-data'));
                });
            },
            addItemToWishlist(itemId) {
                return
            },
            handleScroll() {
                var currentScrollPosition = window.pageYOffset;
                const cartDrawer = document.getElementById("cart-drawer");

                /* Moving Down */
                if (this.prevScrollPosition <= currentScrollPosition) {
                    cartDrawer.classList.remove("top-0");
                    cartDrawer.classList.add("top-[77px]","2xl:top-[111px]");
                }
                /* Moving up */
                else {
                    cartDrawer.classList.remove("top-0"); /* Ensure it's not gonna be duplicated */
                    cartDrawer.classList.remove("top-[77px]","2xl:top-[111px]");
                    cartDrawer.classList.add("top-0");
                }
                this.prevScrollPosition = currentScrollPosition;
            },
            countTheTax() {
                const cartTotalWithoutTax = Number(this.cart.subtotal_excl_tax.replace(/[^0-9\.]+/g, ""));

                return (this.cart.subtotalAmount - cartTotalWithoutTax).toFixed(2);
            },
            interfixMiniCartImage(url) {
                const key = '/media/';
                let optimizedUrl = '';

                if (url.includes(key)) {
                    optimizedUrl = url.replace(key, '/cdn-cgi/image/f=auto/media/');

                    return optimizedUrl;
                }

                return url;
            }
        }
    }
</script>
<section id="cart-drawer" x-data="initCartDrawer()" @scroll.window="handleScroll()" @private-content-loaded.window="getData($event.detail.data)" @toggle-cart.window="open=true" @keydown.window.escape="open=false" class="absolute w-[100vw] md:w-[96vw] xl:w-[97vw] 2xl:w-[96.5vw] right-0 top-0">
<template x-if="cart && cart.summary_count">
<div role="dialog" aria-labelledby="cart-drawer-title" aria-modal="true" @click.outside="open=false" class="relative md:justify-end inset-y-0 right-0 z-30 flex max-w-full">
<div class="backdrop" x-show="open" x-transition:enter="ease-in-out duration-500" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in-out duration-500" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" @click="open=false" aria-label="Close panel">
</div>
<div class="relative w-screen md:max-w-sm shadow-2xl" x-show="open" x-transition:enter="transform transition ease-in-out duration-500 sm:duration-700" x-transition:enter-start="translate-x-full" x-transition:enter-end="translate-x-0" x-transition:leave="transform transition ease-in-out duration-500 sm:duration-700" x-transition:leave-start="translate-x-0" x-transition:leave-end="translate-x-full">
<div x-show="open" x-transition:enter="ease-in-out duration-500" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in-out duration-500" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" class="absolute top-0 right-0 flex p-0 m-0 bg-transparent">
<button @click="open=false" aria-label="Close panel" class="px-6 py-5 text-white font-barlow uppercase text-base transition duration-150 ease-in-out tracking-[1.92px] hover:text-gray-lighter">
<span> close </span>
</button>
</div>
<div class="flex flex-col h-[100vh] w-[100vw] md:w-auto pb-6 bg-white shadow-xl">
<header class="p-4 md:px-6 md:py-5 bg-black flex">
<h2 id="cart-drawer-title" class="flex flex-row gap-x-2 text-white font-barlow text-[20px] md:text-[24px] md:leading-6">
Shopping Bag <span class="items-total text-white font-barlow md:text-[24px] md:leading-6 m-0 p-0 flex items-center" x-show="itemsCount > 0" x-text="getItemCountTitle()">
</span>
</h2>
</header>
<template x-if="isFreeShippingAllowed">
<div class="mb-3 px-6 py-3 flex flex-col gap-1 bg-gray-lighter">
<template x-if="totalCartAmount >= freeShippingLimit">
<div class="text-sm" x-text="eligibleMessage">
</div>
</template>
<template x-if="totalCartAmount < freeShippingLimit">
<div class="text-sm" x-text="ineligibleMessage.replace('%1', hyva.formatPrice(freeShippingLimit - totalCartAmount))">
</div>
</template>
<div class="flex items-center gap-2 text-sm font-bold">

<div x-text="hyva.formatPrice(0)"></div>
<div class="flex-1 h-1 bg-gray -skew-x-12">

<div class="h-full bg-black -skew-x-12" :style="'width:' + Math.min((totalCartAmount / freeShippingLimit) * 100, 100) + '%'"></div>
</div>
<div x-text="hyva.formatPrice(freeShippingLimit)"></div>
</div>
</div>
</template>
<div id="discount-container" class="w-full bg-white px-6 pb-6 border-b-2 border-b-gray-lighter">
<div class="cart-discount"><script>
    function initCouponForm() {
        return {
            showCouponForm: 0,
            formData: {},
            init(){
                this.showCouponForm = JSON.parse(hyva.getBrowserStorage().getItem('hyva.showCouponForm'));
                this.formData.coupon_code = this.cart.discountCode;
                this.hasCouponCode = this.cart.discountCode &&  this.cart.discountCode.length > 0 ? true : false
                this.formData.remove = this.cart.discountCode &&  this.cart.discountCode.length > 0 ? 1 : 0
            },
            toggleShowCoupon(){
                this.showCouponForm = !this.showCouponForm;
                hyva.getBrowserStorage().setItem('hyva.showCouponForm', this.showCouponForm);
                this.$nextTick(() => this.$refs.couponInput.select());
            },
            submitForm() {
                let loader = document.createElement('div');
                loader.setAttribute('x-data', '{isLoading: true}');
                loader.innerHTML = `<div class="flex flex-row justify-center items-center w-full h-full fixed select-none z-50"
     style="left: 50%;top: 50%;transform: translateX(-50%) translateY(-50%);background: rgba(255,255,255,0.7);"
     x-show="isLoading"
     x-transition:enter="ease-out duration-200"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="ease-in duration-200"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0">
    <!-- By Sam Herbert (@sherb), for everyone. More @ http://goo.gl/7AJzbL -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 57 57" stroke="currentColor" class="text-primary" width="57" height="57">
    <g fill="none" fill-rule="evenodd">
        <g transform="translate(1 1)" stroke-width="2">
            <circle cx="5" cy="50" r="5">
                <animate attributeName="cy" begin="0s" dur="2.2s" values="50;5;50;50" calcMode="linear" repeatCount="indefinite"/>
                <animate attributeName="cx" begin="0s" dur="2.2s" values="5;27;49;5" calcMode="linear" repeatCount="indefinite"/>
            </circle>
            <circle cx="27" cy="5" r="5">
                <animate attributeName="cy" begin="0s" dur="2.2s" from="5" to="5" values="5;50;50;5" calcMode="linear" repeatCount="indefinite"/>
                <animate attributeName="cx" begin="0s" dur="2.2s" from="27" to="27" values="27;49;5;27" calcMode="linear" repeatCount="indefinite"/>
            </circle>
            <circle cx="49" cy="50" r="5">
                <animate attributeName="cy" begin="0s" dur="2.2s" values="50;50;5;50" calcMode="linear" repeatCount="indefinite"/>
                <animate attributeName="cx" from="49" to="49" begin="0s" dur="2.2s" values="49;5;27;49" calcMode="linear" repeatCount="indefinite"/>
            </circle>
        </g>
    </g>
</svg>
    <div class="ml-10 text-primary text-xl">
        Loading...    </div>
</div>
`;
                document.getElementById('maincontent').appendChild(loader);
                
                if (!this.$event.target.action) {
                    return;
                }

                const action = this.$event.target.action;
                const formData = new FormData(this.$event.target);

                if (!formData.uenc) {
                    formData.append('uenc', hyva.getUenc());
                }

                formData.append('form_key', hyva.getFormKey());
                window.fetch(action, {
                    method: 'POST',
                    body: formData
                }).then((result) => {
                    return result.text()
                }).then((content) => {
                    if (formData.get('remove') === '1' || hyva.getCookie('mage-messages').includes('error') ) {
                        this.formData.remove = 0
                        this.formData.coupon_code = "";
                        this.hasCouponCode = false
                    } else {
                        this.formData.coupon_code = formData.get("coupon_code");
                        this.hasCouponCode = true
                        this.formData.remove = 1
                    }

                    loader.remove()
                    hyva.replaceDomElement('#messages', content)
                }).catch((error) => {
                    loader.remove()
                    console.error(error);
                    typeof window.dispatchMessages !== "undefined" && window.dispatchMessages(
                        [{
                            type: "error",
                            text: "Something\u0020went\u0020wrong.\u0020Please\u0020try\u0020again."
                        }], 10000
                    );
                })
            }
        }
    }
</script>
<div class="coupon-form pt-6" x-data="initCouponForm()">
<div class="mx-auto md:mx-0">
<div class="text-left">
<span @click="toggleShowCoupon()" class="flex justify-between cursor-pointer text-primary-lighter select-none whitespace-nowrap" id="discount-form-toggle">
<span class="text-black text-[16px] leading-[24px] text-barlow-condensed font-extrabold uppercase tracking-[.12em]">
Do you have discount code? </span>
<span class="w-4 h-4 bg-plus-black bg-no-repeat" x-show="!showCouponForm"></span>
<span class="w-4 h-4 bg-close-black bg-no-repeat" x-show="showCouponForm"></span>
</span>
</div>
<div>
<form id="discount-coupon-form" class="my-4" x-show="showCouponForm" x-cloak action="https://moonclimbing.com/checkout/cart/couponPost/" method="post" @submit.prevent="submitForm">
<input name="form_key" type="hidden" value="Xb1LGcYHPTcpadmV" />
<div class="fieldset coupon">
<input type="hidden" name="remove" id="remove-coupon" x-model="formData.remove" />
<div class="flex flex-col gap-1.5 justify-center md:justify-start">
<label for="coupon_code" class="label sr-only">
Enter discount code </label>
<div class="control field mb-3 flex-1 form-input-wrapper w-full rounded-none">
<input type="text" class="form-input input-account-info input-box input-text max-w-full rounded-none text-archivo-regular font-normal" style="text-transform:none;" id="coupon_code" name="coupon_code" x-model="formData.coupon_code" x-ref="couponInput" placeholder="Enter&#x20;discount&#x20;code" :disabled="hasCouponCode" :required="!hasCouponCode" />
</div>
<div>
<template x-if="!hasCouponCode">
<div class="primary">
<button class="btn-dark btn-secondary-dark w-full" type="submit" value="Apply&#x20;Code">
<span>Apply Code</span>
</button>
</div>
</template>
<template x-if="hasCouponCode">
<div class="primary">
<button type="submit" class="btn-dark btn-secondary-dark w-full" value="Cancel&#x20;Coupon">
Cancel Coupon </button>
</div>
</template>
</div>
</div>
</div>
</form>
</div>
</div>
</div>
</div> </div>
<div class="minicart-container overflow-y-auto p-4 md:p-6 gap-y-6 md:gap-y-8">
<template x-for="item in cartItems">
<div class="flex flex-row items-start transition duration-150 ease-in-out p-0 m-0 mb-8">
<a class="w-[147px]" :href="item.product_url">
<img :src="interfixMiniCartImage(item.product_image.src)" :width="item.product_image.width" :height="item.product_image.height" loading="lazy" class="w-[102px] h-[102px] aspect-square mr-3" :alt="item.product_image.alt" />
</a>
<div class="w-full flex flex-col gap-y-1 ml-2.5">
<p class="minicart-item flex justify-between items-center">
<a class="text-base text-black font-archivo font-bold md:text-[18px] no-underline" :href="item.product_url" x-html="item.product_name"></a>
<span class="hidden md:flex !text-[20px] leading-7 text-black font-archivo font-bold" x-html="item.product_price"></span>
</p>
<template x-for="option in item.options">
<div class="p-0 m-0 flex flex-row gap-x-2">
<p class="text-base font-archivo" x-text="option.label + ':'"></p>
<p class="text-base font-archivo font-bold" x-html="option.value"></p>
</div>
</template>
<p class="flex md:hidden !text-[20px] leading-7 text-black font-archivo font-bold m-0 p-0" x-html="item.product_price"></p>
<div class="flex items-center mt-2 md:mt-[14px] w-full mx-0 mb-0 p-0 justify-between">
<div class="flex flex-row items-center text-[20px] leading-7 text-black font-archivo font-bold m-0 p-0 gap-x-1">
<button type="button" :disabled="item.qty <= 1" @click="decrementQty(item)" class="!w-[32px] !h-[32px] flex text-center items-center justify-center bg-gray-lighter">
-
</button>
<input @change="updateItemQty(item)" x-model="item.qty" :disabled="item.quantity_management" name="qty" min="1" max="9999" title="Qty" class="!w-[32px] !h-[32px] flex text-center items-center justify-center bg-transparent opacity-100" />
<button type="button" :disabled="item.qty >= 9999" @click="incrementQty(item)" class="!w-[32px] !h-[32px] flex text-center items-center justify-center bg-gray-lighter">
+
</button>
</div>
<div class="flex flex-row items-center m-0 p-0 gap-x-6">
<button class="flex !w-[24px] !h-[24px] !md:w-[28px] !md:h-[28px] p-0 m-0" @click="deleteItemFromCart(item.item_id)">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 28 28" fill="none" class="w-6 h-6 md:h-7 md:w-7">
<path fill-rule="evenodd" clip-rule="evenodd" d="M21.875 3.5H6.125V5.6875H3.5V7.875H6.125V24.5H21.875V7.875H24.5V5.6875H21.875V3.5ZM21.875 5.6875V7.875H6.125V5.6875H21.875ZM9.625 10.5L9.625 21.875H11.8125V10.5H9.625ZM16.1875 21.875L16.1875 10.5H18.375L18.375 21.875H16.1875Z" fill="#0F0F0F" />
</svg>
</button>
<button class="flex md:hidden !w-[24px] !h-[24px] !md:w-[28px] !md:h-[28px] p-0 m-0" @click="addItemToWishlist(item.item_id)">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 5.5562439 4.9609375" version="1.1" id="svg5" xml:space="preserve" class="w-6 h-6 md:h-7 md:w-7">
<defs id="defs2">
<mask id="mask0_14402_17018" maskUnits="userSpaceOnUse" x="0" y="0" width="22" height="20">
<path fill-rule="evenodd" clip-rule="evenodd" d="M 7.99988,0.623474 13.6249,6.24847 14.7499,5.12347 12.1226,2.49619 14,0.618774 h 5.25 L 21.5,4.36877 v 4.5 L 11,19.3688 0.5,8.86877 v -4.5 L 2.75,0.618774 H 8 l 0.00229,0.002289 z" fill="#0f0f0f" id="path35" />
</mask>
<clipPath clipPathUnits="userSpaceOnUse" id="clipPath254">
<g id="g258" transform="matrix(3.7795276,0,0,3.7795276,-3257.4362,1295.8584)">
<rect width="84.666664" height="1816.6292" fill="#ffffff" id="rect256" x="830.37793" y="-1580.5834" style="stroke-width:0.264583" />
</g>
</clipPath>
</defs>
<path style="fill:#cccccc;stroke-width:0.264583;fill-opacity:1" d="M 2.7781177,4.9609374 5.5562475,2.1777153 V 0.99237596 L 4.9595195,5.5e-8 H 3.5672835 L 3.0751437,0.49673026 3.7702835,1.1918648 3.4726272,1.489521 1.9835071,5.5e-8 H 0.5951489 L 0.0011864,0.99020226 -3.6017578e-6,2.1838275 Z" id="path295" />
</svg>
</button>
<a class="flex !w-[24px] !h-[24px] !md:w-[28px] !md:h-[28px] p-0 m-0" :href="item.product_url">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 28 28" fill="none" class="w-6 h-6 md:h-7 md:w-7">
<g id="edit">
<path id="eidt" fill-rule="evenodd" clip-rule="evenodd" d="M18.1825 6.65887L21.3412 3.50012L24.5 6.65887L21.3412 9.81762L18.1825 6.65887ZM7.875 16.9662L17.3075 7.53387L20.4662 10.6926L11.0338 20.125H7.88375V16.9662H7.875ZM3.5 7.00012H12.25V9.18762H5.6875V22.3126H18.8125V15.7501H21V24.5001H3.5V7.00012Z" fill="#0F0F0F" />
</g>
</svg>
</a>
</div>
</div>
</div>
</div>
</template>
</div>
<div class="relative flex flex-col p-4 pt-5 md:px-6 md:pb-6 bg-gray-lighter gap-y-3">
<div class="w-full flex flex-col justify-between m-0 p-0 md:mb-2">
<div class="flex flex-row w-full justify-between items-center">
<span class="m-0 p-0 text-[18px] font-archivo">Order Total: </span>
<span class="flex flex-row justify-between items-center gap-x-4 text-[20px] leading-7 font-archivo font-bold">
<span class="cart-subtotal m-0 p-0">
<span class="price" x-text="Number(Number(cart.subtotalAmount)-Number(cart.discountAmount)).toFixed(2)"></span>
</span>
<span class="m-0 p-0" @click="totalsOpen = !totalsOpen" :class="{ 'rotate-45' : totalsOpen}">+</span>
</span>
</div>
<div x-show="totalsOpen" class="w-full flex flex-col justify-between">
<div class="flex flex-row w-full justify-between items-center">
<span class="m-0 p-0 text-base font-archivo">Subtotal excl. tax: </span>
<span class="flex flex-row justify-between items-center gap-x-4 text-base font-archivo font-bold" x-html="cart.subtotal_excl_tax">
</span>
</div>
<div class="flex flex-row w-full justify-between items-center">
<span class="m-0 p-0 text-base font-archivo">Tax: </span>
<span class="flex flex-row justify-between items-center gap-x-4 text-base font-archivo font-bold" x-text="hyva.formatPrice(countTheTax())">
</span>
</div>
<template x-if="cart.discountCode.length > 0">
<div class="flex flex-row w-full justify-between items-center">
<span class="m-0 p-0 text-base font-archivo" x-text="`Discount (${cart.discountCode})`"></span>
<span class="flex flex-row justify-between items-center gap-x-4 text-base font-archivo font-bold">
<span class="price" x-text="`-${Number(cart.discountAmount).toFixed(2)}`"></span>
</span>
</div>
</template>
</div>
</div>
<a @click.prevent.stop="$dispatch('toggle-authentication',
                            {url: 'https://moonclimbing.com/checkout/'});" href="https://moonclimbing.com/checkout/" class="w-full flex text-white bg-black text-[20px] leading-6 font-extrabold font-barlow
                                tracking-[2.4px] uppercase text-center items-center justify-center py-4">
Checkout </a>
<a href="https://moonclimbing.com/checkout/cart/" class="w-full flex text-black bg-transparent border-black border-2 text-[20px]
                                leading-6 font-extrabold font-barlow tracking-[2.4px] uppercase text-center items-center justify-center py-4">
View Cart </a>
<div id="braintree-applepay-mini-cart-1686440452147680752" data-mage-init="&#x7B;&quot;PayPal_Braintree&#x5C;&#x2F;js&#x5C;&#x2F;applepay&#x5C;&#x2F;implementations&#x5C;&#x2F;shortcut&quot;&#x3A;&#x7B;&quot;id&quot;&#x3A;&quot;braintree-applepay-mini-cart-1686440452147680752&quot;,&quot;clientToken&quot;&#x3A;&quot;eyJ2ZXJzaW9uIjoyLCJhdXRob3JpemF0aW9uRmluZ2VycHJpbnQiOiJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpGVXpJMU5pSXNJbXRwWkNJNklqSXdNVGd3TkRJMk1UWXRjSEp2WkhWamRHbHZiaUlzSW1semN5STZJbWgwZEhCek9pOHZZWEJwTG1KeVlXbHVkSEpsWldkaGRHVjNZWGt1WTI5dEluMC5leUpsZUhBaU9qRTNNall3TmpVME16UXNJbXAwYVNJNklqVmxNMlV5WXpsa0xXVXpZell0TkRabU1DMWlNR0U0TFRjMk16RTNaVEpsWTJReE1TSXNJbk4xWWlJNklqSnJZbk0xWWpONmRuTm5lWFl6Ym1jaUxDSnBjM01pT2lKb2RIUndjem92TDJGd2FTNWljbUZwYm5SeVpXVm5ZWFJsZDJGNUxtTnZiU0lzSW0xbGNtTm9ZVzUwSWpwN0luQjFZbXhwWTE5cFpDSTZJakpyWW5NMVlqTjZkbk5uZVhZemJtY2lMQ0oyWlhKcFpubGZZMkZ5WkY5aWVWOWtaV1poZFd4MElqcDBjblZsZlN3aWNtbG5hSFJ6SWpwYkltMWhibUZuWlY5MllYVnNkQ0pkTENKelkyOXdaU0k2V3lKQ2NtRnBiblJ5WldVNlZtRjFiSFFpWFN3aWIzQjBhVzl1Y3lJNmV5SnRaWEpqYUdGdWRGOWhZMk52ZFc1MFgybGtJam9pYlc5dmJtTnNhVzFpYVc1blIwSlFJbjE5Li1iQTRCVDIxTldodFNEMmU5c1duNTdnRkdORm05ak9SS2xNVjdrVU1WWmhhb2t2RmRBQnRRMUF2NkE1X2dkb254Y0FRa1lPbk93V0JqTGwwQmgzS213IiwiY29uZmlnVXJsIjoiaHR0cHM6Ly9hcGkuYnJhaW50cmVlZ2F0ZXdheS5jb206NDQzL21lcmNoYW50cy8ya2JzNWIzenZzZ3l2M25nL2NsaWVudF9hcGkvdjEvY29uZmlndXJhdGlvbiIsIm1lcmNoYW50QWNjb3VudElkIjoibW9vbmNsaW1iaW5nR0JQIiwiZ3JhcGhRTCI6eyJ1cmwiOiJodHRwczovL3BheW1lbnRzLmJyYWludHJlZS1hcGkuY29tL2dyYXBocWwiLCJkYXRlIjoiMjAxOC0wNS0wOCIsImZlYXR1cmVzIjpbInRva2VuaXplX2NyZWRpdF9jYXJkcyJdfSwiY2xpZW50QXBpVXJsIjoiaHR0cHM6Ly9hcGkuYnJhaW50cmVlZ2F0ZXdheS5jb206NDQzL21lcmNoYW50cy8ya2JzNWIzenZzZ3l2M25nL2NsaWVudF9hcGkiLCJlbnZpcm9ubWVudCI6InByb2R1Y3Rpb24iLCJtZXJjaGFudElkIjoiMmticzViM3p2c2d5djNuZyIsImFzc2V0c1VybCI6Imh0dHBzOi8vYXNzZXRzLmJyYWludHJlZWdhdGV3YXkuY29tIiwiYXV0aFVybCI6Imh0dHBzOi8vYXV0aC52ZW5tby5jb20iLCJ2ZW5tbyI6Im9mZiIsImNoYWxsZW5nZXMiOlsiY3Z2IiwicG9zdGFsX2NvZGUiXSwidGhyZWVEU2VjdXJlRW5hYmxlZCI6dHJ1ZSwiYW5hbHl0aWNzIjp7InVybCI6Imh0dHBzOi8vY2xpZW50LWFuYWx5dGljcy5icmFpbnRyZWVnYXRld2F5LmNvbS8ya2JzNWIzenZzZ3l2M25nIn0sImFwcGxlUGF5Ijp7ImNvdW50cnlDb2RlIjoiSUUiLCJjdXJyZW5jeUNvZGUiOiJHQlAiLCJtZXJjaGFudElkZW50aWZpZXIiOiJtZXJjaGFudC5jb20ubW9vbmNsaW1iaW5nIiwic3RhdHVzIjoicHJvZHVjdGlvbiIsInN1cHBvcnRlZE5ldHdvcmtzIjpbInZpc2EiLCJtYXN0ZXJjYXJkIl19LCJwYXlwYWxFbmFibGVkIjp0cnVlLCJwYXlwYWwiOnsiYmlsbGluZ0FncmVlbWVudHNFbmFibGVkIjp0cnVlLCJlbnZpcm9ubWVudE5vTmV0d29yayI6ZmFsc2UsInVudmV0dGVkTWVyY2hhbnQiOmZhbHNlLCJhbGxvd0h0dHAiOmZhbHNlLCJkaXNwbGF5TmFtZSI6Ik1vb24gQ2xpbWJpbmcgTHRkIiwiY2xpZW50SWQiOiJBV2xldlpTSXBYMWt2aC1UZU1aMG13MWxDdjcwZkFFOTRpNWRZLWdaRi1LQVdXdU1GVkFBNEQ3ZnhaMXl0Y0RWZWNMN3NtX2FWVURLZnU3QiIsImJhc2VVcmwiOiJodHRwczovL2Fzc2V0cy5icmFpbnRyZWVnYXRld2F5LmNvbSIsImFzc2V0c1VybCI6Imh0dHBzOi8vY2hlY2tvdXQucGF5cGFsLmNvbSIsImRpcmVjdEJhc2VVcmwiOm51bGwsImVudmlyb25tZW50IjoibGl2ZSIsImJyYWludHJlZUNsaWVudElkIjoiQVJLcllSRGgzQUdYRHpXN3NPXzNiU2txLVUxQzdIR191V05DLXo1N0xqWVNETlVPU2FPdElhOXE2VnBXIiwibWVyY2hhbnRBY2NvdW50SWQiOiJtb29uY2xpbWJpbmdHQlAiLCJjdXJyZW5jeUlzb0NvZGUiOiJHQlAifX0&#x3D;&quot;,&quot;quoteId&quot;&#x3A;&quot;&quot;,&quot;displayName&quot;&#x3A;&quot;MoonClimbing&quot;,&quot;actionSuccess&quot;&#x3A;&quot;https&#x3A;&#x5C;&#x2F;&#x5C;&#x2F;moonclimbing.com&#x5C;&#x2F;checkout&#x5C;&#x2F;onepage&#x5C;&#x2F;success&#x5C;&#x2F;&quot;,&quot;grandTotalAmount&quot;&#x3A;null,&quot;isLoggedIn&quot;&#x3A;false,&quot;storeCode&quot;&#x3A;&quot;default&quot;&#x7D;&#x7D;" class="braintree-applepay-minicart cart">
</div>
</div>
<div x-data="initCrossSellAjax()" x-init="sendAjax()" class="bg-white" x-show="hasElements">
<div @click="isOpen = !isOpen" class="flex justify-between items-center mx-auto">
<h2 class="text-[20px] lg:text-[24px] pl-4 md:pl-6 font-extrabold text-gray-800 title-font uppercase">
You may also like </h2>
<button class="text-right px-4 md:px-6">
<span x-show="!isOpen">
<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
</svg>
</span>
<span x-show="isOpen">
<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12" />
</svg>
</span>
</button>
</div>
<div x-show="isOpen">
<div class="product-slider">
<div id="crossSell_slider"></div>
</div>
</div>
</div>
<script>
    function initCrossSellAjax() {
        return {
            isOpen: true,
            hasElements: false,
            sendAjax() {
                fetch('https://moonclimbing.com/crossSellAjax/index/index', {
                        method: 'GET',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-Requested-With': 'XMLHttpRequest'
                        }
                    }
                ).then(response => {
                        return response.text()
                    }
                ).then(data => {
                    const parser = new DOMParser();
                    const htmlDoc = parser.parseFromString(data, 'text/html');
                    const contentEl = htmlDoc.querySelector('#crossSell_slider');
                    if (contentEl) {
                        document.getElementById('crossSell_slider').append(contentEl);
                        this.hasElements = true;
                    }
                }).catch(error => {
                    this.hasElements = false;
                });
            }
        }
    }
</script>
</div>
</div>
<div class="flex flex-row justify-center items-center w-full h-full fixed select-none z-50" style="left: 50%;top: 50%;transform: translateX(-50%) translateY(-50%);background: rgba(255,255,255,0.7);" x-show="isLoading" x-transition:enter="ease-out duration-200" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0">

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 57 57" stroke="currentColor" class="text-primary" width="57" height="57">
<g fill="none" fill-rule="evenodd">
<g transform="translate(1 1)" stroke-width="2">
<circle cx="5" cy="50" r="5">
<animate attributeName="cy" begin="0s" dur="2.2s" values="50;5;50;50" calcMode="linear" repeatCount="indefinite" />
<animate attributeName="cx" begin="0s" dur="2.2s" values="5;27;49;5" calcMode="linear" repeatCount="indefinite" />
</circle>
<circle cx="27" cy="5" r="5">
<animate attributeName="cy" begin="0s" dur="2.2s" from="5" to="5" values="5;50;50;5" calcMode="linear" repeatCount="indefinite" />
<animate attributeName="cx" begin="0s" dur="2.2s" from="27" to="27" values="27;49;5;27" calcMode="linear" repeatCount="indefinite" />
</circle>
<circle cx="49" cy="50" r="5">
<animate attributeName="cy" begin="0s" dur="2.2s" values="50;50;5;50" calcMode="linear" repeatCount="indefinite" />
<animate attributeName="cx" from="49" to="49" begin="0s" dur="2.2s" values="49;5;27;49" calcMode="linear" repeatCount="indefinite" />
</circle>
</g>
</g>
</svg>
<div class="ml-10 text-primary text-xl">
Loading... </div>
</div>
</div>
</template>
</section>

<script>
    function initAuthentication() {
        return {
            open: false,
            forceAuthentication: false,
            checkoutUrl: 'https://moonclimbing.com/checkout/index/',
            errors: 0,
            hasCaptchaToken: 0,
            displayErrorMessage: false,
            errorMessages: [],
            setErrorMessages: function setErrorMessages(messages) {
                this.errorMessages = [messages];
                this.displayErrorMessage = this.errorMessages.length;
            },
            submitForm: function () {
                // Do not rename $form, the variable is expected to be declared in the recaptcha output
                const $form = document.querySelector('#login-form');
                    if (!this.hasCaptchaToken) {
        this.errors = 1;


        const executeGreCaptcha = () => {
            grecaptcha.ready(() => {
                grecaptcha.execute(
                    '6LcP1qYoAAAAAHMJxjhz7abn5RfMZW1Nwr3ZwmVj',
                    {action: 'submit'}
                ).then((token) => {
                    if (token && token.length > 0) {
                        $form['g\u002Drecaptcha\u002Dresponse'].value = token;
                        this.errors = 0;
                        this.hasCaptchaToken = 1;
                        (this.submitForm || $form.submit).call(this);
                    } else {
                        this.errors = 1;
                        const error = 'ReCaptcha\u0020validation\u0020failed,\u0020please\u0020try\u0020again';
                        if (this.setErrorMessages) {
                            this.setErrorMessages([error])
                            this.displayErrorMessage = true;
                        } else {
                            window.dispatchMessages && window.dispatchMessages([{type: "error", text: error}], 5000);
                        }
                    }
                }).catch(exception => {
                    console.error(exception || `An unknown error occurred during ReCaptcha validation. Are the tokens and the domain correctly set up in the Google console?`)
                });
            })
        }

        if (window.grecaptcha) {
            executeGreCaptcha();
        } else {
            const recaptchaUrl = "https://www.google.com/recaptcha/api.js?render=6LcP1qYoAAAAAHMJxjhz7abn5RfMZW1Nwr3ZwmVj";
            const script = document.createElement('script');
            script.setAttribute('type', 'text/javascript');
            script.setAttribute('src', recaptchaUrl);
            document.head.appendChild(script);

            script.addEventListener("load", executeGreCaptcha, false);
        }
    }
    
                if (this.errors === 0) {
                    this.dispatchLoginRequest($form);
                }
            },
            onPrivateContentLoaded: function (data) {
                const isLoggedIn = data.customer && data.customer.firstname;
                if (data.cart && !isLoggedIn) {
                    this.forceAuthentication = !data.cart.isGuestCheckoutAllowed;
                }
            },
            redirectIfAuthenticated: function (event) {
                if (event.detail && event.detail.url) {
                    this.checkoutUrl = event.detail.url;
                }
                if (!this.forceAuthentication) {
                    window.location.href = this.checkoutUrl;
                }
            },
            dispatchLoginRequest: function(form) {
                this.isLoading = true;
                const username = this.$refs['customer-email'].value;
                const password = this.$refs['customer-password'].value;
                const formKey = hyva.getFormKey();
                const bodyFields = {
                    'username': username,
                    'password': password,
                    'formKey': formKey
                };
                                const fieldName = 'g\u002Drecaptcha\u002Dresponse';
                const recaptchaField = fieldName && form[fieldName];
                if (recaptchaField) {
                    bodyFields[fieldName] = recaptchaField.value;
                }
                fetch('https://moonclimbing.com/customer/ajax/login/', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        body: JSON.stringify(bodyFields)
                    }
                ).then(response => {
                        return response.json()
                    }
                ).then(data=> {
                    this.isLoading = false;
                    if (data.errors) {
                        dispatchMessages([{
                            type: 'error',
                            text: data.message
                        }], 5000);
                        this.errors = 1;
                        this.hasCaptchaToken = 0;
                    } else {
                        window.location.href = this.checkoutUrl;
                    }
                });
            }
        }
    }
</script>
<section id="authentication-popup" x-data="initAuthentication()" @private-content-loaded.window="onPrivateContentLoaded($event.detail.data)" @toggle-authentication.window="open = forceAuthentication; redirectIfAuthenticated(event)" @keydown.window.escape="open = false">
<div role="dialog" aria-modal="true" @click.outside="open = false" class="inset-y-0 right-0 z-30 flex max-w-full" :class="{'fixed': open }" x-cloak x-show="open">
<div class="relative w-screen max-w-md pt-16 bg-container-lighter" x-show="open" x-cloak x-transition:enter="transform transition ease-in-out duration-500 sm:duration-700" x-transition:enter-start="translate-x-full" x-transition:enter-end="translate-x-0" x-transition:leave="transform transition ease-in-out duration-500 sm:duration-700" x-transition:leave-start="translate-x-0" x-transition:leave-end="translate-x-full">
<div x-show="open" x-cloak x-transition:enter="ease-in-out duration-500" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in-out duration-500" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" class="absolute top-0 right-0 flex p-2 mt-2">
<button @click="open = false;" aria-label="Close panel" class="p-2 text-gray-300 transition duration-150 ease-in-out hover:text-black">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
</svg>
</button>
</div>
<div class="flex flex-col h-full py-6 space-y-6 bg-white shadow-xl overflow-y-auto">
<div class="block-customer-login bg-container border border-container mx-4 p-4 shadow-sm">
<p id="authenticate-customer-login" class="text-lg leading-7 text-gray-900">
<strong class="font-medium">Checkout using your account</strong>
</p>
<form class="form form-login" method="post" @submit.prevent="submitForm();" id="login-form">
<div class="control">
<input type="hidden" value name="g-recaptcha-response" />
</div>
<div class="fieldset login">
<div class="field email required">
<label class="label" for="form-login-username" form="login-form">
<span>Email Address</span>
</label>
<div class="control">
<input name="username" id="form-login-username" x-ref="customer-email" @change="errors = 0" type="email" required class="form-input input-text">
</div>
</div>
<div class="field password required">
<label for="form-login-password" class="label" form="login-form">
<span>Password</span>
</label>
<div class="control">
<input name="password" id="form-login-password" type="password" class="form-input input-text" required x-ref="customer-password" @change="errors = 0">
</div>
</div>
<input name="context" type="hidden" value="checkout" />
<div class="actions-toolbar flex justify-between pt-6 pb-2 items-center">
<button type="submit" class="inline-flex btn btn-primary disabled:opacity-75">
Sign In </button>
<a href="https://moonclimbing.com/customer/account/forgotpassword/">
Forgot Your Password? </a>
</div>
</div>
</form>
</div>
<div class="mx-4">
<p class="my-4 text-sm text-gray-900">
This form is protected by reCAPTCHA - the <a class="underline" href="https://policies.google.com/privacy">Google Privacy Policy</a> and <a class="underline" href="https://policies.google.com/terms">Terms of Service</a> apply.</p>
</div>
<div class="block-new-customer bg-container border border-container mx-4 p-4 shadow-sm">
<p id="authenticate-new-customer" class="text-lg mb-2 leading-7 text-gray-900">
<strong class="font-medium">Checkout as a new customer</strong>
</p>
<div class="block-content">
<p class="mb-1">
Creating an account has many benefits: </p>
<ul class="list-disc pl-5">
<li> See order and shipping status</li>
<li> Track order history</li>
<li> Check out faster</li>
</ul>
<div class="actions-toolbar flex justify-between mt-6 mb-2 items-center">
<a href="https://moonclimbing.com/customer/account/create/" class="inline-flex btn btn-primary">
Create an Account </a>
</div>
</div>
</div>
</div>
</div>
</div>
</section>

<div x-data="handleEmptyCart()" class="max-w-[215px] hidden justify-center items-center rounded py-[5px] px-2 bg-success absolute right-[100px] z-20" id="empty-cart-message" @click.away="removeEmptyCartMessage()">
<p>
Cart is empty <a href="/clothing.html">Shop now</a>
</p>
<a href="#" class="w-5 h-5 ml-2 bg-close-black bg-no-repeat cursor-pointer" title="close" @click.prevent="removeEmptyCartMessage()">
</a>
</div>
</div>
<a class="action skip sr-only contentarea" href="#contentarea">
<span>
Skip to Content </span>
</a>
</header><main id="maincontent" class="page-main"><div id="contentarea" tabindex="-1"></div>
<div class="columns"><div class="column main">
<div class="relative">
<div x-data="initImageHandler_66e0599b0a25d()" x-init="init()" class="banner-image relative w-full">
<img class="w-full min-h-[220px] sm:max-h-[365px] lg:h-[365px]
                        xl:h-[unset] xl:max-h-[unset] xl:aspect-[1440/400] object-cover object-top" :src="isMobile ? mobileImg : isTablet ? tabletImg : desktopImg" alt="hero-image" />
<div class="bg-hero-desktop-gray md:bg-hero-desktop absolute -bottom-[1px] w-full h-[120px]
        sm:h-[180px] bg-cover sm:bg-[length:100%_auto] bg-no-repeat bg-bottom">
</div>
</div>
</div>
<script>
    function initImageHandler_66e0599b0a25d() {
        return {
            mobileImg: "https://moonclimbing.com/cdn-cgi/image/width=640,quality=90,f=auto/media/cms/tmp/hero/_6DW9328_3.jpg",
            tabletImg: "https://moonclimbing.com/cdn-cgi/image/width=1280,quality=90,f=auto/media/cms/tmp/hero/_6DW9328_3.jpg",
            desktopImg: "https://moonclimbing.com/cdn-cgi/image/width=1920,quality=90,f=auto/media/cms/tmp/hero/_6DW9328_3.jpg",
            isMobile: true,
            isTablet: false,
            init() {
                const matchMobile = window.matchMedia('(max-width: 768px)');
                const matchTablet = window.matchMedia('(min-width: 768px) and (max-width: 1024px)');

                // set the initial value
                this.isMobile = matchMobile.matches;
                this.isTablet = matchTablet.matches;

                // trigger update value on changes
                if (typeof matchMobile.onchange !== 'object') {
                    // fallback for iOS 12/13, where addEventListener does not accept an event type parameter
                    matchMobile.addListener((event) => this.isMobile = event.matches);
                } else {
                    matchMobile.addEventListener(
                        "change",
                        (event) => this.isMobile = event.matches
                    )
                }

                // trigger update value on changes
                if (typeof matchTablet.onchange !== 'object') {
                    // fallback for iOS 12/13, where addEventListener does not accept an event type parameter
                    matchTablet.addListener((event) => this.isTablet = event.matches);
                } else {
                    matchTablet.addEventListener(
                        "change",
                        (event) => this.isTablet = event.matches
                    )
                }
            }
        }
    }
</script>
<div class="banner-text"><div class="page messages"><script>
    function initMessages() {
        "use strict";
        return {
            messages: window.mageMessages || [],
            skipMessagesKeywords: ['you added'],
            isEmpty() {
                return this.messages.reduce(
                    function (isEmpty, message) {
                        return isEmpty && message === undefined
                    }, true
                )
            },
            checkMessageContainsKeywords(message) {
                return this.skipMessagesKeywords.some((keyword) => {
                    return message.text.toLowerCase().includes(keyword);
                })
            },
            isCartOpen() {
                return document.querySelector('.backdrop') && document.querySelector('.backdrop').style.display === '';
            },
            messageFilter(messages) {
                let result = messages.reduce((unique, o) => {
                    if (!unique.some(obj => obj.label === o.label 
                        && obj.value === o.value)
                    ) {
                        unique.push(o);
                    }

                    return unique;
                }, []);
                result = result.filter((message) => {
                    return !(this.isCartOpen() && this.checkMessageContainsKeywords(message));
                })

                return result;
            },
            checkIfMessageExist(message) {
                const exists = this.messages.some(obj => {
                    if (typeof obj === 'undefined') {
                        return false;
                    }

                    for (const key in message) {
                        if (obj[key] !== message[key]) {
                            return false;
                        }
                    }

                    return true;
                });

                return exists;
            },
            removeMessage(messageIndex) {
                this.messages[messageIndex] = undefined;
                window.mageMessages[messageIndex] = undefined;
                hyva.setCookie('mage-messages', '', -1, true);
            },
            addMessages(messages, hideAfter = 5000) {
                messages = this.messageFilter(messages) || messages;
                messages.map((message) => {
                    if (message && !this.checkIfMessageExist(message)) {
                        this.messages = this.messages.concat(message);
                        if (hideAfter) {
                            this.setHideTimeOut(this.messages.length -1, hideAfter);
                        }
                    }
                });
            },
            setHideTimeOut(messageIndex, hideAfter) {
                setTimeout((messageIndex) => {
                    this.removeMessage(messageIndex);
                }, hideAfter, messageIndex);
            },

            eventListeners: {
                ['@messages-loaded.window']() {
                    this.addMessages(event.detail.messages, event.detail.hideAfter)
                },
                ['@private-content-loaded.window'](event) {
                    const data = event.detail.data;
                    if (
                        data.messages &&
                        data.messages.messages &&
                        data.messages.messages.length
                    ) {
                        this.addMessages(data.messages.messages);
                    }
                },
                ['@clear-messages.window']() {
                    this.messages = [];
                },
                ['@remove-message-event.window'](event) {
                    const messageIndex = event.detail.messageIndex;
                    if (this.messages[messageIndex]) {
                        this.removeMessage(messageIndex);
                    }
                }
            }
        }
    }
</script>
<section id="messages" x-data="initMessages()" x-bind="eventListeners">
<template x-if="!isEmpty()">
<div class="w-full">
<div role="alert" class="messages container mx-auto py-3">
<template x-for="(message, index) in messages" :key="index">
<template x-if="message && message.text">
<div :id="message.type === 'error' ? 'message-error' : ''">
<div class="message" :class="message.type" :ui-id="'message-' + message.type">
<span x-html="message.text"></span>
<a href="#" class="close cursor-pointer" title="close" @click.prevent="removeMessage(index)">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="text-white" width="18" height="18">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
</svg>
</a>
</div>
</div>
</template>
</template>
</div>
</div>
</template>
</section>
</div> <nav class="search-result-breadcrumbs breadcrumbs bg-container-lighter shadow-sm" aria-label="Breadcrumb">
<div class="container">
<ol class="items list-reset py-4 rounded flex flex-wrap text-grey text-sm min-h-[80px] md:min-h-0 md:h-[56px]">
<li class="item flex 0">
<a href="https://moonclimbing.com/" class="no-underline text-archivo-regular !font-normal" title="Go&#x20;to&#x20;Home&#x20;Page">Home</a>
</li>
<li class="item flex 1">
<span aria-hidden="true" class="separator text-white px-3">/</span>
<a href class="text-primary-lighter text-archivo-regular" aria-current="page">Privacy &amp; Cookie Policy</a>
</li>
</ol>
</div>
</nav>
<div class="container flex flex-col md:flex-row flex-wrap my-6 font-bold
    lg:mt-5  text-3xl">
<h1 class="text-gray-900 page-title title-font">
<span class="base" data-ui-id="page-title-wrapper">Privacy &amp; Cookie Policy</span> </h1>
</div>
</div>
<script>
        if (window.require) {
            require(['jquery', 'domReady!'], function($){
                if ($('.mfblogunveil').length) {
                    require(['Magefan_Blog/js/lib/mfblogunveil'], function(){
                        $('.mfblogunveil').mfblogunveil();
                    });
                }
            });
        } else {
            /* e.g. hyva theme */
            document.addEventListener("DOMContentLoaded", function(){
                var items =  document.getElementsByClassName('mfblogunveil');
                var el, url;
                if (items.length) {
                    for (var i=0; i<items.length;i++) {
                        el = items[i];
                        url = el.getAttribute('data-original');
                        if (!url) {
                            continue;
                        }
                        if ('IMG' == el.tagName) {
                            el.src = url;
                        } else {
                            el.style.backgroundImage = "url('" + url  + "')";
                        }
                    }
                }
            });
        }
    </script>
<style>::backdrop {
--tw-border-spacing-x: 0;
--tw-border-spacing-y: 0;
--tw-translate-x: 0;
--tw-translate-y: 0;
--tw-rotate: 0;
--tw-skew-x: 0;
--tw-skew-y: 0;
--tw-scale-x: 1;
--tw-scale-y: 1;
--tw-pan-x:  ;
--tw-pan-y:  ;
--tw-pinch-zoom:  ;
--tw-scroll-snap-strictness: proximity;
--tw-gradient-from-position:  ;
--tw-gradient-via-position:  ;
--tw-gradient-to-position:  ;
--tw-ordinal:  ;
--tw-slashed-zero:  ;
--tw-numeric-figure:  ;
--tw-numeric-spacing:  ;
--tw-numeric-fraction:  ;
--tw-ring-inset:  ;
--tw-ring-offset-width: 0px;
--tw-ring-offset-color: #fff;
--tw-ring-color: rgb(59 130 246 / 0.5);
--tw-ring-offset-shadow: 0 0 #0000;
--tw-ring-shadow: 0 0 #0000;
--tw-shadow: 0 0 #0000;
--tw-shadow-colored: 0 0 #0000;
--tw-blur:  ;
--tw-brightness:  ;
--tw-contrast:  ;
--tw-grayscale:  ;
--tw-hue-rotate:  ;
--tw-invert:  ;
--tw-saturate:  ;
--tw-sepia:  ;
--tw-drop-shadow:  ;
--tw-backdrop-blur:  ;
--tw-backdrop-brightness:  ;
--tw-backdrop-contrast:  ;
--tw-backdrop-grayscale:  ;
--tw-backdrop-hue-rotate:  ;
--tw-backdrop-invert:  ;
--tw-backdrop-opacity:  ;
--tw-backdrop-saturate:  ;
--tw-backdrop-sepia:  
}</style>
<style>#html-body [data-pb-style=YT0UA5G]{justify-content:flex-start;display:flex;flex-direction:column;background-position:left top;background-size:cover;background-repeat:no-repeat;background-attachment:scroll}</style><div data-content-type="row" data-appearance="contained" data-element="main"><div data-enable-parallax="0" data-parallax-speed="0.5" data-background-images="{}" data-background-type="image" data-video-loop="true" data-video-play-only-visible="true" data-video-lazy-load="true" data-video-fallback-src data-element="inner" data-pb-style="YT0UA5G"><div data-content-type="text" data-appearance="default" data-element="main"><p id="VVNL82V"><strong>At Moon
Climbing we care about your privacy.</strong></p>
<p style="line-height: 10px;">&nbsp;</p>
<p>This privacy notice outlines how we, Moon Climbing Ltd use your personal details whilst you visit or
purchase from <a href="https://www.moonclimbing.com/" rel="noopener" tabindex="0" target="_blank">https://www.moonclimbing.com/</a>
in order to provide you with a better user experience, and to improve and manage our products and
services, in accordance with European General Data Protection Regulation ("GDPR") and local applicable
laws.</p></div><h4 data-content-type="heading" data-appearance="default" data-element="main">
Personal information we collect
</h4><div data-content-type="text" data-appearance="default" data-element="main"><p>When you visit our website, we
will collect information that helps us provide you with a browsing experience that is relevant and useful to
you. This information includes: recently viewed products, currency preferences, browsing interactions. We
also collect information to improve our network security and services, including: IP address, date and time
of visit, referral data (how you found our website), the pages and products you view, what device and
browser you are using .</p>
<p style="line-height: 10px;">&nbsp;</p>
<p>When you create an account with us, we will collect the following information: first name, last name,
email address and password. We use this information to identify you when you use our products and
services.</p>
<p style="line-height: 10px;">&nbsp;</p>
<p>When you make a purchase with us as a registered user or as a guest user, we will collect information
required to process your order. This includes: first name, last name, email address, shipping address,
billing address. By making a purchase as a registered user, we will collect and store details of your
purchase history.</p>
<p style="line-height: 10px;">&nbsp;</p>
<p>When you sign up to our email newsletter, we will use this information to contact you with news,
promotions and marketing related to Moon Climbing products and services.</p></div><h4 data-content-type="heading" data-appearance="default" data-element="main">
How we use personal information
</h4><div data-content-type="text" data-appearance="default" data-element="main"><p>At Moon Climbing we want to
ensure that we provide you with an efficient and enjoyable browsing and purchasing experience. If you
purchase from us we will use your personal details to process your order and deliver your purchase to you in
a timely manner. You will receive email notifications confirming your order and details of shopping. If you
later wish to exchange or return a purchase, we will use your personal information to fulfil these
processes. We will store your personal details until you request for them to be deleted.</p>
<p style="line-height: 10px;">&nbsp;</p>
<p>By visiting and purchasing from us, information about your demographic, browsing behaviour and purchases
will be used to continue to develop and improve our products, marketing and services to you.</p></div><h4 data-content-type="heading" data-appearance="default" data-element="main">
Where we share information
</h4><div data-content-type="text" data-appearance="default" data-element="main">
<p>
We will not share your details with third parties other than
agents and service providers used to conduct business operations
as outlined in how we use personal information. By your
provision of personal information to us, you consent to our
processing personal data about you, protected under the laws of
the United Kingdom and other countries.
</p>
</div><h4 data-content-type="heading" data-appearance="default" data-element="main">
Your rights
</h4><div data-content-type="text" data-appearance="default" data-element="main"><p>Under GDPR, you have the right to:</p>
<ul style="list-style-type: square;">
<li id="N289H1R">request access to the personal details we hold on you</li>
<li>request the correction of inaccurate personal information we hold on you. If you have an account you may do this by logging in <a href="/customer/account/login/">here</a>.</li>
<li>request deletion of personal information from our records.</li>
</ul></div><h4 data-content-type="heading" data-appearance="default" data-element="main">
Cookies
</h4><div data-content-type="text" data-appearance="default" data-element="main"><p>We use cookies on this website to
provide you with a better user experience. We do this by placing a small text file on your device / computer
hard drive. We use a cookie control system which allows you to accept the use of cookies, and control which
cookies are saved to your device / computer. Some cookies will be saved for specific time periods, where
others may last indefinitely. Your web browser should provide you with the controls to manage and delete
cookies from your device, please see your web browser options.</p>
<p>&nbsp;</p></div><div data-content-type="text" data-appearance="default" data-element="main"><p><strong>Types of cookies we use:</strong></p>
<p style="line-height: 10px;">&nbsp;</p>
<ul>
<li>Site functionality cookies: These cookies are required to enjoy and use the full functionality of this website, such as remembering which items you have in your basket, and reminding you about recently viewed products.&nbsp;</li>
<li>Customer preference cookies: These cookies are designed to make your browsing easier allowing the website to remember your preferences, such as your chosen currency.&nbsp;</li>
<li>Site analytics cookies: These cookies allow us to see how users interact with the site so we can continue to improve its features and functionality for a better shopping experience.&nbsp;</li>
<li>Advertising cookies and pixels: We use these cookies to remember your product preferences so we can provide our advertisers with content that is relevant to your interests.</li>
<li>When you first visit our site you will be given the option to manage your cookies. By clicking "Accept All", you consent to our use of cookies.&nbsp;</li>
</ul></div><h4 data-content-type="heading" data-appearance="default" data-element="main">
Contact Us
</h4><div data-content-type="text" data-appearance="default" data-element="main">
<p>
If you have any questions relating to our privacy practices,
your personal information, please get in touch by sending an
email to <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6900070f0629040606070a0500040b00070e470a0604">[email&#160;protected]</a>
</p>
</div></div></div><style type="text/css"></style>
</div></div></main><footer class="page-footer"><div class="footer content"><div class="links"><div class="widget block block-static-block">
<style>::backdrop {
--tw-border-spacing-x: 0;
--tw-border-spacing-y: 0;
--tw-translate-x: 0;
--tw-translate-y: 0;
--tw-rotate: 0;
--tw-skew-x: 0;
--tw-skew-y: 0;
--tw-scale-x: 1;
--tw-scale-y: 1;
--tw-pan-x:  ;
--tw-pan-y:  ;
--tw-pinch-zoom:  ;
--tw-scroll-snap-strictness: proximity;
--tw-gradient-from-position:  ;
--tw-gradient-via-position:  ;
--tw-gradient-to-position:  ;
--tw-ordinal:  ;
--tw-slashed-zero:  ;
--tw-numeric-figure:  ;
--tw-numeric-spacing:  ;
--tw-numeric-fraction:  ;
--tw-ring-inset:  ;
--tw-ring-offset-width: 0px;
--tw-ring-offset-color: #fff;
--tw-ring-color: rgb(59 130 246 / 0.5);
--tw-ring-offset-shadow: 0 0 #0000;
--tw-ring-shadow: 0 0 #0000;
--tw-shadow: 0 0 #0000;
--tw-shadow-colored: 0 0 #0000;
--tw-blur:  ;
--tw-brightness:  ;
--tw-contrast:  ;
--tw-grayscale:  ;
--tw-hue-rotate:  ;
--tw-invert:  ;
--tw-saturate:  ;
--tw-sepia:  ;
--tw-drop-shadow:  ;
--tw-backdrop-blur:  ;
--tw-backdrop-brightness:  ;
--tw-backdrop-contrast:  ;
--tw-backdrop-grayscale:  ;
--tw-backdrop-hue-rotate:  ;
--tw-backdrop-invert:  ;
--tw-backdrop-opacity:  ;
--tw-backdrop-saturate:  ;
--tw-backdrop-sepia:  
}
.cmsb94-mt-4 {
margin-top: 1rem
}
.cmsb94-mt-8 {
margin-top: 2rem
}
.cmsb94-flex {
display: flex
}
.cmsb94-w-\[20px\] {
width: 20px
}
.cmsb94-w-\[28\.51px\] {
width: 28.51px
}
.cmsb94-w-\[43\.26px\] {
width: 43.26px
}
.cmsb94-w-\[53px\] {
width: 53px
}
.cmsb94-gap-6 {
gap: 1.5rem
}
.cmsb94-bg-contain {
background-size: contain
}
.cmsb94-bg-no-repeat {
background-repeat: no-repeat
}
@media (min-width: 1280px) {
.cmsb94-xl\:mt-12 {
margin-top: 3rem
}
.cmsb94-xl\:hidden {
display: none
}
}</style>
<div data-content-type="html" data-appearance="default" data-element="main"><div class="links-container">
<div class="logo-container">
<a href="https://moonclimbing.com/"><img src="https://moonclimbing.com/static/version1725881161/frontend/Moon/hyva/en_GB/images/logo.svg" alt="Moonclimbing Logo" /></a>
<p>train hard <span>climb harder</span></p>
</div>
<div class="col" x-data="selected">
<h4 @click="toggle">
customer service <span class="cmsb94-xl:hidden" :class="selected ? 'open' : ''">&nbsp;</span>
</h4>
<ul x-ref="container1" x-bind:style="selected ? 'max-height: ' + $refs.container1.scrollHeight + 'px' : ''">
<li><a title="Contact Us" href="https://moonclimbing.com/general-enquiries/">Contact Us</a></li>
<li><a href="https://moonclimbing.com/delivery/">Shipping Information</a></li>
<li><a href="https://moonclimbing.com/returns/">Returns &amp; Refunds</a></li>
<li><a href="https://moonclimbing.com/faq/">FAQ</a></li>
<li><a href="https://moonclimbing.com/sizing-guide/">Size Guide</a></li>
</ul>
</div>
<div class="col" x-data="selected">
<h4 @click="toggle">
company <span class="cmsb94-xl:hidden" :class="selected ? 'open' : ''">&nbsp;</span>
</h4>
<ul style x-ref="container1" x-bind:style="selected ? 'max-height: ' + $refs.container1.scrollHeight + 'px' : ''">
<li><a title="About Moon Climbing" href="https://moonclimbing.com/about-moon/">About Moon Climbing</a></li>
<li><a title="About Moon Climbing" href="https://moonclimbing.com/sustainability/">Sustainability</a></li>
<li><a title="Moon Ambassadors" href="/athletes">Moon Ambassadors</a></li>
<li><a title="Moon Climbing Blog" href="https://moonclimbing.com/blog/">Moon Climbing Blog</a></li>
<li><a title="Terms &amp; Conditions" href="https://moonclimbing.com/terms-and-conditions/">Terms &amp;
Conditions</a>
</li>
<li><a title="Privacy &amp; Cookies Policy" href="https://moonclimbing.com/privacy-policy-cookie-restriction-mode/">
Privacy &amp; Cookie Policy</a>
</li>
</ul>
</div>
<div class="col" x-data="selected">
<h4 @click="toggle">
moonboard <span class="cmsb94-xl:hidden" :class="selected ? 'open' : ''">&nbsp;</span>
</h4>
<ul style x-ref="container1" x-bind:style="selected ? 'max-height: ' + $refs.container1.scrollHeight + 'px' : ''">
<li><a title="What Is The Moonboard" href="https://moonclimbing.com/what-is-moonboard/" target="_blank" rel="noopener">What Is The Moonboard</a>
</li>
<li><a title="Choose Your Moonboard" href="https://moonclimbing.com/choose-your-moonboard/" target="_blank" rel="noopener">Choose Your Moonboard</a></li>
<li><a title="Build Your Moonboard" href="https://moonclimbing.com/build-your-moonboard/" target="_blank" rel="noopener">Build Your Moonboard</a></li>
<li><a title="Using Your Moonboard" href="https://moonclimbing.com/using-your-moonboard/" target="_blank" rel="noopener">Using Your Moonboard</a></li>
<li><a title="Using Your Moonboard App" href="https://moonclimbing.com/using-moonboard-app/" target="_blank" rel="noopener">Using Your Moonboard App</a></li>
</ul>
</div>
<div class="col" x-data="selected">
<h4 @click="toggle">
charities we support <span class="cmsb94-xl:hidden" :class="selected ? 'open' : ''">&nbsp;</span>
</h4>
<ul style x-ref="container1" x-bind:style="selected ? 'max-height: ' + $refs.container1.scrollHeight + 'px' : ''">
<li><a title="Woodland Trust" href="https://www.woodlandtrust.org.uk" target="_blank" rel="nofollow noopener">Woodland Trust</a></li>
<li><a title="World Land Trust" href="https://www.worldlandtrust.org" target="_blank" rel="nofollow noopener">World Land Trust</a></li>
</ul>
</div>
<div class="col">
<div>
<h4>
follow us
</h4>
<div class="cmsb94-flex cmsb94-gap-6 cmsb94-mt-4">
<a href="https://www.youtube.com/@moonclimbingofficial" target="_blank"><img src="https://moonclimbing.com/static/version1725881161/frontend/Moon/hyva/en_GB/svg/social/youtube.svg" class="cmsb94-w-[20px]"></a>
<a href="https://www.facebook.com/moonclimbing/" target="_blank"><img src="https://moonclimbing.com/static/version1725881161/frontend/Moon/hyva/en_GB/svg/social/facebook.svg" class="cmsb94-w-[20px]"></a>
<a href="https://www.instagram.com/moonclimbing/" target="_blank"><img src="https://moonclimbing.com/static/version1725881161/frontend/Moon/hyva/en_GB/svg/social/instagram.svg" class="cmsb94-w-[20px]"></a>
</div>
</div>
<div class="cmsb94-mt-8 cmsb94-xl:mt-12">
<h4>
payment method
</h4>
<div class="cmsb94-flex cmsb94-gap-6 cmsb94-mt-4">
<span class="cmsb94-bg-contain cmsb94-bg-no-repeat bg-paypal cmsb94-w-[53px]">&nbsp;</span>
<span class="cmsb94-bg-contain cmsb94-bg-no-repeat bg-mastercard  cmsb94-w-[28.51px]">&nbsp;</span>
<span class="cmsb94-bg-contain cmsb94-bg-no-repeat bg-visa  cmsb94-w-[43.26px]">&nbsp;</span>
</div>
</div>
</div>
</div>
<style>
    .links div[data-content-type="html"] {
    width:100%;
    max-width:1440px;
    }
    </style></div></div>
</div><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
    document.addEventListener('alpine:init', () => {
        Alpine.data('selected', () => ({
            selected: false,
            toggle(){
                if (window.innerWidth <= 1280) {
                    this.selected = !this.selected
                }
            }
        }))
    })

    document.addEventListener('DOMContentLoaded', function () {
        const fieldsetElement = document.querySelector('fieldset.fieldset.customer-attributes-container');

        if (fieldsetElement) {
            fieldsetElement.remove();
        }
    });
 </script>
<div class="body-font xl:flex xl:justify-center">
<div class="flex flex-col-reverse mt-[18px] xl:grid xl:grid-cols-footer xl:mt-[18px] xl:max-w-[1440px] xl:w-full">
<p class="pt-[18px] xl:pt-0 xl:text-center xl:flex xl:w-full xl:pl-[20%] xl:col-start-1 xl:col-end-6 xl:grid-co xl:items-center xl:justify-center">
<small class="text-archivo-regular text-[12px] text-gray leading-4">
Copyright © 2024 Moon Climbing Ltd. All rights reserved. | Company Number: 4351106 | VAT Number: 790
1455 29</small>
</p>
<div class="flex flex-wrap pr-4 xl:pr-0 xl:col-start-6 xl:col-end-7" id="currency-container">
<a href="https://trade.moonclimbing.com/" class="mr-[15.5px] pt-3.5 text-white text-xs no-underline text-archivo-regular font-normal 
            hover:text-gray transition-colors duration-[600ms] ">
Wholesale </a>
<script>
    function initStoreSwitcher() {
        return {
            open: false,
            isLoading: false,
            setIsLoading() {
                if (this.isLoading) {
                    return;
                };

                this.isLoading = true;
                let loader = document.createElement('div');
                loader.setAttribute('x-data', '{isLoading: true}');
                loader.innerHTML = `<div class="flex flex-row justify-center items-center w-full h-full fixed select-none z-50"
     style="left: 50%;top: 50%;transform: translateX(-50%) translateY(-50%);background: rgba(255,255,255,0.7);"
     x-show="isLoading"
     x-transition:enter="ease-out duration-200"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="ease-in duration-200"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0">
    <!-- By Sam Herbert (@sherb), for everyone. More @ http://goo.gl/7AJzbL -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 57 57" stroke="currentColor" class="text-primary" width="57" height="57">
    <g fill="none" fill-rule="evenodd">
        <g transform="translate(1 1)" stroke-width="2">
            <circle cx="5" cy="50" r="5">
                <animate attributeName="cy" begin="0s" dur="2.2s" values="50;5;50;50" calcMode="linear" repeatCount="indefinite"/>
                <animate attributeName="cx" begin="0s" dur="2.2s" values="5;27;49;5" calcMode="linear" repeatCount="indefinite"/>
            </circle>
            <circle cx="27" cy="5" r="5">
                <animate attributeName="cy" begin="0s" dur="2.2s" from="5" to="5" values="5;50;50;5" calcMode="linear" repeatCount="indefinite"/>
                <animate attributeName="cx" begin="0s" dur="2.2s" from="27" to="27" values="27;49;5;27" calcMode="linear" repeatCount="indefinite"/>
            </circle>
            <circle cx="49" cy="50" r="5">
                <animate attributeName="cy" begin="0s" dur="2.2s" values="50;50;5;50" calcMode="linear" repeatCount="indefinite"/>
                <animate attributeName="cx" from="49" to="49" begin="0s" dur="2.2s" values="49;5;27;49" calcMode="linear" repeatCount="indefinite"/>
            </circle>
        </g>
    </g>
</svg>
    <div class="ml-10 text-primary text-xl">
        Loading...    </div>
</div>
`;
                loader.firstChild.style.zIndex = 999999;
                document.getElementById('maincontent').appendChild(loader);
                
            }
        }
    }
</script>
<div x-data="initStoreSwitcher()" class="switcher">
<div class="relative flex flex-col text-left xl:h-[104px] w-[89px] button-container">
<div>
<button @click.prevent="open = !open" @click.outside="open = false" @keydown.window.escape="open=false" type="button" class="inline-flex justify-center w-full bg-transparent focus:outline-none my-[14px] px-2" aria-haspopup="true" aria-expanded="true">
<span class="flex">
<img src="https://moonclimbing.com/static/version1725881161/frontend/Moon/hyva/en_GB/images/flag-uk.svg" alt="UK shop" class="mr-2" />
<span>UK shop</span>
</span>
</button>
</div>
<nav x-cloak x-show="open" class="w-[100%] z-20 p-3 overflow-auto origin-top-left  bg-gray-lighter">
<div role="menu" aria-orientation="vertical" aria-labelledby="options-menu">
<a href="https://eu.moonclimbing.com/" class="no-underline text-inherit" @click="setIsLoading()">
<span class="flex">
<img src="https://moonclimbing.com/static/version1725881161/frontend/Moon/hyva/en_GB/images/flag-eu.svg" alt="EU shop" class="mr-2" />
<span>EU shop</span>
</span>
</a>
</div>
</nav>
</div>
</div>
</div>
<script type="text/javascript" defer>
    function switcherDirection() { 
        const switcherContainer = document.querySelector(".page-footer .button-container");
        const windowHeight = document.getElementsByTagName("body")[0].clientHeight;
        let parentContainer = document.querySelector("#currency-container");
        let currencyContainer = document.querySelector("#currency-container");

        switcherContainer.classList.remove("upper");

        if (currencyContainer) currencyContainer.style.position = "";
        
        if (window.innerWidth >= 1280) {
            switcherContainer.classList.add("upper")
        }
    }

    switcherDirection()
    window.addEventListener("resize",switcherDirection);
</script>
</div>
</div>
</div></footer><script>
    function isDisabledStore (storeData) {
        return !(undefined !== storeData.data && undefined !== storeData.data.data_post);
    }
    
    function setShopPopupFlag () {
        const now = new Date()
        const item = {
            value: '1',
            expiry: now.getTime() + (30 * 24 * 60 * 60 * 1000),
        }

        window.localStorage.setItem('geoip-show-popup', JSON.stringify(item))
    }

    function getShopPopupFlag () {
        const itemStr = window.localStorage.getItem('geoip-show-popup')

        if (!itemStr) {
            return null
        }

        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
            window.localStorage.removeItem('geoip-show-popup')

            return null
        }

        return item.value
    }

    function serializeWebsiteBeforeRender (vars, unsetWebsites, unsetGroups) {
        var varsAfter = [],
            varsRenderer = [];
        for (let key in vars) {
            data = vars[key]
            if ((undefined !== data.website && unsetWebsites.indexOf(data.website) === -1)) {
                varsAfter.push(data);
            }
        }
        for (let key in varsAfter) {
            data = varsAfter[key]
                if ((undefined === data.group || unsetGroups.indexOf(data.group) === -1)) {
                    varsRenderer.push(data);
                }
        }
        return varsRenderer;
    }

    function popupData() {
        
        return {
            ajaxUrl : "https://moonclimbing.com/geoip/index/switchstore/",
            currentUrl : "https://moonclimbing.com/privacy-policy-cookie-restriction-mode",
            currentPath : "privacy-policy-cookie-restriction-mode",
            message : "",
            buttonLabel : "",
            urlPost: "",
            fetchData : function () {
                fetch(this.ajaxUrl, {
                    headers: {
                        contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                    },
                    body: new URLSearchParams({
                        form_key: hyva.getFormKey(),
                        current_url: this.currentUrl,
                        current_path: this.currentPath
                    }),
                    method: "POST",
                    mode: "cors",
                    credentials: "include",
                })
                    .then(response => {
                        return response.json();
                    })
                    .then(result => {
                        if (result.status) {
                            country_name = result.dataCountry,
                            store_name = result.dataStoreName,
                            message = result.dataMessage;
                            message = message.replace(/\[country]/g, country_name);
                            this.message = message.replace(/\[store_name]/g, store_name);
                            this.buttonLabel = result.dataButton;
                            document.getElementById("btn-geoip_button").onclick = function (e){
                                e.preventDefault();
                                e.stopPropagation();
                                window.location.href = result.dataPost;
                            }
                            
                            if (!getShopPopupFlag()) {
                                window.openPopup();
                                setShopPopupFlag();
                            }
                        }
                    })
            }
        }
    }

    function geoIpDataHyva() {
        return {
            ...hyva.modal(),
            init() {
                window.openPopup = function (event) {
                    this.show('popup', event);
                }.bind(this);
            }
        }
    }
</script>
<div x-data="geoIpDataHyva()" x-init="init()">
<div x-cloak x-bind="overlay('popup')" class="fixed inset-0 flex md:items-center md:justify-center text-left bg-black bg-opacity-50 z-[9999]">
<div x-ref="popup" role="dialog" aria-labelledby="Popup-label" class="inline-block max-h-[268px] md:max-h-screen overflow-auto bg-black shadow-xl
                      text-white text-lg max-w[548px] leading-6 text-barlow-condensed">
<div id="popup-content-template" x-data="popupData()" x-init="fetchData()">
<div class="geoip_popup_content flex flex-col items-center">
<button class="link my-4 md:mt-5 md:mb-4 self-end mr-4 md:mr-5" @click="hide">close</button>
<p class="geoip_title uppercase mx-4 md:mx-[60px] md:max-w-[528px] text-center" x-text="message"></p>
<div class="geoip_popup-main md:mt-10 md:mb-[60px] mt-8 mb-5">
<a href="#" id="btn-geoip_button">
<button class="btn btn-primary inline-block select-store mt-1" x-text="buttonLabel"></button>
</a>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript">
	require([
		'jquery'], function ($) {
			$(document).ready(function(){
				if(jQuery(".megamenuowl-play").length > 0 ) {
					require([
						'jquery',
												"Ves_All/lib/bootstrap/js/bootstrap.min",
															'megamenuowlcarousel'
								], function ($) {
					var owlItems = [];
					jQuery(".megamenuowl-play").each( function(){
						var owlCarousel = jQuery(this).find(".owl-carousel");
						var owlId = jQuery(owlCarousel).attr("id");
						jQuery(this).addClass("hasOwl");
						var config = [];
						owlItems[jQuery(owlCarousel).attr("id")] = true;
						if(typeof(jQuery(owlCarousel).data('nav'))!='underfined'){
							config['nav'] = jQuery(owlCarousel).data('nav');
						}
						if(typeof(jQuery(owlCarousel).data('dot'))!='underfined'){
							config['dot'] = jQuery(owlCarousel).data('dot');
						}
						if(typeof(jQuery(owlCarousel).data('autoplay'))!='underfined'){
							config['autoplay'] = jQuery(owlCarousel).data('autoplay');
						}
						if(jQuery(owlCarousel).data('autoplay-timeout')){
							config['autoplayTimeout'] = jQuery(owlCarousel).data('autoplay-timeout');
						}
						if(jQuery(owlCarousel).data('autoplay-pauonhover')){
							config['autoplayHoverPause'] = jQuery(owlCarousel).data('autoplay-pauonhover');
						}
						if(typeof(jQuery(owlCarousel).data('rtl'))!='underfined'){
							config['rtl'] = jQuery(owlCarousel).data('rtl');
						}
						if(jQuery(owlCarousel).data('items')){
							
							config['items'] = jQuery(owlCarousel).data('items');
						}
						if(typeof(jQuery(owlCarousel).data('loop'))!='underfined'){
							config['loop'] = jQuery(owlCarousel).data('loop');
						}
						if(typeof(jQuery(owlCarousel).data('mousedrag'))!='underfined'){
							config['mouseDrag'] = jQuery(owlCarousel).data('mousedrag');
						}
						if(typeof(jQuery(owlCarousel).data('pulldrag'))!='underfined'){
							config['pullDrag'] = jQuery(owlCarousel).data('pulldrag');
						}
						if(typeof(jQuery(owlCarousel).data('freedrag'))!='underfined'){
							config['freeDrag'] = jQuery(owlCarousel).data('freedrag');
						}
						if(typeof(jQuery(owlCarousel).data('stagepadding'))!='underfined'){
							config['stagePadding'] = jQuery(owlCarousel).data('stagepadding');
						}
						if(typeof(jQuery(owlCarousel).data('lazyload'))!='underfined'){
							config['lazyLoad'] = jQuery(owlCarousel).data('lazyload');
						}
						if(jQuery(owlCarousel).data('margin')){
							config['margin'] = jQuery(owlCarousel).data('margin');
						}
						var mobile_items = 1;
						if(jQuery(owlCarousel).data('mobile-items')){
							mobile_items = jQuery(owlCarousel).data('mobile-items');
						}
						var tablet_small_items = 3;
						if(jQuery(owlCarousel).data('tablet-small-items')){
							tablet_small_items = jQuery(owlCarousel).data('tablet-small-items');
						}
						var tablet_items = 3;
						if(jQuery(owlCarousel).data('tablet-items')){
							tablet_items = jQuery(owlCarousel).data('tablet-items');
						}
						var portrait_items = 4;
						if(jQuery(owlCarousel).data('portrait-items')){
							portrait_items = jQuery(owlCarousel).data('portrait-items');
						}
						var large_items = 5;
						if(jQuery(owlCarousel).data('large-items')){
							large_items = jQuery(owlCarousel).data('large-items');
						}
						var large_max_items = 6;
						if(jQuery(owlCarousel).data('large-max-items')){
							large_max_items = jQuery(owlCarousel).data('large-max-items');
						}
						config['responsive'] = {
							0 : {items: mobile_items},
							480 : {items: tablet_small_items},
							640 : {items: tablet_items},
							768 : {items: portrait_items},
							980 : {items: large_items},
							1200 : {items: large_max_items}
						};
						jQuery(owlCarousel).owlCarousel(config);
						jQuery(".owl-left").click(function(){
							var owlCarousel = jQuery("#"+jQuery(this).data("owlid"));
							owlCarousel.trigger('prev.owl.carousel');
							return false;
						});
						jQuery(".owl-right").click(function(){
							var owlCarousel = jQuery("#"+jQuery(this).data("owlid"));
							owlCarousel.trigger('next.owl.carousel');
							return false;
						});
					});
				});
}
})
});

</script><script>
    require(['jquery', 'iframeResizer' ],
        function ($) {
            $(function () {
                waitUntilExists(function() { return $('.embedded-iframe').length; }, function() {
                    var iframe = $('.embedded-iframe'),
                        headerHeight = $('header').outerHeight(),
                        windowHeight = $(window).innerHeight(),
                        availableHeight =  windowHeight - headerHeight - 70,
                        isOldIE = (navigator.userAgent.indexOf("MSIE") !== -1);
                    iframe.css({'height': availableHeight + 'px'});

                    iframe.on('load', function(){
                        iFrameResize({
                            log: false,
                            minHeight: availableHeight,
                            resizeFrom: 'parent',
                            scrolling: true,
                            inPageLinks: true,
                            autoResize: true,
                            heightCalculationMethod: isOldIE ? 'max' : 'bodyScroll',
                            onInit: function(iframe) {
                                iframe.style.height = availableHeight + 'px';
                            },
                            onResized: function(messageData) {
                                setTimeout(function() {
                                    messageData.iframe.style.visibility = 'visible';
                                }, 300);
                            },
                            onMessage: function(messageData) {
                                if (history.pushState && messageData.message.hasOwnProperty('trackNo')) {
                                    var newUrl = window.location.protocol + '//' + window.location.host + window.location.pathname.replace(/\/$/, '') + '/' + messageData.message.trackNo;
                                    window.history.pushState({path:newUrl}, '', newUrl);
                                }
                            }
                        }, '.embedded-iframe');
                    });

                }, function() { });
                function waitUntilExists(isReady, success, error, count, interval){
                    if (count === undefined) {
                        count = 300;
                    }
                    if (interval === undefined) {
                        interval = 20;
                    }
                    if (isReady()) {
                        success();
                        return;
                    }
                    setTimeout(function(){
                        if (!count) {
                            if (error !== undefined) {
                                error();
                            }
                        } else {
                            waitUntilExists(isReady, success, error, count -1, interval);
                        }
                    }, interval);
                }
            });
        });
</script>
<script>
    (() => {
        function src_default(Alpine) {
            Alpine.directive("intersect", (el, {value, expression, modifiers}, {evaluateLater, cleanup}) => {
                let evaluate = evaluateLater(expression);
                let options = {
                    rootMargin: getRootMargin(modifiers),
                    threshold: getThreshhold(modifiers)
                };
                let observer = new IntersectionObserver((entries) => {
                    entries.forEach((entry) => {
                        if (entry.isIntersecting === (value === "leave"))
                            return;
                        evaluate();
                        modifiers.includes("once") && observer.disconnect();
                    });
                }, options);
                observer.observe(el);
                cleanup(() => {
                    observer.disconnect();
                });
            });
        }

        function getThreshhold(modifiers) {
            if (modifiers.includes("full"))
                return 0.99;
            if (modifiers.includes("half"))
                return 0.5;
            if (!modifiers.includes("threshold"))
                return 0;
            let threshold = modifiers[modifiers.indexOf("threshold") + 1];
            if (threshold === "100")
                return 1;
            if (threshold === "0")
                return 0;
            return Number(`.${threshold}`);
        }

        function getLengthValue(rawValue) {
            let match = rawValue.match(/^(-?[0-9]+)(px|%)?$/);
            return match ? match[1] + (match[2] || "px") : void 0;
        }

        function getRootMargin(modifiers) {
            const key = "margin";
            const fallback = "0px 0px 0px 0px";
            const index = modifiers.indexOf(key);
            if (index === -1)
                return fallback;
            let values = [];
            for (let i = 1; i < 5; i++) {
                values.push(getLengthValue(modifiers[index + i] || ""));
            }
            values = values.filter((v) => v !== void 0);
            return values.length ? values.join(" ").trim() : fallback;
        }

        document.addEventListener("alpine:init", () => {
            window.Alpine.plugin(src_default);
        });
    })();
</script>
<script type="module" src="https://moonclimbing.com/static/version1725881161/frontend/Moon/hyva/en_GB/Hyva_Theme/js/alpine3.min.js" defer crossorigin></script>
<script>
    'use strict';
    function dispatchMessages(messages, hideAfter) {
        const messagesEvent = new CustomEvent("messages-loaded", {
            detail: {
                messages: messages,
                hideAfter: hideAfter
            }
        });
        window.dispatchEvent(messagesEvent);
    }

    if (typeof hyva === 'undefined' || (!hyva.getBrowserStorage || !hyva.getCookie || !hyva.setCookie)) {
        console.warn("Hyvä helpers are not loaded yet. Make sure they are included before this script");
    }

    (function( hyva, undefined ) {

        hyva.initFormKey = () => {
            const inputSelector = 'input[name="form_key"]',
                formKey = hyva.getFormKey();

            Array.from(document.querySelectorAll(inputSelector)).map(function (input) {
                input.value = formKey
            });
        }

        hyva.initMessages = () => {
            try {
                const messages = hyva.getCookie('mage-messages');
                window.mageMessages = messages ? JSON.parse(decodeURIComponent(messages).replace(/\+/g, ' ')) : [];

                dispatchMessages(window.mageMessages);

                                // empty `mage-messages` cookie
                const skipSetDomain = true;
                hyva.setCookie('mage-messages','', -1, skipSetDomain);

            } catch (error) {
                console.warn('Error parsing Cookie Messages:', error);
            }
        }

        window.addEventListener('DOMContentLoaded', hyva.initFormKey);
        window.addEventListener('load', hyva.initMessages);


    }( window.hyva = window.hyva || {} ));
</script>
<script>
    'use strict';
    {
        const private_content_key = 'mage-cache-storage';
        const private_content_expire_key = 'mage-cache-timeout';
        const private_content_version_key = 'private_content_version';
        const section_data_ids_key = 'section_data_ids';
        const mage_cache_session_id_key = 'mage-cache-sessid';
        const last_visited_store_key = 'last_visited_store';

        const ttl = 3600;

        if (typeof hyva === 'undefined' || (!hyva.getBrowserStorage || !hyva.getCookie || !hyva.setCookie)) {
            console.warn("Hyvä helpers are not loaded yet. Make sure they are included before this script");
        }

        function loadSectionData () {
            const browserStorage = hyva.getBrowserStorage();
            if (!browserStorage) {
                typeof window.dispatchMessages !== "undefined" && window.dispatchMessages(
                    [{
                        type: "warning",
                        text: "Please enable LocalStorage in your browser."
                    }]
                );
                return;
            }
            try {
                let isInvalid = false;

                if (hyva.getCookie(last_visited_store_key) !== CURRENT_STORE_CODE) {
                    isInvalid = true;
                }
                hyva.setCookie(last_visited_store_key, CURRENT_STORE_CODE, false, false);

                if (!hyva.getCookie(mage_cache_session_id_key)) {
                    isInvalid = true;
                    const skipSetDomain = true;
                    const days = false;
                    hyva.setCookie(mage_cache_session_id_key, true, days, skipSetDomain)
                }

                const cookieVersion = hyva.getCookie(private_content_version_key);
                const storageVersion = browserStorage.getItem(private_content_version_key);

                if (cookieVersion && !storageVersion || cookieVersion !== storageVersion) {
                    isInvalid = true;
                }

                const privateContentExpires = browserStorage.getItem(private_content_expire_key);
                if (privateContentExpires && new Date(privateContentExpires) < new Date()) {
                    browserStorage.removeItem(private_content_key);
                }

                if (isInvalid) {
                    fetchPrivateContent([]);
                } else if (cookieVersion && storageVersion && cookieVersion === storageVersion) {
                    const privateContent = JSON.parse(browserStorage.getItem(private_content_key));
                    if (
                        privateContent &&
                        privateContentExpires &&
                        privateContent.cart &&
                        privateContent.customer
                    ) {
                        dispatchPrivateContent(privateContent);
                    } else {
                        fetchPrivateContent([]);
                    }
                } else {
                    dispatchPrivateContent({});
                }

            } catch (error) {
                console.warn('Error retrieving Private Content:', error);
            }
        }

        window.addEventListener('load', loadSectionData);
        window.addEventListener('reload-customer-section-data', loadSectionData);

        function dispatchPrivateContent(data) {
            const privateContentEvent = new CustomEvent("private-content-loaded", {
                detail: {
                    data: data
                }
            });
            window.dispatchEvent(privateContentEvent);
        }

        function fetchPrivateContent(sections) {
            fetch(`${BASE_URL}customer/section/load/?sections=${encodeURIComponent(sections.join(','))}`, {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                    'X-Requested-With': 'XMLHttpRequest'
                }
            })
                .then(response => response.json())
                .then(
                    data => {
                        if (data) {
                            try {
                                const browserStorage = hyva.getBrowserStorage();

                                // merge new data preserving non-invalidated sections
                                const oldSectionData = JSON.parse(browserStorage.getItem(private_content_key) || '{}');

                                if ((! data.cart || ! data.cart.cartId) && oldSectionData['checkout-data']) {
                                    delete oldSectionData['checkout-data'];
                                }
                                const newSectionData = Object.assign(oldSectionData, data);

                                dispatchPrivateContent(newSectionData);

                                // don't persist messages, they've been dispatched already
                                if (newSectionData.messages && newSectionData.messages.messages ) {
                                    newSectionData.messages.messages = [];
                                }

                                browserStorage.setItem(private_content_key, JSON.stringify(newSectionData));

                                const expiresAt = new Date(Date.now() + (ttl * 1000)).toISOString();
                                browserStorage.setItem(private_content_expire_key, expiresAt);

                                const newCookieVersion = hyva.getCookie(private_content_version_key);
                                browserStorage.setItem(private_content_version_key, newCookieVersion);

                                // We don't need the section_data_ids in Hyvä, but we store them for compatibility
                                // with Luma Fallback. Otherwise, not all sections are loaded in Luma Checkout
                                hyva.setCookie(
                                    section_data_ids_key,
                                    JSON.stringify(
                                        Object.keys(data).reduce((sectionDataIds, sectionKey) => {
                                            sectionDataIds[sectionKey] = data[sectionKey]['data_id'];
                                            return sectionDataIds;
                                        }, {})
                                    ),
                                    false,
                                    true
                                );
                            } catch (error) {
                                console.warn("Couldn't store privateContent", error);
                            }
                        }
                    }
                );
        }
    }
</script>
<script>
    (() => {
        document.addEventListener('submit', event => event.target.action = event.target.action.replace('%25uenc%25', hyva.getUenc()));
    })()
</script>
<script>
    (events => {
        const dispatchUserInteractionEvent = () => {
            events.forEach(type => window.removeEventListener(type, dispatchUserInteractionEvent))
            window.dispatchEvent(new Event('init-external-scripts'))
        };
        events.forEach(type => window.addEventListener(type, dispatchUserInteractionEvent, {once: true, passive: true}))
    })(['touchstart', 'mouseover', 'wheel', 'scroll', 'keydown'])
</script>
<script>
    function initCompareOnProductList() {
        return {
            addToCompare(productId) {
                const formKey = hyva.getFormKey();
                const postUrl = BASE_URL + 'catalog/product_compare/add/';

                fetch(postUrl, {
                    "headers": {
                        "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    },
                    "body": "form_key=" + formKey + "&product=" + productId + "&uenc=" + hyva.getUenc(),
                    "method": "POST",
                    "mode": "cors",
                    "credentials": "include"
                }).then(function (response) {
                    if (response.redirected) {
                        window.location.href = response.url;
                    }
                }).catch(function (error) {
                    typeof window.dispatchMessages !== "undefined" && window.dispatchMessages(
                        [{
                            type: "error",
                            text: error
                        }], 5000
                    );
                });
            }
        };
    }
</script>
<script>
    function initWishlist() {
        return {
            addToWishlist(productId) {
                const formKey = hyva.getFormKey();
                const postUrl = BASE_URL + 'wishlist/index/add/';
                fetch(postUrl, {
                    "headers": {
                        "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    },
                    "body": "form_key=" + formKey + "&product=" + productId + "&uenc=" + hyva.getUenc(),
                    "method": "POST",
                    "mode": "cors",
                    "credentials": "include"
                }).then(function (response) {
                    if(response.redirected) {
                        window.location.href = response.url;
                    }
                    else if (response.ok) {
                        return response.json();
                    } else {
                        typeof window.dispatchMessages !== "undefined" && window.dispatchMessages(
                            [{
                                type: "warning",
                                text: "Could not add item to wishlist."
                            }], 5000
                        );
                    }
                }).then(function (response) {
                    if (!response) {
                        return
                    }
                    typeof window.dispatchMessages !== "undefined" && window.dispatchMessages(
                        [{
                            type: (response.success) ? "success" : "error",
                            text: (response.success)
                                ? response.success_message
                                    ? response.success_message
                                    : "Product has been added to your Wish List."
                                : response.error_message
                        }], 5000
                    );
                    let heart = document.getElementById(productId + '-wishlist-heart');
                    heart.classList.add('bg-heart-yellow');
                    heart.classList.remove('bg-heart');
                    const reloadCustomerDataEvent = new CustomEvent("reload-customer-section-data");
                    window.dispatchEvent(reloadCustomerDataEvent);
                }).catch(function (error) {
                    typeof window.dispatchMessages !== "undefined" && window.dispatchMessages(
                        [{
                            type: "error",
                            text: error
                        }], 5000
                    );
                });
            }
        }
    }
</script>
<script>
    function initConfigurableOptions(productId, optionConfig) {

        function findPathParam(key) {
                        const baseUrl = (BASE_URL.substr(0, 2) === '//' ? 'http:' : '') + BASE_URL;
            const baseUrlParts = (new URL(baseUrl)).pathname.replace(/\/$/, '').split('/');
            const pathParts = window.location.pathname.split('/').slice(baseUrlParts.length + 3);
            for (let i = 0; i < pathParts.length; i += 2) {
                if (pathParts[i] === key && pathParts.length > i) {
                    return pathParts[i + 1];
                }
            }
        }


        return {
            optionConfig,
            productId,
            itemId: (new URLSearchParams(window.location.search)).get('id') || findPathParam('id'),
            allowedAttributeOptions: [],
            selectedValues: [],
            selectedOptionsAreOutOfStock: false,
            isSticky: false,
            isConfigurableOutOfStock: false,
            init() {
                this.findAllowedAttributeOptions();
                this.$nextTick(() => {
                    if (typeof this.optionConfig.defaultValues === 'object') {
                        for (const [optionId, value] of Object.entries(this.optionConfig.defaultValues)) {
                            this.changeOption(optionId, value + '');
                        }
                    }

                    this.selectOptionsUsingQueryParams();
                });
            },
            findSimpleIndex() {
                                this.productIndex = this.calculateSimpleIndexForPartialSelection(this.selectedValues);
            },
            calculateSimpleIndexForPartialSelection(selectedValues) {
                if (selectedValues.length === 0) return 0;
                let productIndexIds = Object.keys(this.optionConfig.index);
                Object.keys(this.optionConfig.attributes).forEach((attribute) => {
                                        const productsWithAttributeMatch = selectedValues[attribute]
                        ? productIndexIds.filter((productIndex) => {
                            return this.optionConfig.index[productIndex][attribute] === this.selectedValues[attribute]
                        })
                        : [];

                                        productIndexIds = productsWithAttributeMatch.length ? productsWithAttributeMatch : productIndexIds
                })
                return productIndexIds[0];
            },
            calculateSimpleIndexForFullSelection(selectedValues) {
                const productIndexes = this.optionConfig.index;
                return Object.keys(productIndexes).find(productIndex => {
                    const productCandidateOptions = productIndexes[productIndex];

                    for (const productOption in productCandidateOptions) {
                        if (
                            ! selectedValues[productOption] ||
                            selectedValues[productOption] !== productCandidateOptions[productOption]
                        ) {
                            return false;
                        }
                    }
                    return productIndex;
                });
            },
            productIndex: 0,
            findAllowedAttributeOptions() {
                                this.allowedAttributeOptions = this.calculateAllowedAttributeOptions(this.selectedValues);
            },
            calculateAllowedAttributeOptions(selectedValues) {
                const allAttributes = this.optionConfig.attributes;
                const allAttributesSorted = Object.values(allAttributes).sort((a,b) => {
                    return a.position - b.position
                });

                const selectionWithoutAttr = attrId => {
                                        return Object.keys(selectedValues).reduce((acc, id) => {
                        if (id !== attrId) acc[id] = selectedValues[id];
                        return acc;
                    }, {})
                }

                const newAllowedAttributeOptions = [];

                allAttributesSorted.forEach(attribute => {
                    const availableIndexes = this.calculateAvailableProductIndexes(selectionWithoutAttr(attribute.id));
                    newAllowedAttributeOptions[attribute.id] = allAttributes[attribute.id].options.filter(option => {
                        return !!option.products.find(product => {
                            return availableIndexes.includes(product);
                        })
                    });
                });
                return newAllowedAttributeOptions;
            },
            calculateAvailableProductIndexes(selectedOptions) {
                if (Object.keys(selectedOptions).length === 0) {
                                        return Object.keys(this.optionConfig.index);
                }

                                const selectedIds = Object.keys(selectedOptions);
                if (Object.values(this.optionConfig.salable || {}).length) {
                                        const selectedOptionIndexes = selectedIds.map(attrId => {
                        const optionValue = selectedOptions[attrId];
                        return this.optionConfig.salable[attrId] && this.optionConfig.salable[attrId][optionValue] || []
                    })
                                        return selectedOptionIndexes.reduce((acc, optionIndexes) => {
                        return acc.filter(index => optionIndexes.includes(index));
                    });
                } else {
                                        const productIndexes = this.optionConfig.index;
                    return Object.keys(productIndexes).filter(index => {
                        return selectedIds.find(attrId => productIndexes[index][attrId] === `${selectedOptions[attrId]}`)
                    });
                }
            },
            findAttributeByOptionId(optionId) {
                for (const attributeId in this.optionConfig.attributes) {
                    const attributeOptions = this.optionConfig.attributes[attributeId].options || [];
                    if (attributeOptions.find(option => option.id === optionId)) {
                        return attributeId;
                    }
                }
            },
            getAllowedAttributeOptions(attributeId) {
                return this.allowedAttributeOptions[attributeId] || []
            },
            getProductIdsForOption(option) {
                const attributeId = this.findAttributeByOptionId(option.id);
                const allOptions = this.optionConfig.attributes[attributeId];
                const opt = (allOptions && allOptions.options || []).find(o => o.id === option.id);
                return opt && opt.products
                    ? opt.products
                    : [];
            },
            findProductIdsForPartialSelection(optionSelection) {
                const candidateProducts = Object.values(optionSelection).reduce((candidates, optionId) => {
                    const newCandidates = this.getProductIdsForOption({id: optionId});
                    return candidates === null
                        ? newCandidates
                        : candidates.filter(productId => newCandidates.includes(productId));
                }, null);
                return candidateProducts || [];
            },
            findCheapestProductForPartialSelection(optionSelection) {
                const candidateProducts = this.findProductIdsForPartialSelection(optionSelection);
                return candidateProducts.reduce((cheapest, simpleIdx) => {
                    // in the first iteration we start with simpleIdx as the currently cheapest product
                    if (! this.optionConfig.optionPrices[cheapest]) return simpleIdx;
                    const knownCheapestPrice = this.optionConfig.optionPrices[cheapest].finalPrice.amount;
                    return knownCheapestPrice > this.optionConfig.optionPrices[simpleIdx].finalPrice.amount
                        ? simpleIdx
                        : cheapest;
                }, 0)
            },
            findProductIdToUseForOptionPrice(option) {
                // try to find a product for a complete selection
                const attributeId = this.findAttributeByOptionId(option.id);
                const optionSelection = Object.assign({}, this.selectedValues, {[attributeId]: option.id});
                const matchingSimpleIndex = this.calculateSimpleIndexForFullSelection(optionSelection);
                // if there is no complete selection, use the cheapest product for the option
                return matchingSimpleIndex || this.findCheapestProductForPartialSelection(optionSelection);
            },
            getAttributeOptionLabel(option) {
                const optionProduct = this.findProductIdToUseForOptionPrice(option);
                if ((! optionProduct) || (optionProduct === this.productIndex)) {
                    return option.label;
                }

                const currentPrice = this.getOptionPriceAdjustmentBasePrice();

                if (this.optionConfig.optionPrices[optionProduct]) {
                    const optionPrice = this.optionConfig.optionPrices[optionProduct].finalPrice.amount;
                    if (optionPrice !== currentPrice){
                        return option.label + ' ' + hyva.formatPrice(optionPrice - currentPrice, true);
                    }
                }
                return option.label;
            },
            getOptionPriceAdjustmentBasePrice() {
                if (this.optionConfig.optionPrices[this.productIndex]) {
                    return this.optionConfig.optionPrices[this.productIndex].finalPrice.amount
                }
                const cheapestForSelection = this.findCheapestProductForPartialSelection(this.selectedValues);
                return this.optionConfig.optionPrices[cheapestForSelection]
                    ? this.optionConfig.optionPrices[cheapestForSelection].finalPrice.amount
                    : this.optionConfig.prices.finalPrice.amount; // default price if no option selection
            },
            changeOption(optionId, value, isMatrix = false) {
                if (value === '') {
                    // create new array so the length property is reset if no option is selected (avoiding delete)
                    this.selectedValues = this.selectedValues.reduce((newSelection, val, opt) => {
                        if (opt !== optionId) {
                            newSelection[opt] = val;
                        }
                        return newSelection;
                    }, []);
                } else {
                    this.selectedValues[optionId] = value;
                }
                if (!isMatrix) this.setOutOfStockItems();
                this.findSimpleIndex();
                this.findAllowedAttributeOptions();
                this.updatePrices();
                this.updateGallery();
                this.setAddToCartText();
                this.selectedOptionsAreOutOfStock = this.checkItemsStock(parseInt(optionId), String(value));
                window.dispatchEvent(
                    new CustomEvent(
                        'configurable-selection-changed',
                        {
                            detail: {
                                productId: this.productId,
                                optionId: optionId,
                                value: value,
                                productIndex: this.productIndex,
                                selectedValues: this.selectedValues,
                                candidates: this.findProductIdsForPartialSelection(this.selectedValues),
                                isOutOfStock: this.selectedOptionsAreOutOfStock
                            }
                        }
                    )
                );
            },
            calculateIsMinimalPrice() {
                return (
                    this.selectedValues.filter(value => !!value).length <
                    Object.keys(this.optionConfig.attributes).length
                );
            },
            updatePrices() {
                const value = this.productIndex ?
                    this.optionConfig.optionPrices[this.productIndex] :
                    this.optionConfig.prices;
                window.dispatchEvent(
                    new CustomEvent(
                        "update-prices-" + this.productId,
                        {
                            detail: Object.assign(
                                value,
                                { isMinimalPrice: this.calculateIsMinimalPrice() }
                            )
                        }
                    )
                );
            },
            updateGallery () {
                if (this.productIndex) {
                    const images = this.optionConfig.images[this.productIndex];
                    images && window.dispatchEvent(new CustomEvent(
                        "update-gallery",
                        { detail: this.sortImagesByPosition(images) }
                    ));
                } else {
                    window.dispatchEvent(new Event("reset-gallery"));
                }
            },
            sortImagesByPosition(images) {
                return images.sort((x, y) => {
                    return x.isMain ? -1 : y.isMain ? 1 : 0;
                });
            },
            onGetCartData(data) {
                this.preselectCartItems(data);
                this.preselectQuerystringItems();
                this.preselectLocationHashItems();
            },
            preselectCartItems(data) {
                // pre-select options based on cart data for current (quote) itemId
                const cart = data && data.cart;
                if (cart && cart.items) {
                    const cartItem = cart.items.find((item) => {
                        return (
                            item.item_id === this.itemId
                            && item.product_id === this.productId
                        )
                    });
                    if (cartItem && cartItem.options && cartItem.options.length) {
                        cartItem.options.map(option => {
                            this.changeOption(option.option_id, option.option_value);
                        })
                    }
                }
            },
            preselectQuerystringItems() {
                // pre-select option like ?size=167
                const urlQueryParams = new URLSearchParams(window.location.search.replace('?', ''));
                Object.values(this.optionConfig.attributes).map(attribute => {
                    urlQueryParams.get(attribute.code) &&
                    this.changeOption(attribute.id, urlQueryParams.get(attribute.code));
                });
            },
            preselectLocationHashItems() {
                // pre-select option like #144=167
                const urlHashParams = new URLSearchParams(window.location.hash.replace('#', ''));
                Object.values(this.optionConfig.attributes).map(attribute => {
                    urlHashParams.get(attribute.id) &&
                    this.changeOption(attribute.id, urlHashParams.get(attribute.id));
                });
            },
            childProductsArrayBySku: [],
            outOfStockItemsByColor: [],
            outOfStockItemsBySize: [],
            outOfStockItemsByBoltSet: [],
            outOfStockItemsByPadType: [],
            outOfStockItemsBySingleMoonboardHold: [],
            mapByColorArray: [],
            mapBySizeArray: [],
            addToCartText: '',
            sizeAttribute: false,
            colorAttribute: false,
            boltSetAttribute: false,
            padTypeAttribute: false,
            singleMoonboardHoldAttribute: false,
            sizeAttributeId: 0,
            colorAttributeId: 0,
            boltSetAttributeId: 0,
            padTypeAttributeId: 0,
            singleMoonboardHoldAttributeId: 0,

            setItemsArrayBySku(childProductsArrayBySku) {
				this.childProductsArrayBySku = childProductsArrayBySku;
                this.sizeAttribute = childProductsArrayBySku?.attributeIds.sizeAttribute ?? false;
                this.colorAttribute = childProductsArrayBySku?.attributeIds.colorAttribute ?? false;
                this.sizeAttributeId = childProductsArrayBySku?.attributeIds.sizeAttributeId ?? false;
                this.colorAttributeId = childProductsArrayBySku?.attributeIds.colorAttributeId ?? false;
                this.boltSetAttribute = childProductsArrayBySku?.attributeIds.bolt_setAttribute ?? false;
                this.boltSetAttributeId = childProductsArrayBySku?.attributeIds.bolt_setAttributeId ?? false;
                this.padTypeAttribute = childProductsArrayBySku?.attributeIds.pad_typeAttribute ?? false;
                this.padTypeAttributeId = childProductsArrayBySku?.attributeIds.pad_typeAttributeId ?? false;
                this.singleMoonboardHoldAttribute = childProductsArrayBySku?.attributeIds.single_moonboard_holdsAttribute ?? false;
                this.singleMoonboardHoldAttributeId = childProductsArrayBySku?.attributeIds.single_moonboard_holdsAttributeId ?? false;
            },
            setOutOfStockItems(isConfigurableOutOfStock) {
                let skuItems = this.childProductsArrayBySku.attributesArrayBySku;
                let skuItemsValues = Object.values(skuItems);
                let noStockItemsByColor = [];
                let noStockItemsBySize = [];
                let noStockItemsByPadType = [];
                let noStockItemsByBoltSet = [];
                let noStockItemsBySingleMoonboardHold = [];
                this.isConfigurableOutOfStock = isConfigurableOutOfStock;

                if (this.colorAttribute && !this.sizeAttribute) {
                    skuItemsValues.forEach(skuItem => {
                        if (!skuItem.qty > 0) {
                            noStockItemsByColor.push(skuItem.colorId);
                        }
                    });
                }

                if (this.sizeAttribute && !this.colorAttribute) {
                    skuItemsValues.forEach(skuItem => {
                        if (!skuItem.qty > 0) {
                            noStockItemsBySize.push(skuItem.sizeId);
                        }
                    });
                }

                if (this.boltSetAttribute) {
                    skuItemsValues.forEach(skuItem => {
                        if (!skuItem.qty > 0) {
                            noStockItemsByBoltSet.push(skuItem.bolt_setId);
                        }
                    });
                }

                if (this.padTypeAttribute) {
                    skuItemsValues.forEach(skuItem => {
                        if (!skuItem.qty > 0) {
                            noStockItemsByPadType.push(skuItem.pad_typeId);
                        }
                    });
                }

                if (this.singleMoonboardHoldAttribute) {
                    skuItemsValues.forEach(skuItem => {
                        if (!skuItem.qty > 0) {
                            noStockItemsBySingleMoonboardHold.push(skuItem.single_moonboard_holdsId);
                        }
                    });
                }

                this.outOfStockItemsByColor = noStockItemsByColor;
                this.outOfStockItemsBySize = noStockItemsBySize;
                this.outOfStockItemsByBoltSet = noStockItemsByBoltSet;
                this.outOfStockItemsByPadType = noStockItemsByPadType;
                this.outOfStockItemsBySingleMoonboardHold = noStockItemsBySingleMoonboardHold;

                if (this.sizeAttribute && this.colorAttribute) {
                    this.setColorSizeAttributesStocks(skuItemsValues);
                }
            },
            setColorSizeAttributesStocks(skuItemsValues) {
                let noStockItemsByColor = [];
                let noStockItemsBySize = [];

                skuItemsValues.forEach(skuItem => {
                    if (this.selectedValues[this.sizeAttributeId] && skuItem.sizeId === this.selectedValues[this.sizeAttributeId] && !skuItem.qty > 0) {
                        noStockItemsByColor.push(skuItem.colorId);
                    }
                    if (this.selectedValues[this.colorAttributeId] && skuItem.colorId === this.selectedValues[this.colorAttributeId] && !skuItem.qty > 0) {
                        noStockItemsBySize.push(skuItem.sizeId);
                    }
                });
                this.outOfStockItemsByColor = noStockItemsByColor;
                this.outOfStockItemsBySize = noStockItemsBySize;

                if (!this.selectedValues.length > 0) {
                    this.setColorSizeAttributesBeforeSelection(skuItemsValues);
                }
            },
            setColorSizeAttributesBeforeSelection(skuItemsValues) {
                let noStockItemsByColor = [];
                let noStockItemsBySize = [];
                let stockItemsByColor = [];
                let stockItemsBySize = [];
                skuItemsValues.forEach(skuItem => {
                    if (!skuItem.qty > 0) {
                        noStockItemsByColor.push(skuItem.colorId);
                        noStockItemsBySize.push(skuItem.sizeId);
                    } else {
                        stockItemsByColor.push(skuItem.colorId);
                        stockItemsBySize.push(skuItem.sizeId);
                    }
                });
                noStockItemsByColor = noStockItemsByColor.filter(this.onlyUnique).filter(item => !stockItemsByColor.includes(item));
                noStockItemsBySize = noStockItemsBySize.filter(this.onlyUnique).filter(item => !stockItemsBySize.includes(item));
                this.outOfStockItemsByColor = noStockItemsByColor;
                this.outOfStockItemsBySize = noStockItemsBySize;
            },
            onlyUnique(value, index, array) {
                return array.indexOf(value) === index;
            },
            checkItemsStock(attributeId, itemId) {
                if (attributeId === Number(this.sizeAttributeId)) {
                    return this.outOfStockItemsBySize.includes(itemId);
                }

                if (attributeId === Number(this.colorAttributeId)) {
                    return this.outOfStockItemsByColor.includes(itemId);
                }

                if (attributeId === Number(this.boltSetAttributeId)) {
                    return this.outOfStockItemsByBoltSet.includes(itemId);
                }

                if (attributeId === Number(this.padTypeAttributeId)) {
                    return this.outOfStockItemsByPadType.includes(itemId);
                }

                if (attributeId === Number(this.singleMoonboardHoldAttributeId)) {
                    return this.outOfStockItemsBySingleMoonboardHold.includes(itemId);
                }
            },
            checkIfOptionsSelected() {
                if (this.sizeAttribute && this.colorAttribute && (!this.selectedValues[this.sizeAttributeId] || !this.selectedValues[this.colorAttributeId])) {
                    return false;
                }
                if (this.sizeAttribute && !this.colorAttribute && !this.selectedValues[this.sizeAttributeId]) {
                    return false;
                }
                if (!this.sizeAttribute && this.colorAttribute && !this.selectedValues[this.colorAttributeId]) {
                    return false;
                }

                return true;
            },
            setAddToCartText() {
                if (this.childProductsArrayBySku?.attributeIds.colorAttribute === true && !this.selectedValues[this.colorAttributeId]) {
                    this.addToCartText = 'Select color'
                    return

                }

                if (this.childProductsArrayBySku?.attributeIds.sizeAttribute === true && !this.selectedValues[this.sizeAttributeId]) {
                    this.addToCartText = 'Select size'
                }
            },
            setSelectedColor(attributeId, itemId) {
                let text = 'Select color';

                if (itemId) {
                    text = this.getSwatchText(attributeId, itemId);
                }

                return text;
            },
            getAttributes() {
                return this.optionConfig && this.optionConfig.attributes ? this.optionConfig.attributes : null;
            },
            getAttributeKey(attributeName) {
                const attributes = this.getAttributes();

                return attributes ? Object.keys(attributes).filter(key => attributes[key].code === attributeName)[0] : null;
            },
            checkParameterExistsInAttribute(attributeName, attributeValue) {
                const attributes = this.getAttributes();
                const attributeKey  = this.getAttributeKey(attributeName);
                const attributesArray = attributes[attributeKey]['options'].map((item) => item.id);

                return attributesArray.includes(attributeValue);
            },
            selectOptionsUsingQueryParams() {
                const attributes = this.getAttributes();
                const colorsKey =  this.getAttributeKey('color');
                const sizeKey = this.getAttributeKey('size');
                const params = new Proxy(new URLSearchParams(window.location.search),
                        {get: (searchParams, prop) => searchParams.get(prop),});
                
                if (params.color && this.checkParameterExistsInAttribute('color', params.color)) {
                    this.changeOption(parseInt(colorsKey), params.color);
                }

                if (params.size && this.checkParameterExistsInAttribute('size', params.size)) {
                    this.changeOption(parseInt(sizeKey), params.size);
                }
            }
        }
    }

</script>
<script>
    function initSwatchOptions(swatchConfig) {
        return {
            swatchConfig,
            getAttributeSwatchData(attributeId) {
                const swatchConfig = Object.assign({}, this.swatchConfig[attributeId]);
                swatchConfig['details'] = JSON.parse(swatchConfig['additional_data']);

                return swatchConfig;
            },
            getAllAttributeOptions(attributeId) {
                return (
                    this.optionConfig.attributes[attributeId] &&
                    this.optionConfig.attributes[attributeId].options
                ) || []
            },
            optionIsActive(attributeId, optionId) {
                // return true if a product with this option is in stock
                return !!this.getAllowedAttributeOptions(attributeId).find(
                    option => option.id === optionId
                )
            },
            optionIsEnabled(attributeId, optionId) {
                // return true if a product with this option is enabled
                for (const productId in this.optionConfig.index) {
                    if (this.optionConfig.index[productId][attributeId] === optionId) {
                        return true;
                    }
                }

                return false;
            },
            mapSwatchTypeNumberToTypeCode(typeNumber) {
                switch ("" + typeNumber) {
                    case "1":
                        return "color"
                    case "2":
                        return "image"
                    case "3":
                        return "empty"
                    case "0":
                    default:
                        return "text"
                }
            },
            getTypeOfFirstOption(attributeId) {
                for (const optionId in this.swatchConfig[attributeId]) {
                    const option = this.swatchConfig[attributeId][optionId];
                    if (typeof option.type !== 'undefined') {
                        return this.mapSwatchTypeNumberToTypeCode(option.type);
                    }
                }
            },
            getVisualSwatchType(attributeId, targetOptionId) {
                // If a type configuration is present for the given option id, use it
                const config = this.swatchConfig[attributeId];
                if (config[targetOptionId] && typeof config[targetOptionId].type !== 'undefined') {
                    return this.mapSwatchTypeNumberToTypeCode(config[targetOptionId].type);
                }

                // Otherwise - if no config is present for the target option - use the type of the first option
                // with a type property from the attribute, thus assuming its the same type as the target option.
                // (This edge case condition can occur on single swatch products if some options are not salable)
                return this.getTypeOfFirstOption(attributeId);
            },
            getSwatchType(attributeId, optionId) {
                // Deserialize the attribute details the first time they are used
                if (this.swatchConfig[attributeId] && ! this.swatchConfig[attributeId].details) {
                    this.swatchConfig[attributeId] = this.getAttributeSwatchData(attributeId);
                }
                const type =  this.swatchConfig[attributeId] &&
                    this.swatchConfig[attributeId].details &&
                    this.swatchConfig[attributeId].details.swatch_input_type ||
                    "empty";

                return type === 'visual' ? this.getVisualSwatchType(attributeId, optionId) : type;
            },
            isTextSwatch(attributeId, optionId) {
                return this.getSwatchType(attributeId, optionId) === 'text';
            },
            isVisualSwatch(attributeId, optionId) {
                const type = this.getSwatchType(attributeId, optionId);

                return ['image', 'color'].includes(type);
            },
            getSwatchBackgroundStyle(attributeId, optionId, isSelected) {
                const config = this.getSwatchConfig(attributeId, optionId);
                const type = this.getSwatchType(attributeId, optionId);

                if (type === "color") {
                    if (config.value == '#ffffff' && !isSelected) {
                      return `background-color: ${config.value}; border: 1px solid #575757`
                    } else {
                        return 'background-color:' + config.value;
                    }
                } else if (type === "image") {
                    return "background: #ffffff url('" + config.value + "') no-repeat center; background-size:cover";
                } else {
                    return '';
                }
            },
            getSwatchText(attributeId, optionId) {
                const config = this.getSwatchConfig(attributeId, optionId);

                return config.label || config.value || this.getOptionLabelFromOptionConfig(attributeId, optionId);
            },
            getOptionLabelFromOptionConfig(attributeId, optionId) {
                // Fallback if no value is present in swatchConfig data
                // Reference issue https://gitlab.hyva.io/hyva-themes/magento2-default-theme/-/issues/190
                const option = this.getAllAttributeOptions(attributeId).filter(option => option.id === optionId);

                return option && option[0] && option[0].label ||'';
            },
            getSwatchConfig(attributeId, optionId) {
                return this.swatchConfig[attributeId] && this.swatchConfig[attributeId][optionId]
                    ? this.swatchConfig[attributeId][optionId]
                    : false;
            },
            activeTooltipItem: false,
            tooltipPositionElement: false,
            isTooltipVisible() {
                return this.activeTooltipItem &&
                    this.getSwatchConfig(
                        this.activeTooltipItem.attribute,
                        this.activeTooltipItem.item
                    );
            },
            getTooltipImageStyle(attributeId, optionId) {
                const config = this.getSwatchConfig(attributeId, optionId);
                const type = this.getSwatchType(attributeId, optionId);

                if (type === "color") {
                    return 'background-color:' + config.value + '; width: 110px; height: 90px;';
                } else if (type === "image") {
                    return "background: #ffffff url('" + config.thumb +
                        "') center center no-repeat; width: 110px; height: 90px;";
                } else {
                    return 'display:none';
                }
            },
            getTooltipPosition() {
                return this.tooltipPositionElement ?
                    `top: ${this.tooltipPositionElement.offsetTop}px;` +
                    `left: ${
                        this.tooltipPositionElement.offsetLeft - (
                            this.tooltipPositionElement.closest('.snap') &&
                            this.tooltipPositionElement.closest('.snap').scrollLeft ||
                            0
                        )
                    }px;` : ''
            },
            getTooltipLabel() {
                return this.getSwatchConfig(this.activeTooltipItem.attribute, this.activeTooltipItem.item).label
            },
            focusedLabel: false,
            focusLabel(optionId) {
                this.focusedLabel = optionId;
            },
            blurLabel() {
                this.focusedLabel = false;
            },
            showSwatches: false,
            initShowSwatchesIntersect() {
                if ('IntersectionObserver' in window && !window.scrollY) {
                    let io = new IntersectionObserver(
                        entries => {
                            entries.map(entry => {
                                if (entry.isIntersecting) {
                                    this.showSwatches = true;
                                    io.unobserve(this.$root);
                                }
                            })
                        }
                    );
                    io.observe(this.$root);
                } else {
                    this.showSwatches = true
                }
            }
        }
    }
</script>
<script>
    'use strict';

    (function () {
        const modals = [];
        const excludedFromFocusTrapping = new Set();

        function loadInertPolyfill(callback) {
            // undocumented "feature", should not be used unless inert attribute support is guaranteed
            if (window.hyva.modal.disableInertPolyfill) {
                callback && callback();
            } else {
                const polyfill = document.createElement('script');
                polyfill.src = 'https\u003A\u002F\u002Fmoonclimbing.com\u002Fstatic\u002Fversion1725881161\u002Ffrontend\u002FMoon\u002Fhyva\u002Fen_GB\u002FHyva_Theme\u002Fjs\u002Fwicg\u002Dinert\u002D3.1.1\u002Finert.min.js';
                callback && polyfill.addEventListener('load', callback);
                const firstScriptTag = document.getElementsByTagName('script')[0];
                firstScriptTag.parentNode.insertBefore(polyfill, firstScriptTag);
            }
        }

        let isInertPolyfillLoaded = 0;
        function setSiblingsInert(dialogElement, toState) {
            if (isInertPolyfillLoaded === 0) {
                isInertPolyfillLoaded = 1;
                loadInertPolyfill(() => {
                    isInertPolyfillLoaded = 2;
                    setSiblingsInert(dialogElement, toState)
                })
                return;
            }
            if (isInertPolyfillLoaded === 1) {
                return;
            }
            // Walk up the DOM, toggle inert attribute the siblings at each level
            let el = dialogElement;
            while (el && (el = el.parentElement)) {
                if (el === document.body || el.parentElement === null) continue;

                Array.from(el.parentElement.children).forEach(sibling => {
                    if (sibling !== el) {
                        sibling.inert = toState;
                    }
                })
            }
            // Walk down the DOM, toggle inert attribute to opposite of toState.
            // This is needed if a nested dialog is rendered as a sibling of the opening dialog.
            (function setChildrenInert(el, toState) {
                if (el) {
                    el.inert = toState;
                    Array.from(el.children).forEach(child => setChildrenInert(child, toState));
                }
            })(findParentWithOverlaySpread(dialogElement), ! toState)

            excludedFromFocusTrapping.forEach(selector => {
                Array.from(document.querySelectorAll(selector)).map(el => el.inert = false);
            })
        }

        function findParentWithOverlaySpread(el) {
            while (el && (el = el.parentElement)) {
                if (el === document.body || el.parentElement === null) continue;
                if (el.hasAttribute('x-spread') && el.getAttribute('x-spread').indexOf('overlay(') !== -1) {
                    return el;
                }
            }
        }

        function freeFocusFromModalTrap(modal) {
            const dialogElement = modal.viewModel.$refs[modal.name];
            isOverlayDisabled(dialogElement) || modal.viewModel.$nextTick(() => setSiblingsInert(dialogElement, false));
        }

        function trapFocusInNextModalWithOverlay() {
            for (let idx = modals.length -1; idx >= 0; idx--) {
                const nextOnStack = modals[idx];
                const nextDialogElement = nextOnStack.viewModel.$refs[nextOnStack.name];
                if (! isOverlayDisabled(nextDialogElement)) {
                    nextOnStack.viewModel.$nextTick(() => setSiblingsInert(nextDialogElement, true));
                    break;
                }
            }
        }

        function focusables(dialogElement) {
            const selector = 'a, button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';
            return Array.from(dialogElement.querySelectorAll(selector))
                .filter(el => !el.hasAttribute('disabled'));
        }

        function firstVisible(elements) {
            const a = Array.from(elements);
            for (let i = 0; i < a.length; i++) {
                if (a[i].offsetWidth || a[i].offsetHeight || a[i].getClientRects().length) return a[i];
            }
            return null;
        }

        function isInViewport(element) {
            const rect = element && element.getBoundingClientRect();
            return rect &&
                rect.top >= 0 &&
                rect.left >= 0 &&
                rect.right <= window.innerWidth &&
                rect.bottom <= window.innerHeight;
        }

        function setFocusAfterTransition(dialogElement, duration) {
            window.setTimeout(() => {
                const focusElement = firstVisible(dialogElement.querySelectorAll('[x-focus-first]')) ||
                    focusables(dialogElement)[0] ||
                    null;
                focusElement && isInViewport(focusElement) && focusElement.focus();
            }, duration + 1);
        }

        function determineTrigger($refs, dialog, trigger) {
            // if show() was called without arguments use the event target as open trigger
            if (typeof trigger === 'undefined' && typeof dialog === 'object' && dialog.target && dialog.target.focus) {
                return dialog.target;
            }
            // if show('name', $event) was called with the event as the second argument use the event target as trigger
            if (typeof dialog === 'string' && typeof trigger === 'object' && trigger.target && trigger.target.focus) {
                return trigger.target;
            }
            // if show('name', 'trigger') was called with the ref name of the trigger element use that as the trigger
            if (typeof trigger === 'string' && $refs[trigger]) {
                return $refs[trigger];
            } else {
                // unknown trigger - no focus will be set when the dialog is hidden.
                return null;
            }
        }

        function isOverlayDisabled(dialog) {
            return dialog && dialog.hasAttribute('x-no-overlay')
        }

        function areRemainingModalsWithoutOverlay(modals)
        {
            const overflowDisabled = modals.map(modal => modal.viewModel.$refs[modal.name]).filter(isOverlayDisabled);

            return overflowDisabled.length === modals.length;
        }

        window.hyva.modal = function(options) {

            const config = Object.assign({
                dialog: 'dialog', // default dialog ref name
                duration: 300, // ms before allowing subsequent hiding of modals for nested modals (see transition duration)
                transitionEnter: 'transition ease-out duration-300',
                transitionEnterStart: 'opacity-0',
                transitionEnterEnd: 'opacity-100',
                transitionLeave: 'transition ease-in duration-300',
                transitionLeaveStart: 'opacity-100',
                transitionLeaveEnd: 'opacity-0',
            }, options);
            let lastHide = 0;

            return {
                opened: {},
                show(dialog, trigger) {
                    const focusTargetAfterHide = determineTrigger(this.$refs, dialog, trigger);
                    const name = typeof dialog === 'string' ? dialog : config.dialog;
                    const dialogElement = this.$refs[name];
                    if (! dialogElement) {
                                                return;
                    }
                    const useOverlay = ! dialogElement.hasAttribute('x-no-overlay');

                    dialogElement.scrollTop = 0;

                                        if (this.opened[name]) {
                        return;
                    }

                    this.opened[name] = true;
                    useOverlay && this.$nextTick(() => setSiblingsInert(dialogElement, true));
                    setFocusAfterTransition(dialogElement, config.duration);

                    const frame = {name, viewModel: this, focusTarget: focusTargetAfterHide, time: Date.now()};

                    modals.push(frame);
                    if (useOverlay) {
                        document.body.classList.add('overflow-hidden');
                    }
                    return new Promise(resolve => frame.resolve = resolve);
                },
                cancel() {
                    this.hide(false);
                },
                ok() {
                    this.hide(true);
                },
                hide(value) {
                    // Guard against Escape being pressed multiple times before a transition is finished, otherwise
                    // this function will pop further dialogs from the stack but the display will not update.
                    if (Date.now() - lastHide < config.duration) {
                        return;
                    }
                    lastHide = Date.now();

                    const modal = modals.pop() || {};
                    const name = modal.name;
                    this.opened[name] = false;

                    freeFocusFromModalTrap(modal)
                    trapFocusInNextModalWithOverlay();

                    const nextFocusAfterHide = modal.focusTarget;
                    nextFocusAfterHide && this.$nextTick(() => nextFocusAfterHide.focus());

                    if (modals.length === 0 || areRemainingModalsWithoutOverlay(modals)) {
                        document.body.classList.remove('overflow-hidden');
                    }

                    modal.resolve(value);
                },
                overlay(dialog) {
                    const name = typeof dialog === 'string' ? dialog : config.dialog;
                    return {
                        ['x-show']() {
                            return this.opened[name]
                        },
                        ['x-transition:enter']: config.transitionEnter,
                        ['x-transition:enter-start']: config.transitionEnterStart,
                        ['x-transition:enter-end']: config.transitionEnterEnd,
                        ['x-transition:leave']: config.transitionLeave,
                        ['x-transition:leave-start']: config.transitionLeaveStart,
                        ['x-transition:leave-end']: config.transitionLeaveEnd,
                        ['@hyva-modal-show'](event) {
                            event.detail && event.detail.dialog === name && this.show(name)
                        }
                    };
                }
            };
        }

        window.hyva.modal.pop = function () {
            if (modals.length > 0) {
                const modal = modals[modals.length -1];
                modal.viewModel.hide();
            }
        }

        window.hyva.modal.excludeSelectorsFromFocusTrap = function (selectors) {
            typeof selectors === 'string' || selectors instanceof String
                ? excludedFromFocusTrapping.add(selector)
                : selectors.map(selector => excludedFromFocusTrapping.add(selector));
        }

        window.hyva.modal.eventListeners = {
            keydown: event => {
                if (event.key === 'Escape') {
                    window.hyva.modal.pop();
                }
            },
            // generic modal @click.outside handler
            click: event => {
                if (modals.length > 0) {
                    const modal = modals[modals.length -1];
                    const dialog = modal.viewModel.$refs[modal.name];
                    if (modal.time + 10 < Date.now() && // if last click processing is more than 10ms ago
                        ! isOverlayDisabled(dialog) && // if dialog has overlay
                        ! dialog.contains(event.target)) { // if click is outside of dialog
                        modal.viewModel.hide();
                    }
                }
            }
        };

        document.addEventListener('keydown', window.hyva.modal.eventListeners.keydown);

        document.addEventListener('click', window.hyva.modal.eventListeners.click);
    })();
</script>
<script>
    'use strict';

    (() => {
        const equalizeButtonWidths = (buttons) => {
            const buttonList = buttons.querySelectorAll('[data-element="link"], [data-element="empty_link"]');
            let buttonMinWidth = 0;

            buttonList.forEach(button => {
                const buttonWidth = button.offsetWidth;

                if (buttonWidth > buttonMinWidth) {
                    buttonMinWidth = buttonWidth;
                }
            });

            buttonList.forEach(button => {
                button.style.minWidth = `${buttonMinWidth}px`;
            });
        };

        window.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('[data-content-type="buttons"][data-same-width="true"]').forEach(buttons => {
                equalizeButtonWidths(buttons);
            });
        });
    })();
</script>
<script>
    'use strict';

    (() => {
        const initCarousels = (elements) => {
            if (!Glider) {
                return;
            }

            const initProductCarousel = (carousel) => {
                const gliderElement = carousel.querySelector('[data-role="glider-content"]');

                if (!gliderElement) {
                    return;
                }

                const gliderDots = carousel.querySelector('.glider-dots');
                const gliderPrev = carousel.querySelector('.glider-prev');
                const gliderNext = carousel.querySelector('.glider-next');

                const glider = new Glider(gliderElement, {
                    slidesToShow: 2,
                    slidesToScroll: 2,
                    scrollLock: true,
                    draggable: true,
                    dragVelocity: 2.5,
                    dots: gliderDots,
                    arrows: {
                        prev: gliderPrev,
                        next: gliderNext,
                    },
                    responsive: [
                        {
                            breakpoint: 768,
                            settings: {
                                slidesToShow: 3,
                                slidesToScroll: 3,
                            }
                        },
                        {
                            breakpoint: 1024,
                            settings: {
                                slidesToShow: 4,
                                slidesToScroll: 4,
                            }
                        },
                    ],
                });

                carousel.classList.remove('overflow-x-scroll');
                if (gliderPrev) gliderPrev.classList.remove('hidden');
                if (gliderNext) gliderNext.classList.remove('hidden');

                if (carousel.dataset.autoplay !== 'false') {
                    gliderAutoplay(
                        glider,
                        carousel.dataset.autoplaySpeed,
                        carousel.dataset.infiniteLoop
                    );
                }
            };

            const initSliderCarousel = (slider) => {
                slider.innerHTML = `<div data-role="glider-content">${slider.innerHTML}</div>`;
                slider.classList.add('glider-contain');

                slider.insertAdjacentHTML(
                    'beforeend',
                    '\u000A\u003Cdiv\u0020class\u003D\u0022carousel\u002Dnav\u0020flex\u0020items\u002Dcenter\u0020justify\u002Dcenter\u0020flex\u002D1\u0020p\u002D4\u0022\u003E\u000A\u0020\u0020\u0020\u0020\u003Cbutton\u000A\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020aria\u002Dlabel\u003D\u0022Previous\u0022\u000A\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020class\u003D\u0022glider\u002Dprev\u0020w\u002D8\u0020h\u002D8\u0020mr\u002D1\u0020text\u002Dblack\u0020rounded\u002Dfull\u0020outline\u002Dnone\u0020focus\u003Aoutline\u002Dnone\u0020hidden\u0022\u003E\u000A\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u003Csvg\u0020xmlns\u003D\u0022http\u003A\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\u0022\u0020fill\u003D\u0022none\u0022\u0020viewBox\u003D\u00220\u00200\u002024\u002024\u0022\u0020stroke\u003D\u0022currentColor\u0022\u0020width\u003D\u002224\u0022\u0020height\u003D\u002224\u0022\u003E\u000A\u0020\u0020\u003Cpath\u0020stroke\u002Dlinecap\u003D\u0022round\u0022\u0020stroke\u002Dlinejoin\u003D\u0022round\u0022\u0020stroke\u002Dwidth\u003D\u00222\u0022\u0020d\u003D\u0022M15\u002019l\u002D7\u002D7\u00207\u002D7\u0022\u002F\u003E\u000A\u003C\u002Fsvg\u003E\u000A\u0020\u0020\u0020\u0020\u003C\u002Fbutton\u003E\u000A\u0020\u0020\u0020\u0020\u003Cdiv\u0020role\u003D\u0022tablist\u0022\u0020class\u003D\u0022glider\u002Ddots\u0020select\u002Dnone\u0020flex\u0020flex\u002Dwrap\u0020mx\u002D1\u0020justify\u002Dcenter\u0020p\u002D0\u0020focus\u003Aoutline\u002Dnone\u0022\u003E\u003C\u002Fdiv\u003E\u000A\u0020\u0020\u0020\u0020\u003Cbutton\u000A\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020aria\u002Dlabel\u003D\u0022Next\u0022\u000A\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020class\u003D\u0022glider\u002Dnext\u0020w\u002D8\u0020h\u002D8\u0020ml\u002D1\u0020text\u002Dblack\u0020rounded\u002Dfull\u0020outline\u002Dnone\u0020focus\u003Aoutline\u002Dnone\u0020hidden\u0022\u003E\u000A\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u003Csvg\u0020xmlns\u003D\u0022http\u003A\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\u0022\u0020fill\u003D\u0022none\u0022\u0020viewBox\u003D\u00220\u00200\u002024\u002024\u0022\u0020stroke\u003D\u0022currentColor\u0022\u0020width\u003D\u002224\u0022\u0020height\u003D\u002224\u0022\u003E\u000A\u0020\u0020\u003Cpath\u0020stroke\u002Dlinecap\u003D\u0022round\u0022\u0020stroke\u002Dlinejoin\u003D\u0022round\u0022\u0020stroke\u002Dwidth\u003D\u00222\u0022\u0020d\u003D\u0022M9\u00205l7\u00207\u002D7\u00207\u0022\u002F\u003E\u000A\u003C\u002Fsvg\u003E\u000A\u0020\u0020\u0020\u0020\u003C\u002Fbutton\u003E\u000A\u003C\u002Fdiv\u003E\u000A'
                );

                const gliderElement = slider.querySelector('[data-role="glider-content"]');
                const gliderDots = slider.querySelector('.glider-dots');
                const gliderPrev = slider.querySelector('.glider-prev');
                const gliderNext = slider.querySelector('.glider-next');

                const glider = new Glider(gliderElement, {
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    scrollLock: true,
                    scrollLockDelay: 250,
                    draggable: false,
                    dots: gliderDots,
                    arrows: {
                        prev: gliderPrev,
                        next: gliderNext,
                    },
                    responsive: [
                        {
                            breakpoint: 768,
                            settings: {
                                draggable: true,
                                dragVelocity: 2.5
                            }
                        }
                    ]
                });

                slider.classList.add('glider-initialized');
                if (slider.dataset.showArrows === 'true') {
                    gliderPrev.classList.remove('hidden');
                    gliderNext.classList.remove('hidden');
                }

                if (slider.dataset.autoplay !== 'false') {
                    gliderAutoplay(
                        glider,
                        slider.dataset.autoplaySpeed,
                        slider.dataset.infiniteLoop
                    );
                }
            };

            const gliderAutoplay = (glider, milliseconds, loop) => {
                const pagesCount = glider.track.childElementCount;
                let slideTimeout = null;
                let nextIndex = 1;
                let paused = false;

                const slide = () => {
                    slideTimeout = setTimeout(
                        () => {
                            if (loop && nextIndex >= pagesCount) {
                                nextIndex = 0;
                            }
                            glider.scrollItem(nextIndex);
                        },
                        parseInt(milliseconds)
                    );
                };

                glider.ele.addEventListener('glider-animated', () => {
                    nextIndex = glider.slide + glider.opt.slidesToScroll;
                    window.clearInterval(slideTimeout);
                    if (!paused && (loop || nextIndex < pagesCount)) {
                        slide();
                    }
                });

                const pause = () => {
                    if (!paused) {
                        clearInterval(slideTimeout);
                        paused = true;
                    }
                };

                const unpause = () => {
                    if (paused) {
                        slide();
                        paused = false;
                    }
                };

                glider.ele.parentElement.addEventListener('mouseover', pause, {passive: true});
                glider.ele.parentElement.addEventListener('touchstart', pause, {passive: true});
                glider.ele.parentElement.addEventListener('mouseout', unpause, {passive: true});
                glider.ele.parentElement.addEventListener('touchend', unpause, {passive: true});

                slide();
            };

            elements.forEach(element => {
                if (element.dataset.contentType === 'products') {
                    initProductCarousel(element);
                }
                if (element.dataset.contentType === 'slider') {
                    initSliderCarousel(element);
                }
            });
        };

        window.addEventListener('DOMContentLoaded', () => {
            const carouselElements = document.querySelectorAll(
                `[data-content-type="products"][data-appearance="carousel"],
                [data-content-type="slider"]`
            );

            if (carouselElements.length > 0) {
                const script = document.createElement('script');
                script.type = 'text/javascript';

                script.addEventListener('load', () => {
                    initCarousels(carouselElements);
                });

                script.src = 'https\u003A\u002F\u002Fmoonclimbing.com\u002Fstatic\u002Fversion1725881161\u002Ffrontend\u002FMoon\u002Fhyva\u002Fen_GB\u002FMagento_PageBuilder\u002Fjs\u002Fglider.min.js';
                document.head.appendChild(script);
            }
        });
    })();
</script>
<script>
    'use strict';

    (() => {
        const initMaps = (elements) => {
            const renderMap = (element) => {
                const dataLocations = element.dataset.locations;

                // Hide map if no locations set
                if (!dataLocations || dataLocations === '[]') {
                    element.classList.add('hidden');
                    return;
                }

                const map = new google.maps.Map(
                    element,
                    getMapOptions(
                        element.dataset.showControls !== 'true',
                        element.dataset.showControls === 'true'
                    )
                );
                const locations = JSON.parse(dataLocations);
                const latitudeLongitudeBounds = new google.maps.LatLngBounds();
                const bounds = [];

                locations.forEach(location => {
                    const position = {
                        lat: parseFloat(location.position.latitude),
                        lng: parseFloat(location.position.longitude),
                    };
                    bounds.push(position);

                    const infowindow = new google.maps.InfoWindow({
                        content: getInfoWindowContent(location),
                    });
                    const marker = new google.maps.Marker({
                        position: position,
                        map,
                        title: location.location_name,
                    });

                    marker.addListener('click', () => {
                        infowindow.open(map, marker);
                    });
                });

                // Set bounds if multiple locations
                if (bounds.length > 1) {
                    bounds.forEach(function (bound) {
                        latitudeLongitudeBounds.extend(bound);
                    });
                    map.fitBounds(latitudeLongitudeBounds);
                }

                // Center if single location
                if (bounds.length === 1) {
                    map.setCenter(bounds[0]);
                }
            };

            const getMapOptions = (disableDefaultUI, mapTypeControl) => {
                const style = '';
                return {
                    zoom: 8,
                    scrollwheel: false,
                    disableDoubleClickZoom: false,
                    mapTypeControlOptions: {
                        style: google.maps.MapTypeControlStyle.DEFAULT,
                    },
                    styles: style ? JSON.parse(style) : [],
                    disableDefaultUI: disableDefaultUI,
                    mapTypeControl: mapTypeControl,
                };
            };

            const getInfoWindowContent = (location) => {
                const title = location.location_name ?
                    `<h3 class="text-2xl font-medium text-gray-900 title-font">${location.location_name}</h3>` : '';
                const comment = location.comment ? `<p class="px-1 pt-3 text-primary">${location.comment}</p>` : '';
                const phone = location.phone ? `<p class="px-1 pt-3 text-primary">Phone: ${location.phone}</p>` : '';
                const street = location.address ? `${location.address}<br/>` : '';
                const city = location.city ? `${location.city}<br/>` : '';
                const state = location.state ? `${location.state}<br/>` : '';
                const zipCode = location.zipcode ? `${location.zipcode}<br/>` : '';
                const country = location.country ? location.country : '';

                return `<div>
                            ${title}
                            ${comment}
                            ${phone}
                            <p class="px-1 pt-3 text-primary">
                                ${street}
                                ${city}
                                ${state}
                                ${zipCode}
                                ${country}
                            </p>
                        </div>`;
            };

            const hideAllMaps = () => {
                document.querySelectorAll('[data-content-type="map"]').forEach(element => {
                    element.classList.add('hidden');
                });
            };

            window.gm_authFailure = () => {
                hideAllMaps();
            };

            if (typeof google.maps === 'undefined') {
                hideAllMaps();
                return;
            }

            elements.forEach(element => {
                if (element.dataset.contentType === 'map') {
                    renderMap(element);
                }
            });
        };

        window.addEventListener('DOMContentLoaded', () => {
            const mapElements = document.querySelectorAll('[data-content-type="map"]');

            if (mapElements.length > 0) {
                const script = document.createElement('script');
                script.type = 'text/javascript';

                script.addEventListener('load', () => {
                    initMaps(mapElements);
                });

                script.src = 'https\u003A\u002F\u002Fmaps.googleapis.com\u002Fmaps\u002Fapi\u002Fjs\u003Fv\u003D3\u0026key\u003D';
                document.head.appendChild(script);
            }
        });
    })();
</script>
<script>
    'use strict';

    (() => {
        const initParallaxImage = (element) => {
            if (!window.jarallax) {
                return;
            }

            element.classList.add('jarallax');
            element.dataset.jarallax = '';
            const parallaxSpeed = parseFloat(element.dataset.parallaxSpeed) || 0.5;
            const elementStyle = window.getComputedStyle(element);

            window.jarallax(element, {
                imgPosition: elementStyle.backgroundPosition || '50% 50%',
                imgRepeat: elementStyle.backgroundRepeat || 'no-repeat',
                imgSize: elementStyle.backgroundSize || 'cover',
                speed: parallaxSpeed,
            });
        };

        const initVideoBackground = (element) => {
            if (!window.jarallax) {
                return;
            }

            let slider = null;

            if (element.classList.contains('pagebuilder-slide-wrapper')) {
                const viewportElement = document.createElement('div');
                slider = element.closest('[data-content-type=slider]');
                viewportElement.classList.add('jarallax-viewport-element');
                element.dataset.elementInViewport = '.jarallax-viewport-element';
                element.appendChild(viewportElement);
            }

            element.classList.add('jarallax');
            element.dataset.jarallax = '';
            const parallaxSpeed = parseFloat(element.dataset.parallaxSpeed) || 0.5;

            window.jarallax(element, {
                imgSrc: element.dataset.videoFallbackSrc,
                speed: parallaxSpeed,
                videoLoop: element.dataset.videoLoop,
                videoPlayOnlyVisible: element.dataset.videoPlayOnlyVisible,
                videoLazyLoading: element.dataset.videoLazyLoad,
                disableVideo: false,
                elementInViewport: element.dataset.elementInViewport &&
                    element.querySelector(element.dataset.elementInViewport),
            });

            if (slider) {
                if (slider.dataset.afterChangeIsSet) {
                    return;
                }

                slider.addEventListener('glider-loaded', () => {
                    slider.querySelectorAll('.jarallax').forEach(videoSlide => {
                        videoSlide.jarallax && videoSlide.jarallax.onScroll();
                    });
                });

                slider.addEventListener('glider-animated', () => {
                    slider.querySelectorAll('.jarallax').forEach(videoSlide => {
                        videoSlide.jarallax && videoSlide.jarallax.onScroll();
                    });
                });

                slider.dataset.afterChangeIsSet = true;
            }
        };

        window.addEventListener('DOMContentLoaded', () => {
            const parallaxImageElements = document.querySelectorAll(
                `[data-content-type="row"][data-background-type="image"][data-enable-parallax="1"],
                [data-content-type="row"] > [data-background-type="image"][data-enable-parallax="1"]`
            );

            const videoBackgroundsElements = document.querySelectorAll(
                `[data-content-type="row"][data-background-type="video"][data-enable-parallax="1"],
                [data-content-type="row"] > [data-background-type="video"][data-enable-parallax="1"],
                [data-content-type="banner"] [data-background-type="video"],
                [data-content-type="slide"] [data-background-type="video"]`
            );

            if (parallaxImageElements.length > 0 || videoBackgroundsElements.length > 0) {
                const jarallaxScript = document.createElement('script');
                jarallaxScript.type = 'text/javascript';

                jarallaxScript.addEventListener('load', () => {
                    parallaxImageElements.forEach(row => {
                        initParallaxImage(row);
                    });

                    const jarallaxVideoScript = document.createElement('script');
                    jarallaxVideoScript.type = 'text/javascript';

                    jarallaxVideoScript.addEventListener('load', () => {
                        videoBackgroundsElements.forEach(element => {
                            initVideoBackground(element);
                        });
                    });

                    jarallaxVideoScript.src = 'https\u003A\u002F\u002Fmoonclimbing.com\u002Fstatic\u002Fversion1725881161\u002Ffrontend\u002FMoon\u002Fhyva\u002Fen_GB\u002FMagento_PageBuilder\u002Fjs\u002Fjarallax\u002Dvideo.min.js';
                    document.head.appendChild(jarallaxVideoScript);
                });

                jarallaxScript.src = 'https\u003A\u002F\u002Fmoonclimbing.com\u002Fstatic\u002Fversion1725881161\u002Ffrontend\u002FMoon\u002Fhyva\u002Fen_GB\u002FMagento_PageBuilder\u002Fjs\u002Fjarallax.min.js';
                document.head.appendChild(jarallaxScript);
            }
        });
    })();
</script>
<script>
    'use strict';

    (() => {
        const applyShowOnHover = (element) => {
            const showOverlayOnHover = (element) => {
                const overlay = element.querySelector('.pagebuilder-overlay');
                const color = overlay.dataset.overlayColor;

                element.addEventListener('mouseover', () => {
                    overlay.style.backgroundColor = color;
                });
                element.addEventListener('mouseout', () => {
                    overlay.style.backgroundColor = 'transparent';
                });
            };

            const showButtonOnHover = (element) => {
                const button = element.querySelector('.pagebuilder-banner-button');

                element.addEventListener('mouseover', () => {
                    button.style.opacity = '1';
                    button.style.visibility = 'visible';
                });
                element.addEventListener('mouseout', () => {
                    button.style.opacity = '0';
                    button.style.visibility = 'hidden';
                });
            };

            if (element.dataset.showOverlay === 'hover') {
                showOverlayOnHover(element);
            }
            if (element.dataset.showButton === 'hover') {
                showButtonOnHover(element);
            }
        };

        window.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('[data-content-type="banner"],[data-content-type="slider"]').forEach(element => {
                applyShowOnHover(element);
            });
        });
    })();
</script>
<script>
    'use strict';

    (() => {
        document.querySelectorAll('[data-content-type="tab-item"]').forEach(tabItem => {
            tabItem.setAttribute('x-show', `tab === '${tabItem.id}'`);
        });

        document.querySelectorAll('[data-content-type="tabs"]').forEach(tab => {
            const defaultActiveTab = parseInt(tab.dataset.activeTab) || 0;
            const ulElem = tab.firstElementChild;
            const tabsClassList = tab.classList.value || '';
            const shouldAddMoonHighlightToDefaultTab = tabsClassList.includes('product-list-tabs');

            if (ulElem.classList.contains('tabs-navigation')) {
                ulElem.setAttribute('id', 'ul-tab-navigation');
            }

            tab.querySelectorAll('.tab-header').forEach((tabHeader, index) => {
                const tabLink = tabHeader.querySelector('a');
                const tabId = tabLink.getAttribute('href').replace('#', '');
                const tabSpan = tabHeader.querySelector('span');
                const node = document.createElement('span');

                tabHeader.setAttribute(':class', `{ 'active': tab === '${tabId}' }`);
                tabLink.setAttribute('x-on:click.prevent', `tab = '${tabId}', reset()`);

                if (index === defaultActiveTab) {
                    tab.setAttribute('x-data', `{ tab: '${tabId}', currentSlide: 0, reset() { this.currentSlide = 0 } }`);

                    if (!tab.classList.contains('tab-align-')) {
                        tab.setAttribute("style", "max-width:1440px; margin:auto;");
                    }

                    const activeLink = tabLink.appendChild(node);
                    activeLink.setAttribute('class', 'active-moon-20 activated');

                    fetchGtmItemList(tabId);
                } else if (shouldAddMoonHighlightToDefaultTab) {
                    const defaultLink = tabLink.appendChild(node);
                    defaultLink.setAttribute('class', 'active-moon-20');
                }
            });
        });
    })();
    
    if(document.getElementById("ul-tab-navigation")) {

        document.getElementById("ul-tab-navigation").addEventListener("click", (e) => {
            const targetElm = e.target;
            const parentContainer = document.querySelectorAll("#ul-tab-navigation");
            const allProducts = document.querySelectorAll("[data-count]");
            const firstProducts = document.querySelectorAll("[data-count='0']");
            const allThumbnails = document.querySelectorAll("[data-gslide]");
            const firstThumbnails = document.querySelectorAll("[data-gslide='0']");
    
            allProducts.forEach(product => {
                product.classList.remove('active');
                product.classList.replace('block', 'hidden');
            })
    
            firstProducts.forEach(product => {
                product.classList.add('active');
                product.classList.replace('hidden', 'block');
            })
    
            allThumbnails.forEach(thumbnail => {
                thumbnail.classList.remove('active');
                thumbnail.style.cssText = 'opacity: 0.3 !important';
            })
    
            firstThumbnails.forEach(thumbnail => {
                thumbnail.classList.add('active');
                thumbnail.style.cssText = 'opacity: 1 !important';
            })
    
    
            if (targetElm.classList.contains('tab-title')) {
                const arrElem = Array.from(parentContainer);
                const listChild = arrElem[0].children;
                const total = arrElem[0].childElementCount;
    
                for (let x = 0; x < total; x++) {
                    const list = listChild[x];
                    const span = list.firstElementChild.lastElementChild;
    
                    list.classList.contains('active')
                        ? span.classList.add('activated')
                        : span.classList.remove('activated');
                }
    
                const getTargetKey = targetElm.getAttribute('href')
                    ? targetElm.getAttribute('href')
                    : targetElm.parentElement.getAttribute('href');
    
                const targetKey = getTargetKey.replace('#','');
                const getTargetElem = document.getElementById(targetKey);
                const targetIdentification = getTargetKey + ' .productPodImage > .glider-track';
    
                fetchGtmItemList(targetKey);
    
                const gliderTrack = getTargetElem.querySelectorAll(targetIdentification);
                const sliderArr = Array.from(gliderTrack);
                const getActiveElem = gliderTrack[0].querySelector('.active');
    
                if(getActiveElem === null) {
                    const sliderChild = sliderArr[0].children;
                    const totalSlider = sliderArr[0].childElementCount;
    
                    for (let x= 0; x <= totalSlider; x++) {
                        const sliderList = sliderChild[x];
    
                        sliderList.classList.remove('active');
                        sliderList.style.cssText = 'opacity: 0.3 !important';
    
                        if (x === 0) {
                            sliderList.classList.add('active');
                            sliderList.style.cssText = 'opacity: 1 !important';
                        }
                    }
                }
            }
        });
    }
</script>
<script>
    'use strict';

    const grecaptchaV2LoadCallbacks = [];

    function executeRecaptchaLoadCallbacks () {
        while (window.grecaptcha && grecaptchaV2LoadCallbacks.length > 0) {
            const callback = grecaptchaV2LoadCallbacks.pop();
            typeof callback === 'string' ? window[callback]() : callback();
        }
    }

    (function() {
        const loadRecaptchaScript = (event) => {

            if (window.grecaptcha || !event.target.form) {
                return;
            }

            const url = 'https://www.google.com/recaptcha/api.js?onload=executeRecaptchaLoadCallbacks';
            const siteKey = '6LcP1qYoAAAAAHMJxjhz7abn5RfMZW1Nwr3ZwmVj';
            const script = document.createElement('script');
            script.type = 'text/javascript';
            script.src = siteKey ? `${url}&render=${siteKey}` : `${url}&render=explicit`;
            script.async = true;
            document.head.appendChild(script);

            script.addEventListener('load', () => {
                Array.from(document.querySelectorAll('button[data-recaptcha-btn]:disabled')).forEach(btn => btn.removeAttribute('disabled'));
            });
        }

        window.forceLoadRecaptchaScript = (form) => {
            loadRecaptchaScript({target: {form: form || 'dummy'}});
            executeRecaptchaLoadCallbacks();
        };

        document.body.addEventListener('input', loadRecaptchaScript, { once: true });
        document.body.addEventListener('focus', loadRecaptchaScript, { once: true });

    }());

</script>
<script>
    function ajaxAddToCart() {
        const addToCartForms = document.querySelectorAll('.product_addtocart_form, #product_addtocart_form');

        addToCartForms.forEach(form => {
            form.addEventListener('submit', async e => {
                e.preventDefault();

                const form = e.target,
                    formData = new FormData(form);
                try {
                    const response = await fetch(form.action, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',
                            'X-Requested-With': 'XMLHttpRequest'
                        },
                        cache: 'no-cache',
                        body: new URLSearchParams(formData)
                    });

                    if (!response.ok) {
                        throw new Error('There was a problem adding item to your shopping cart.');
                    }

                    const data = await response.json();

                    if (!data.backUrl) {
                        const productName = document.querySelector('h1 strong').textContent;
                        const successMessage = `\nYou added ${productName} to your <a href="${window.location.origin}/checkout/cart/">shopping cart</a>.`;
                        typeof window.dispatchMessages !== 'undefined' && window.dispatchMessages(
                            [{
                                type: 'success',
                                text: successMessage
                            }],5000
                        );
                        window.dispatchEvent(new CustomEvent('toggle-cart'));
                        window.dispatchEvent(new CustomEvent('add-to-cart-success'));
                    }
                } catch (error) {
                    typeof window.dispatchMessages !== 'undefined' && window.dispatchMessages(
                        [{
                            type: 'error',
                            text: error.message
                        }],
                        5000
                    );
                }

                window.dispatchEvent(new CustomEvent('reload-customer-section-data'));
            });
        });
    }

    ajaxAddToCart();
</script>
<script>
    'use strict';

    function GoogleAnalytics () {
        let self = this;
        this.config = {
            isCookieRestrictionModeEnabled: 0,
            currentWebsite: 1,
            cookieName: "user_allowed_save_cookie",
            ordersTrackingData: [],
            pageTrackingData: {"optPageUrl":"","isAnonymizedIpActive":false,"accountId":"UA-12741271-1"},
        }

        this.initGoogleAnalytics =  function () {

            let allowServices = false,
                allowedCookies,
                allowedWebsites;

            if (self.config.isCookieRestrictionModeEnabled) {
                allowedCookies = hyva.getCookie(self.config.cookieName);

                if (allowedCookies !== null) {
                    allowedWebsites = JSON.parse(decodeURIComponent(allowedCookies));

                    if (allowedWebsites[self.config.currentWebsite] === 1) {
                        allowServices = true;
                    }
                }
            } else {
                allowServices = true;
            }

            if (allowServices) {
                (function (i, s, o, g, r, a, m) {
                    i.GoogleAnalyticsObject = r;
                    i[r] = i[r] || function () {
                        (i[r].q = i[r].q || []).push(arguments)
                    }, i[r].l = 1 * new Date();
                    a = s.createElement(o),
                        m = s.getElementsByTagName(o)[0];
                    a.defer = 1;
                    a.src = g;
                    m.parentNode.insertBefore(a, m)
                })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

                // Process page info
                ga('create', self.config.pageTrackingData.accountId, 'auto');

                if (self.config.pageTrackingData.isAnonymizedIpActive) {
                    ga('set', 'anonymizeIp', true);
                }

                // Process orders data
                if (self.config.ordersTrackingData.hasOwnProperty('currency')) {
                    ga('require', 'ec', 'ec.js');

                    ga('set', 'currencyCode', self.config.ordersTrackingData.currency);

                    // Collect product data for GA
                    if (self.config.ordersTrackingData.products) {
                        self.config.ordersTrackingData.products.forEach(function (value) {
                            ga('ec:addProduct', value);
                        });
                    }

                    // Collect orders data for GA
                    if (self.config.ordersTrackingData.orders) {
                        self.config.ordersTrackingData.orders.forEach(function (value) {
                            ga('ec:setAction', 'purchase', value);
                        });
                    }

                    ga('send', 'pageview');
                } else {
                    // Process Data if not orders
                    ga('send', 'pageview' + self.config.pageTrackingData.optPageUrl);
                }
            }
        };
    }

    window.addEventListener("load", new GoogleAnalytics().initGoogleAnalytics);

</script>
</div>
<script>
    const browserStorageK = window.localStorage;
    const oldSectionDataK = JSON.parse(browserStorageK.getItem('mage-cache-storage'));
    
    if (oldSectionDataK && typeof oldSectionDataK['gtm'] != 'undefined') {
        delete oldSectionDataK['gtm'];
    }

    const privateContentEventK = new CustomEvent('private-content-loaded', {
        detail: {
            data: oldSectionDataK
        }
    });

    if (oldSectionDataK) {
        window.dispatchEvent(privateContentEventK);
        browserStorageK.setItem('mage-cache-storage', JSON.stringify(oldSectionDataK));
    }
</script>
<script>
    const dlayerOneTimePush = ['view_item'];
    window.datalayerOneTimePush = window.datalayerOneTimePush || [];
    window.dataLayer = window.dataLayer || [];
    window.mstGtmProducts = window.mstGtmProducts || [];
    window.mstGtmProductVariants = window.mstGtmProductVariants || [];

    var mstGtmStorage = window.sessionStorage.getItem('mst_gtm');

    mstGtmStorage = mstGtmStorage ? mstGtmStorage : [];

    function mstGtmItemPush(item) {
        if (dlayerOneTimePush.includes(item[1])) {
            if (window.datalayerOneTimePush.includes(item[1])) {
                return;
            } else {
                window.datalayerOneTimePush.push(item[1]);
            }
        }

        if (!window.gtmGeneralEventFired) {
            window.addEventListener('gtmGeneralEvent', function () {
                mstGtmItemPush(item);
            })

            window.gtmGeneralEventFired = true;
        }

        var gtmStorageKey = '';

        if (typeof item.analytics_type != 'undefined') {
            gtmStorageKey = gtmStorageKey + item.analytics_type + '_';
        }

        if (typeof item.gtm_id != 'undefined') {
            gtmStorageKey = gtmStorageKey + item.gtm_id;
        }

        if (typeof item.gtm_id != 'undefined' && !mstGtmStorage.includes(gtmStorageKey)) {
            window.dataLayer.push({ecommerce: null});

            if (typeof item.analytics_type != 'undefined' && item.analytics_type == 'ga3') {
                window.dataLayer.push(item);
            } else if (typeof item.analytics_type != 'undefined' && item.analytics_type == 'fbpixel') {
                if (typeof fbq != 'undefined'
                    && item[1].toLowerCase() !== 'viewcontent'
                    && item[1].toLowerCase() !== 'purchase') {
                    fbq(item[0], item[1], item[2]);
                }
            } else {
                if (typeof item[0] != 'undefined') {
                    var formatedObj = {};
                    formatedObj[item[0]] = item[1];
                    formatedObj['ecommerce'] = item[2];

                    window.dataLayer.push(formatedObj);
                } else {
                    window.dataLayer.push(item);
                }
            }
        } else if (typeof item.event != 'undefined') {
            window.dataLayer.push(item);
        }
    }

    
    window.mstGtmProducts = [];
    window.mstGtmProductVariants = [];
    window.sessionStorage.removeItem('mst_gtm');

    // clear section storage data
    const browserStorage = hyva.getBrowserStorage();
    const oldSectionData = JSON.parse(browserStorage.getItem('mage-cache-storage'));

    if (oldSectionData && typeof oldSectionData['gtm'] != 'undefined') {
        delete oldSectionData['gtm'];
    }
    const privateContentEvent = new CustomEvent("private-content-loaded", {
        detail: {
            data: oldSectionData
        }
    });

    if (oldSectionData) {
        window.dispatchEvent(privateContentEvent);
        browserStorage.setItem('mage-cache-storage', JSON.stringify(oldSectionData));
    }
</script>
<script>
    function getMstEventSelector() {
        return {
            gtmAttrRegex: /^data-gtm-(.*)/g,

            eventAttr:    'data-gtm-event',
            listAttr:     'data-gtm-item_list_id',
            listNameAttr: 'data-gtm-item_list_name',
            productAttr:  'data-gtm-item_id',

            eventSelector:   '[data-gtm-event]',
            listSelector:    '[data-gtm-item_list_id]',
            productSelector: '[data-gtm-item_id]',

            sentLists: [],

            getProductAttribute: function () {
                return this.productAttr;
            },

            getListAttribute: function () {
                return this.listAttr;
            },

            getListNameAttribute: function () {
                return this.listNameAttr;
            },

            getEventAttribute: function () {
                return this.eventAttr;
            },

            getEventSelector: function () {
                return this.eventSelector;
            },

            getListSelector: function () {
                return this.listSelector;
            },

            getProductSelector: function () {
                return this.productSelector;
            },

            getAttributeRegex: function () {
                return this.gtmAttrRegex;
            }
        }
    }
</script>
<script>
    function getMstAbstractEvent() {
        return {
            gtmAttrRegex: /^data-gtm-(.*)/g,

            eventAttr:    'data-gtm-event',
            listAttr:     'data-gtm-item_list_id',
            listNameAttr: 'data-gtm-item_list_name',
            productAttr:  'data-gtm-item_id',

            eventSelector:  '',
            listSelector:  '',
            productSelector:  '',

            sentLists: [],

            initialize: function () {
                this.gtmAttrRegex    = getMstEventSelector().getAttributeRegex();
                this.eventAttr       = getMstEventSelector().getEventAttribute();
                this.listAttr        = getMstEventSelector().getListAttribute();
                this.listNameAttr    = getMstEventSelector().getListNameAttribute();
                this.productAttr     = getMstEventSelector().getProductAttribute();
                this.listSelector    = getMstEventSelector().getListSelector();
                this.productSelector = getMstEventSelector().getProductSelector();

                this.initEventSelector();

                window.dataLayer = window.dataLayer || [];

                this.listeners();

                return this;
            },

            initEventSelector: function () {
                this.eventSelector = getMstEventSelector().getEventSelector();
            },

            listeners: function () {

            },

            sendData: function ($el) {

            },

            setGaData: function ($listEl, productIds) {

            },

            isVisible: function ($el) {
                if (!$el.is(":visible")) {
                    return false;
                }

                const $win = $(window);

                const elementTop = $el.offset().top;
                const elementBottom = elementTop + $el.outerHeight();

                const viewportTop = $win.scrollTop();
                const viewportBottom = viewportTop + $win.height();

                return elementBottom > viewportTop && elementTop < viewportBottom;
            },

            getProductAttribute: function () {
                return this.productAttr;
            },

            getProductSelector: function () {
                return this.productSelector;
            }
        }
    }
</script>
<script>
    function initMstViewItemSwatchers() {
        const abstractEvent = getMstAbstractEvent();

        return {
            ...abstractEvent,

            listeners: function () {
                window.addEventListener('configurable-selection-changed', e => {
                    if (!e.detail || !e.detail.productIndex) {
                        return
                    }

                    const productID = e.detail.productIndex

                    if (typeof window.mstGtmProductVariants[productID] == 'undefined') return

                    window.mstGtmProductVariants[productID].forEach(item => {
                        mstGtmItemPush(item)
                    })
                })
            }
        }
    }
</script>
<script>
    function initMstSelectItem() {
        return {

        }
    }
</script>
<script>
    function initMstItemList() {
        const abstractEvent = getMstAbstractEvent();

        return {
            ...abstractEvent,

            isLoading: false,

            initEventSelector: function () {
                this.eventSelector = '[' + this.eventAttr + '="view_item_list"]';
            },

            listeners: function () {
                document.addEventListener('mst-gtm-init-products', function() {
                    document.querySelectorAll(this.eventSelector).forEach(function (el) {
                        if (this.isVisible(el)) {
                            this.sendData(el);
                        }
                    }.bind(this));
                }.bind(this));
            },

            sendData: function ($el) {
                let $listEl     = $el.querySelector(this.listSelector);
                let $productEls = $el.querySelectorAll(this.productSelector);

                if (!$listEl && $el.hasAttribute(this.listAttr)) {
                    $listEl = $el;
                }

                let productIds = [];

                $productEls.forEach(function (productEl) {
                    let productId = parseInt(productEl.getAttribute(this.productAttr));

                    if (productId) {
                        productIds.push(productId);
                    }
                }.bind(this));

                if (productIds.length) {
                    this.setGaData($listEl, productIds);
                }
            },

            setGaData: function ($listEl, productIds) {
                let listId   = $listEl.getAttribute(this.listAttr);
                let listName = $listEl.getAttribute(this.listNameAttr);

                if (typeof this.sentLists[listId] == 'undefined' || !this.sentLists[listId]) {
                    this.sentLists[listId] = true;

                    let currency = '';

                    let items = [];
                    for (var i in productIds) {
                        items.push(window.mstGtmProducts[productIds[i]]);

                        if (typeof window.mstGtmProducts[productIds[i]].currency != 'undefined') {
                            currency = window.mstGtmProducts[productIds[i]].currency;
                        }
                    }

                    window.dataLayer.push({ecommerce: null});  // Clear the previous ecommerce object.
                    window.dataLayer.push('event', 'view_item_list', {
                            item_list_id:   listId,
                            item_list_name: listName,
                            items:          [items]
                        }
                    );
                }
            }
        }
    }
</script>
<script>
    function initMstSelectPromotion() {
        const abstractEvent = getMstAbstractEvent();

        return {
            ...abstractEvent,

            creativeNameAttr: 'data-gtm-creative_name',
            creativeSlotAttr: 'data-gtm-creative_slot',

            promolistIdAttr: 'data-gtml-promo-list-id',

            itemIdAttr:   'data-gtm-item_id',
            itemNameAttr: 'data-gtm-item_name',

            initEventSelector: function () {
                this.eventSelector = '[' + this.eventAttr + '="view_promotion"]';
            },

            listeners: function () {
                let itemIdSelector   = '[' + this.itemIdAttr + ']',
                    itemNameSelector = '[' + this.itemNameAttr + ']';

                document.addEventListener('DOMContentLoaded', function () {
                    const eventIdItems = document.querySelectorAll(this.eventSelector + ' ' + itemIdSelector);

                    if (eventIdItems.length) {
                        eventIdItems.forEach(function (item) {
                            item.addEventListener('click', function (e) {
                                this.sendData(e.currentTarget);
                            }.bind(this));
                        }.bind(this));
                    }

                    const eventNameItems = document.querySelectorAll(this.eventSelector + ' ' + itemNameSelector);

                    if (eventNameItems.length) {
                        eventNameItems.forEach(function (item) {
                            item.addEventListener('click', function (e) {
                                this.sendData(e.currentTarget);
                            }.bind(this));
                        }.bind(this));
                    }
                }.bind(this));
            },

            sendData: function ($el) {
                this.setGaData($el, null);
            },

            setGaData: function ($listEl, productIds) {
                let $itemEl = $listEl;
                let $eventEl = $itemEl.closest(this.eventSelector);

                let items = [];

                let item = [];

                $itemEl.attributes.forEach(function (attr) {
                    if (attr.name.match(this.gtmAttrRegex)) {
                        let attrName = attr.name.replace(this.gtmAttrRegex, '$1');

                        item[attrName] = attr.value;
                    }
                }.bind(this));

                items.push(item);

                let ga3Data = {
                    'event':     'ga3_promotionClick',
                    'ecommerce': {
                        'promoClick': {
                            promotions: items
                        }
                    }
                };

                window.dataLayer.push({ecommerce: null});  // Clear the previous ecommerce object.
                window.dataLayer.push(ga3Data);

                let eventItems = {items: items};

                $eventEl.attributes.forEach(function (attr) {
                    if (attr.name.match(this.gtmAttrRegex)) {
                        let attrName = attr.name.replace(this.gtmAttrRegex, '$1');

                        eventItems[attrName] = attr.value;
                    }
                }.bind(this));

                window.dataLayer.push({ecommerce: null});  // Clear the previous ecommerce object.
                if (typeof gtag != 'undefined') {
                    gtag('event', 'select_promotion', eventItems);
                } else {
                    if (typeof item[0] != 'undefined') {
                        var formatedObj = {};
                        formatedObj[item[0]] = item[1];
                        formatedObj['ecommerce'] = item[2];

                        window.dataLayer.push(formatedObj);
                    } else {
                        window.dataLayer.push(item);
                    }
                }
            }
        }
    }
</script>
<script>
    function initMstViewPromotion() {
        const abstractEvent = getMstAbstractEvent();

        return {
            ...abstractEvent,

            creativeNameAttr: 'data-gtm-creative_name',
            creativeSlotAttr: 'data-gtm-creative_slot',

            promolistIdAttr: 'data-gtml-promo-list-id',

            itemIdAttr:   'data-gtm-item_id',
            itemNameAttr: 'data-gtm-item_name',

            initEventSelector: function () {
                this.eventSelector = '[' + this.eventAttr + '="view_promotion"]';
            },

            listeners: function () {
                document.addEventListener('DOMContentLoaded', function () {
                    const eventItems = document.querySelectorAll(this.eventSelector);

                    this.sendData(eventItems);

                    // if (eventItems.length) {
                    //     eventItems.forEach(function (item) {
                    //         if (this.isVisible(item)) {
                    //             this.sendData(item);
                    //         }
                    //     }.bind(this));
                    // }
                }.bind(this));

                window.addEventListener('scroll', function () {
                    const eventItems = document.querySelectorAll(this.eventSelector);
                    this.sendData(eventItems, null);
                }.bind(this));

                // $('body').on('contentUpdated', function () {
                //     this.sendData($(this.eventSelector), null);
                // }.bind(this));
            },

            sendData: function ($el) {
                $el.forEach(function (eventEl, i) {
                    if (!eventEl.getAttribute(this.promolistIdAttr)) {
                        eventEl.setAttribute(this.promolistIdAttr, i);
                    }

                    if (this.isVisible(eventEl)) {
                        this.setGaData(eventEl, null);
                    }
                }.bind(this));
            },

            setGaData: function ($listEl, productIds) {
                let itemIdSelector   = '[' + this.itemIdAttr + ']',
                    itemNameSelector = '[' + this.itemNameAttr+ ']';

                let $eventEl     = $listEl;
                let $itemIdEls   = $eventEl.querySelectorAll(itemIdSelector);
                let $itemNameEls = $eventEl.querySelectorAll(itemNameSelector);

                let listId = $eventEl.getAttribute(this.promolistIdAttr);

                let $itemsEls;
                if ($itemIdEls.length) {
                    $itemsEls = $itemIdEls;
                } else {
                    $itemsEls = $itemNameEls;
                }

                if (typeof this.sentLists[listId] == 'undefined' || !this.sentLists[listId]) {
                    this.sentLists[listId] = true;

                    let items = [];

                    $itemsEls.forEach(function ($el) {
                        let item = [];

                        $el.attributes.forEach(function (attr) {
                            if (attr.name.match(this.gtmAttrRegex)) {
                                let attrName = attr.name.replace(this.gtmAttrRegex, '$1');

                                item[attrName] = attr.value;
                            }
                        }.bind(this));

                        items.push(item);
                    }.bind(this));

                    let ga3Data = {
                        'event': 'ga3_promotionView',
                        'ecommerce': {
                            'promoView':  {
                                promotions: items
                            }
                        }
                    };

                    window.dataLayer.push({ecommerce: null});  // Clear the previous ecommerce object.
                    window.dataLayer.push(ga3Data);

                    let eventItems = {items: items};

                    $eventEl[0].attributes.forEach(function (attr) {
                        if (attr.name.match(this.gtmAttrRegex)) {
                            let attrName = attr.name.replace(this.gtmAttrRegex, '$1');

                            eventItems[attrName] = attr.value;
                        }
                    }.bind(this));

                    let ga4Data = {
                        0: 'event',
                        1: 'view_promotion',
                        2: eventItems
                    };

                    window.dataLayer.push({ecommerce: null});  // Clear the previous ecommerce object.
                    if (typeof gtag != 'undefined') {
                        gtag('event', 'view_promotion', eventItems);
                    } else {
                        if (typeof item[0] != 'undefined') {
                            var formatedObj = {};
                            formatedObj[item[0]] = item[1];
                            formatedObj['ecommerce'] = item[2];

                            window.dataLayer.push(formatedObj);
                        } else {
                            window.dataLayer.push(item);
                        }
                    }
                }
            }
        }
    }
</script>
<div x-data="initGtmProductStorage()" @private-content-loaded.window="initialize()"></div>
<script>
    function initGtmProductStorage() {
        return {
            isLoading:    false,
            isInitEvents: false,
            itemInfoUrl:  BASE_URL + '/mst_gtm/item/info/',

            initialize: function () {
                setInterval(this.updateProducts.bind(this), 200);
            },

            getProductData: function (id) {
                return window.mstGtmProducts[id];
            },

            updateProducts: function () {
                if (this.isLoading) {
                    return;
                }

                let $productEls = document.querySelectorAll(getMstEventSelector().getProductSelector());

                let missedIds = [];

                if ($productEls.length) {
                    $productEls.forEach(function (productEl) {
                        let productId = parseInt(productEl.getAttribute(getMstEventSelector().getProductAttribute()));

                        if (!productId || typeof window.mstGtmProducts[productId] == 'undefined') {
                            missedIds.push(productEl.getAttribute(getMstEventSelector().getProductAttribute()));
                        }
                    }.bind(this));
                }

                if (missedIds.length) {
                    this.isLoading = true;

                    const data = new FormData();

                    data.append('product_ids', missedIds);

                    fetch(this.itemInfoUrl + '?form_key=' + hyva.getFormKey(), {
                        method:  'post',
                        body:    data,
                        headers: {contentType: 'application/json'}
                    }).then(response => {
                        if (response.ok) {
                            return response.json();
                        } else {
                            console.warn("GET request failed", response);
                        }
                    }).then(response => {
                        if (response) {
                            if (typeof response.data != 'undefined' && response.data.length) {
                                for (var i in response.data) {
                                    window.mstGtmProducts[response.data[i]['product_id']] = response.data[i];
                                }
                            }
                            this.isLoading = false;

                            // instead of $(document).ready()
                            document.dispatchEvent(new CustomEvent('mst-gtm-init-products'));
                        }
                    });
                }
            }
        }
    }
</script>
<div x-data="initGtmLayer()" @private-content-loaded.window="initLayer($event.detail.data)"></div>
<script>
    function initGtmLayer() {
        return {
            initLayer: function (data) {
                if (data.gtm) {
                    const gtm = data.gtm;

                    this.onUpdate(gtm);
                }
            },

            onUpdate: function (data) {
                data.push.forEach(item => {
                    if (item) {
                        mstGtmItemPush(item)
                    }
                });
            }
        }
    }
</script>
<div x-data="initMstAddToCart()" @private-content-loaded.window="initialize($event.detail.data)"></div>
<script>
    function initMstAddToCart() {
        return {
            initialize: function (data) {
                if (data.mstGtmAddtocart) {
                    const gtm = data.mstGtmAddtocart
                    this.onUpdate(gtm)
                }
            },

            onUpdate: function (data) {
                data.push.forEach(item => mstGtmItemPush(item))
            }
        }
    }
</script>
<div x-data="initMstGtmEvents()" @private-content-loaded.window="initialize()"></div>
<script>
    function initMstGtmEvents() {
        return {
            initialize: function () {
                initMstItemList().initialize();
                initMstSelectPromotion().initialize();
                initMstViewPromotion().initialize();
                initMstViewItemSwatchers().initialize();
            }
        }
    }
</script>
<div x-data="initGtmToolbar()" @private-content-loaded.window="initToolbar()"></div>
<style>
    .mst-gtm__toolbar, .mst-gtm__toolbar-extra {
        outline: 5px solid rgba(74, 69, 66, 0.3);
        z-index: 1000000;
    }
    .mst-gtm__toolbar .mst-gtm__toolbar-body {
        max-height: 40rem;
    }
    .mst-gtm__toolbar-extra {
        left: 22rem;
    }
    .mst-gtm__toolbar-extra pre {
        width: 35rem;
        height: 25rem;
    }
</style>
<script>
    function initGtmToolbar() {
        return {
            cookieName: 'mst_gtm_debug',
            debugOn:    'gtm',

            wrapperClassList: 'mst-gtm__toolbar fixed left-4 bottom-4 card p-0 rounded-none text-sm w-80',
            titleClassList:   'btn btn-primary rounded-none text-center block font-semibold',
            bodyClassList:    'mst-gtm__toolbar-body overflow-y-auto',
            eventClassList:   'mst-gtm__toolbar-event card m-2 p-2 border-grey-200 border-2 relative cursor-pointer',
            idxClassList:     'bg-blue-600 px-2 py-1 mr-3 text-white font-normal',
            linkClassList:    'float-right text-gray-400 mr-2 underline',
            extraClassList:   'mst-gtm__toolbar-extra fixed bottom-4 card rounded-none text-xs',
            preClassList:     'overflow-auto p-2 whitespace-pre-wrap leading-5',

            initToolbar: function () {
                const currentUrl = new URL(window.location);

                if (currentUrl.searchParams.get('debug') === this.debugOn) {
                    if (hyva.getCookie(this.cookieName) === this.debugOn) {
                        hyva.setCookie(this.cookieName, '', 1);
                    } else {
                        hyva.setCookie(this.cookieName, this.debugOn, 1);
                    }
                }

                if (hyva.getCookie(this.cookieName) === this.debugOn) {
                    const elements = document.getElementsByClassName('mst-gtm__toolbar')
                    while(elements.length > 0){
                        elements[0].parentNode.removeChild(elements[0]);
                    }

                    document.body.appendChild(this.getWrapperHtml());

                    this.$toolbarBody = document.querySelector('.mst-gtm__toolbar-body');

                    let len = 0;
                    setInterval(function () {
                        if (window.dataLayer.length !== len) {
                            this.updateToolbar();

                            len = window.dataLayer.length
                        }
                    }.bind(this), 1000);
                }
            },

            updateToolbar: function () {
                this.$toolbarBody.innerHTML = '';

                let index = 1;

                window.dataLayer.forEach(function (data) {
                    if (typeof data.event != 'undefined') {
                        const $displayData = this.createToolbarElement('pre', false, this.preClassList);
                        const $code        = this.createToolbarElement('code', JSON.stringify(data, undefined, 4));

                        $displayData.appendChild($code);

                        const $event = this.createToolbarElement('div', false, this.eventClassList);

                        $event.appendChild(this.createToolbarElement('strong', '#' + index, this.idxClassList));
                        $event.appendChild(this.createToolbarElement('span', 'Event: ' + data.event));
                        $event.appendChild(this.createToolbarElement('span', 'Open', this.linkClassList));

                        $event.addEventListener('click', function () {
                            this.displayData($displayData)
                        }.bind(this));

                        this.$toolbarBody.appendChild($event);

                        index++
                    }
                }.bind(this));
            },

            getWrapperHtml: function () {
                const $wrapper = this.createToolbarElement('div', false, this.wrapperClassList);
                const $title   = this.createToolbarElement('strong', 'Google Tag Manager', this.titleClassList);
                const $body    = this.createToolbarElement('div', false, this.bodyClassList);

                $wrapper.appendChild($title);
                $wrapper.appendChild($body);

                return $wrapper;
            },

            displayData: function ($data) {
                const toolbarExtra = document.querySelector('body .mst-gtm__toolbar-extra');

                if (toolbarExtra) {
                    toolbarExtra.parentNode.removeChild(toolbarExtra);
                }

                const $t = this.createToolbarElement('div', false, this.extraClassList);
                $t.appendChild($data);

                document.body.appendChild($t);
            },

            createToolbarElement: function (tagName, data, classList) {
                const element = document.createElement(tagName);

                if (data) {
                    element.innerHTML = data;
                }

                if (classList) {
                    classList = classList.split(' ');
                    classList.forEach(function (classItem) {
                        element.classList.add(classItem);
                    });
                }

                return element;
            }
        }
    }
</script>
</body>
</html>
