<!DOCTYPE html>
<html lang="en-US">
<head id="Head">

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-4603P06FHC"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-4603P06FHC', {
			'send_page_view': false,
			'debug_mode': false
		});

	</script>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="REVISIT-AFTER" content="7 DAYS">
	<meta id="MetaDescription" name="DESCRIPTION" content="Defense Advanced Research Projects Agency Resource Detail">
	<meta id="MetaRobots" name="ROBOTS" content="INDEX, FOLLOW">

	<title id="pageTitle"></title>

	<link href="/includes/css/default.css" type="text/css" rel="stylesheet">
	<link href="/includes/css/skin.css" type="text/css" rel="stylesheet">
	<link href="/includes/css/portal.css" type="text/css" rel="stylesheet">

	<script src="/includes/js/jquery-3.7.1.min.js" type="text/javascript"></script>
	<script src="/includes/js/jquery-ui-1.12.1.js" type="text/javascript"></script>



	<script type="text/javascript">
		//<![CDATA[
		var analytics_page_startTime = (new Date()).getTime();
		//]]>
	</script>

	<link rel="alternate" type="application/rss+xml" title="DARPA RSS Feed" href="rss">

	<link rel="preload" href="/json/site.json" as="fetch" type="application/json" />

</head>
<body id="Body" class="not-front">
	<!--googleoff: index-->

	<script src="/includes/js/jquery.sidr.min.js" type="text/javascript"></script>
	<script src="/includes/js/picturefill.min.js" type="text/javascript"></script>
	<script src="/includes/js/html5.js" type="text/javascript"></script>
	<script src="/includes/js/html5-respond.js" type="text/javascript"></script>
	<script src="/includes/js/scripts.js" type="text/javascript"></script>

	<meta name="viewport" content="width=device-width, initial-scale=1">   <!-- my misplaced meta tag  -->

	<div style="clear:both;"></div>

	<div id="HeaderPane"></div>



	<!--    ------------------Content Pane------------------------------------  -->
	<!--googleon: index-->
	<div id="ContentPane">

		<div id="content__wrapper" class="not-front sidebar-second" role="main">
			<span id="lblBreadCrumbs">

			</span>
			<p>&nbsp;</p>
			<div style="clear:both;"></div>

			<section id="content">

				<div class="region--content">
					<div class="region--content__inner">

						<div class="detail" id="divDetail">

							<div class="detail__header has-thumbnail">
								<div class="detail__header__left">
									<div class="detail__header__thumbnail" id="div_detail_header__thumbnail">
									</div>
								</div>
								<div class="detail__header__right">
									<h1 class="detail__title" id="h1_detail__header"></h1>
									<h2 class="detail__subtitle" id="h2_detail__subtitle"></h2>
								</div>
							</div>

							<div class="detail__content">
								<div class="detail__image-caption-container">
									<div class="detail__image" id="div_detail__image"></div>
									<div class="detail__caption" id="div_detail__caption"></div>
								</div>
								<div class="detail__body" id="div_detail__body"></div>
							</div>
						</div>

						<div class="listing__header listing__header--bluebox ">
							<a name="Tags"></a>
							<h2 class="listing__title--bluebox">Tags</h2>
						</div>
						<!-- need a horizontal datalist control so that tag values can be bound to the anchor tag with the id of the tag -->

						<div id="divTagsList" class="listing__tags detail__tags">
							<span class="listing__tag-item listing__tag-seperator">|</span>

						</div>


						<p>&nbsp;</p>







						<a name="OfficeProgramsList"></a>


						<a name="OfficesList"></a>



						<a name="RelatedItems"></a>
						<div>

							<div class="related-content  listing__header--bluebox" id="myRelatedContent_dRelated">
								<h2 class="listing__title--bluebox">Similarly&nbsp;&nbsp;&nbsp;&nbsp;Tagged&nbsp;&nbsp;&nbsp;&nbsp;Content</h2>
								<table id="myRelatedContent_dlItems" style="border-collapse: collapse;" cellspacing="0">
								</table>
							</div>

						</div>

						<div class="grid--images grid" id="divMedia">
							<a name="Images"></a>
							<div class="listing__header listing__header--bluebox">
								<h2 class="listing__title--bluebox">Images</h2>
							</div>
							<ul class="grid__list" id="ulMedia">
							</ul>
						</div>

					</div>
				</div>

			</section>

			<aside class="region-sidebar-second">
				<div id="mySideBarType1"> </div>
				<div id="mySideBarType2"> </div>
				<div id="mySideBarType3"> </div>
				<div id="mySideBarType4"> </div>
				<div id="mySideBarType5"> </div>
			</aside>

		</div>


	</div>
	<!--googleoff: index-->
	<!-- ------------------ ASIDE  ------------------------------------  -->
	<div style="clear:both;"></div>
	<aside class="region-sidebar-first" role="complementary" aria-label="sidebar-first"></aside>
	<aside class="region-sidebar-second" role="complementary" aria-label="sidebar-second"></aside>

	<!--    ------------------Achevement Highlights Pane------------------------------------  -->
	<div id="AchievementHighlightsPane"> </div>

	<!--    ------------------Footer Pane------------------------------------  -->
	<div id="FooterPane"> </div>




	<script type="text/javascript">
		//***
		//*** Load Header template
		//***
		SiteNameSpace.ajaxCall({
			url: "/includes/template/head.html",
			type: "GET",
			parameters: "",
			dataType: "text",
			WebServiceResult: false,
			errorMessage: "Error: Unable to get head template",
			success: function (results) {
				if (results != null) {
					//***set the site data
					$("#HeaderPane").append(results);
					// console.log("head template loaded.");
					//will filters or head arrive on page first?
					$.each(tagsList, function (i, tag) {
						$('#ulExploreTags').append('<li><a data-LinkType="TagList" href="/tag-list.html?tag=' + tag.value_rts + '">' + tag.value_rts + '</a></li>');
					});
				} else { //no result was found
					// console.log("head template not loaded.");
				}
			}
		}); //end ajaxCall

		//***
		//*** Load FiltersList
		//***
		SiteNameSpace.ajaxCall({
			url: "/JSON/FiltersList.json",
			type: "GET",
			parameters: "",
			dataType: "json",
			WebServiceResult: false,
			errorMessage: "Error: Unable to get FiltersList.json",
			success: function (results) {
				if (results != null) {
					tagsList = results.Tags_rls;
					//will filters or head arrive on page first?
					$.each(tagsList, function (i, tag) {
						$('#ulExploreTags').append('<li><a data-LinkType="TagList" href="/tag-list.html?tag=' + tag.value_rts + '">' + tag.value_rts + '</a></li>');
					});

				} else { //no result was found
					// console.log("filters data not loaded.");
				}
			}
		}); //end ajaxCall

		//***
		//*** Load Achivement Highlights template
		//***
		SiteNameSpace.ajaxCall({
			url: "/includes/template/AchievementsHighlightsList.html",
			type: "GET",
			parameters: "",
			dataType: "text",
			WebServiceResult: false,
			errorMessage: "Error: Unable to get AchievementtsHighlightsList template",
			success: function (results) {
				if (results != null) {
					//***set the site data
					$("#AchievementHighlightsPane").append(results);
					// console.log("AchievementtsHighlightsList template loaded.");
				} else { //no result was found
					// console.log("AchievementtsHighlightsList template not loaded.");
				}
			}
		}); //end ajaxCall

		//***
		//*** Load Footer template
		//***
		SiteNameSpace.ajaxCall({
			url: "/includes/template/foot.html",
			type: "GET",
			parameters: "",
			dataType: "text",
			WebServiceResult: false,
			errorMessage: "Error: Unable to get foot template",
			success: function (results) {
				if (results != null) {
					//***set the site data
					$("#FooterPane").append(results);
					// console.log("foot template loaded.");
				} else { //no result was found
					// console.log("foot template not loaded.");
				}
			}
		}); //end ajaxCall



		SiteNameSpace.WaitForAjax(SiteNameSpace.SetupGAListeners);







	</script>
	<script id="tagsItem-template" type="text/x-tagsTemplate">
		<a data-LinkType="ContentTag" title="@title" class="listing__tag-item listing__tag-link" href="@url">@text</a>
		<span class="listing__tag-item listing__tag-seperator">|</span>
	</script>

	<script id="related-template" type="text/x-relatedTemplate">
		<tr><td><a data-LinkType="SimilarlyTagged" href="@url">@text</a></td></tr>
	</script>

	<script id="relatedMedia-template" type="text/x-relatedMediaTemplate">
		<li class="grid__item" style="height:325px">
				<div class="grid__link">
						<a href="/ddm_gallery/@Filename_rst" target="_blank">
								<div class="grid__thumbnail">
										<img alt="@AlternateText_rst" src="/ddm_gallery/@Thumbnail_rst" />
								</div>
						</a>
						<a href="@Parent_url_rst">
								<div class="grid__headline">@Title_rst</div>
						</a>
				</div>
		</li>
	</script>


	<script id="attachements-template" type="text/x-attachementsTemplate">
		<div class="sidebar__item sidebar__link"><a href='/attachments/@FileName_rst' id="aDownloadable" target="_blank">@Title_rst</a></div>
	</script>

	<script id="breadCrumb-template" type="text/x-breadCrumbTemplate">
		<span class="breadcrumb__item breadcrumb__seperator"></span>
		<span class="breadcrumb__item ">
				<a data-LinkType="Breadcrumb" href="@URL_RST" class="breadcrumb__item breadcrumb__link">@Text_rst</a>
		</span>
	</script>

	<script type="text/javascript">
		// console.log("start json processing.");
        if (window.location.href.split("?").length > 1) { window.history.pushState({}, document.title, window.location.pathname) };

		var tagsList = "";
		var hasSidebar = false;
		//***
		//*** load json
		//***
		var pathname = ""
		pathname = window.location.pathname;
		pathname = (pathname.endsWith(".html")) ? "/JSON" + pathname.replace(".html", ".json") : "/JSON" + pathname + ".json";
		// console.log("pathname = " + pathname);
		SiteNameSpace.ajaxCall({
			url: pathname,
			type: "GET",
			parameters: "",
			WebServiceResult: false,
			errorMessage: "Error: Unable to get " + pathname,
			success: function (results) {

				if (results != null) {
					//***set the site data

					var resource = results;
					// console.log("Boo = " + resource.Name_rst);

					//***
					//*** merge into tempate onto page
					//***

					//*** merge meta into tempate onto page
					if (resource.Metadata_Title_rst.length > 0) $("#Head").append("<meta name=\"Title\" content=\"" + resource.Metadata_Title_rst + "\" >");
					if (resource.Metadata_Description_rst.length > 0) $("#Head").append("<meta name=\"Description\" content=\"" + resource.Metadata_Description_rst + "\" >");
					if (resource.Keywords_rst.length > 0) $("#Head").append("<meta name=\"Keywords\" content=\"" + resource.Keywords_rst + "\" >");
					$("#Head").append("<meta name=\"ContentType\" content=\"Other\" >");
					$("#Head").append("<meta name=\"TypeOfContent\" content=\"Other\" >");

					//*** BreadCrumb list in top main column
					for (var i = 0; i < resource.BreadCrumbs_rls.length; i++) {
						var relatedItem = $('#breadCrumb-template').text();
						relatedItem = relatedItem.replace("@Text_rst", resource.BreadCrumbs_rls[i].bcname_rst);
						relatedItem = relatedItem.replace("@URL_RST", resource.BreadCrumbs_rls[i].bcurl_rst);
						$("#lblBreadCrumbs").append(relatedItem);
					}

					//*** merge main content into tempate onto page
					$("#pageTitle").text(resource.Name_rst);
					$("#h1_detail__header").text(resource.Name_rst);
					$("#h2_detail__subtitle").text(resource.ByLine_rst);
					$("#div_detail__body").html(resource.Body_rst);


					//	Let's send the page view to Google Analytics
					gtag('event', 'page_view', {
						page_title: resource.Name_rst
					})

					//*** merge main image into tempate onto page
					var resourceImage = resource.Image_rob;
					if (resourceImage !== null) {
						var imageString = "<img src=\"/DDM_Gallery/" + resourceImage.URL_rst + "\" id=\"img_detail__image\" alt=\"" + resourceImage.AlternateText_rst + "\">";
						$("#div_detail__image").append(imageString);
                        $("#div_detail__caption").text(resourceImage.Credits_rst);
						$("#Head").append("<meta name=\"image\" content=\"/DDM_Gallery/" + resourceImage.Thumbnail_rst + "\" >");

					};

					//*** merge tags list into tempate onto page
					for (var i = 0; i < resource.Tags_rls.length; i++) {
						var tagsItem = $('#tagsItem-template').text();
						tagsItem = tagsItem.replace("@title", resource.Tags_rls[i].shortName_rst);
						tagsItem = tagsItem.replace("@url", resource.Tags_rls[i].url_rst);
						tagsItem = tagsItem.replace("@text", resource.Tags_rls[i].name_rst);
						$("#divTagsList").append(tagsItem);
						$("#Head").append("<meta name=\"Topic\" content=\"" + resource.Tags_rls[i].name_rst + "\" >");
					}


					//*** merge related list into tempate onto page
					for (var i = 0; i < resource.RelatedContent_rls.length; i++) {
						var relatedItem = $('#related-template').text();
						relatedItem = relatedItem.replace("@url", resource.RelatedContent_rls[i].url_rst);
						relatedItem = relatedItem.replace("@text", resource.RelatedContent_rls[i].content_name_rst);
						$("#myRelatedContent_dlItems").append(relatedItem);
					}

					//*** merge related media list into tempate onto page
					for (var i = 0; i < resource.Media_rls.length; i++) {
						var relatedItem = $('#relatedMedia-template').text();
						relatedItem = relatedItem.replace("@Filename_rst", resource.Media_rls[i].Filename_rst);
						relatedItem = relatedItem.replace("@AlternateText_rst", resource.Media_rls[i].AlternateText_rst);
						relatedItem = relatedItem.replace("@Thumbnail_rst", resource.Media_rls[i].Thumbnail_rst);
						relatedItem = relatedItem.replace("@Title_rst", resource.Media_rls[i].Title_rst);
						relatedItem = relatedItem.replace("@Parent_url_rst", resource.Media_rls[i].parent_url_rst);
						$("#ulMedia").append(relatedItem);
					}

					if (resource.Media_rls.length == 0) {
						$("#divMedia").hide();
					} else {
						$("#divMedia").show();
					}



					//*** program list in main content column
					for (var i = 0; i < resource.Programs_rls.length; i++) {
						//OfficePrograms.Visible = True
						//CType(OfficePrograms, OfficeProgramsList).listProgram = _lPrograms
					}



					//*** office list in main content column
					for (var i = 0; i < resource.Offices_rls.length; i++) {
						//OfficesList.Visible = True
						//CType(OfficesList, OfficesList).listOffices = _lOffices
					}


					//*** Attachements list in right content column
					if (resource.Attachments_rls.length) {

						$("#mySideBarType3").append("<h2 class=\"sidebar__title\" id=\"h2SidebarTitle\" >Resources</h2>");

						for (var i = 0; i < resource.Attachments_rls.length; i++) {
							var relatedItem = $('#attachements-template').text();
							relatedItem = relatedItem.replace("@FileName_rst", resource.Attachments_rls[i].URL_rst);
							relatedItem = relatedItem.replace("@Title_rst", resource.Attachments_rls[i].name_rst);
							$("#mySideBarType3").append(relatedItem);

						}
						$("#mySideBarType3").show();
						hasSidebar = true;
					}



					//*** Secondary body in right content column
					if (resource.SecondaryBody_rst.length > 0) {
						// console.log("                     mySideBarType5 ");
						$("#mySideBarType5").html(resource.SecondaryBody_rst);
						$("#mySideBarType5").Visible = true;
						hasSidebar = true;
					}

					//*** right column visiblity tweak
					//If mySideBarType5.Visible = False And mySideBarType3.Visible = False Then
					//UpdateContentWrapperDiv()  ' hide the side bar
					//End If

					if (!hasSidebar) {
						$("#content__wrapper").removeClass("sidebar-second");
					}

				}

			},
			error: function (xhr) {
				location = "/not-found.html";
			}






		}); //end ajaxCall
	</script>

</body>
</html>
