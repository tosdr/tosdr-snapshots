<!DOCTYPE html>
<html lang="en">
 <head>
   <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Crowd sourced project to collect the evidence of pollution of our skies">
<meta name="author" content="House of Whiteford">
<title>Chemtrail Tracker</title>

<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/app.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#2b5797">
<meta name="theme-color" content="#ffffff"> </head>
 <body class="d-flex flex-column h-100 app-backgroud" style="background-color:#F3FAFF;">
<nav class="navbar navbar-expand-lg navbar-dark app-blue">
  <div class="container-fluid">
    <a class="navbar-brand" href="/"><img src="/img/app_icon.png" style="margin-bottom:-13px;margin-left:-13px" height="70" width="70" alt="ChemTracker logo" /></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item active">
          <a class="nav-link" href="/">Home</span></a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="/ui/latest/images">Latest</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="/ui/list">Gallery</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="/ui/about-us">About</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="/ui/privacy">Privacy Policy</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="/ui/upload">Upload Image</span></a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="/ui/video/upload">Upload Video</span></a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="/ui/links">Links</span></a>
        </li>

        <li class="nav-item d-none" id="adminLink">
          <a class="nav-link" href="/admin">Admin</span></a>
        </li>

      </ul>
      <!-- <form class="d-flex">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form> -->
    </div>
  </div>
</nav>
<div class="container" >
    <div id="display-panel" class="container">
    <h3 class="pt-2 mb-3">Privacy Policy</h3>
    <p class="lead">
      We have no ads, no trackers and store no cookies in your browser.  If you upload
      an image to use you are not reqired to store any details.  We record no IP addresses in our database.

    </p>
    <p class="lead">
      All images uploaded to the site will be our property unless you leave your email address in which
      case we will always consider it your property.
      Any details given will never be shared with any third party.  We will only ever email you
      to request permission to use your image outside of this site.  Should you ever want the image removed
      please send a request from the email address attached to the image.
    </p>

    <p class="lead">
      All images displayed on this site will only display the image, the location
      that you specify and the time and date added to the image.
    </p>

    <div class="clear"><br /></div>
<h4 class="pt-2">Help us!</h4>
<p class="lead">
  Please help us collect the evidence by submitting an image to us
</p>
<div class="d-grid gap-2 d-md-block">
  <a href="/ui/upload" class="btn btn-primary"><i class="bi bi-image"></i> Upload Image</a>
  <a href="/ui/video/upload" class="btn btn-secondary"><i class="bi bi-film"></i> Upload Video</a>
</div>  </div>
</div>

<div class="clear"><br /></div>
<footer class="footer mt-auto py-5 app-blue">
  <div class="container">
    <span class="app-white">ChemTracker is a crowd sourced project.  We are making no money and will never collect or sell your data</span>
  </div>
  <div class="container">
    <span class="app-white">Download the ChemTracker App available on 
      <a href="https://play.google.com/store/apps/details?id=uk.co.chemtracker.chem_tracker_app" class="app-white">Android</a> and 
      <a href="https://apps.apple.com/us/app/chemtracker/id1584781198" class="app-white">IOS</a></span>
  </div>
</footer><script>
function expireOldLocationData() {
  const myStorage = window.localStorage;
  if (myStorage.getItem('location') !== null) {
    const data = JSON.parse(myStorage.getItem('location'));
    const now = new Date();

    if (data.expiresAfter === undefined) {
      myStorage.removeItem('location');
      return;
    }
    const expiresAfter = new Date(data.expiresAfter);
    if (now.getMilliseconds() > expiresAfter.getMilliseconds()) {
      myStorage.removeItem('location');
      return;
    }
  }
}
const countryMap = {
  AF: "Afghanistan",
  AX: "Åland Islands",
  AL: "Albania",
  DZ: "Algeria",
  AS: "American Samoa",
  AD: "Andorra",
  AO: "Angola",
  AI: "Anguilla",
  AQ: "Antarctica",
  AG: "Antigua and Barbuda",
  AR: "Argentina",
  AM: "Armenia",
  AW: "Aruba",
  AU: "Australia",
  AT: "Austria",
  AZ: "Azerbaijan",
  BS: "Bahamas",
  BH: "Bahrain",
  BD: "Bangladesh",
  BB: "Barbados",
  BY: "Belarus",
  BE: "Belgium",
  BZ: "Belize",
  BJ: "Benin",
  BM: "Bermuda",
  BT: "Bhutan",
  BO: "Bolivia, Plurinational State of",
  BQ: "Bonaire, Sint Eustatius and Saba",
  BA: "Bosnia and Herzegovina",
  BW: "Botswana",
  BV: "Bouvet Island",
  BR: "Brazil",
  IO: "British Indian Ocean Territory",
  BN: "Brunei Darussalam",
  BG: "Bulgaria",
  BF: "Burkina Faso",
  BI: "Burundi",
  KH: "Cambodia",
  CM: "Cameroon",
  CA: "Canada",
  CV: "Cape Verde",
  KY: "Cayman Islands",
  CF: "Central African Republic",
  TD: "Chad",
  CL: "Chile",
  CN: "China",
  CX: "Christmas Island",
  CC: "Cocos (Keeling) Islands",
  CO: "Colombia",
  KM: "Comoros",
  CG: "Congo",
  CD: "Congo, the Democratic Republic of the",
  CK: "Cook Islands",
  CR: "Costa Rica",
  CI: "Côte d'Ivoire",
  HR: "Croatia",
  CU: "Cuba",
  CW: "Curaçao",
  CY: "Cyprus",
  CZ: "Czech Republic",
  DK: "Denmark",
  DJ: "Djibouti",
  DM: "Dominica",
  DO: "Dominican Republic",
  EC: "Ecuador",
  EG: "Egypt",
  SV: "El Salvador",
  GQ: "Equatorial Guinea",
  ER: "Eritrea",
  EE: "Estonia",
  ET: "Ethiopia",
  FK: "Falkland Islands (Malvinas)",
  FO: "Faroe Islands",
  FJ: "Fiji",
  FI: "Finland",
  FR: "France",
  GF: "French Guiana",
  PF: "French Polynesia",
  TF: "French Southern Territories",
  GA: "Gabon",
  GM: "Gambia",
  GE: "Georgia",
  DE: "Germany",
  GH: "Ghana",
  GI: "Gibraltar",
  GR: "Greece",
  GL: "Greenland",
  GD: "Grenada",
  GP: "Guadeloupe",
  GU: "Guam",
  GT: "Guatemala",
  GG: "Guernsey",
  GN: "Guinea",
  GW: "Guinea-Bissau",
  GY: "Guyana",
  HT: "Haiti",
  HM: "Heard Island and McDonald Islands",
  VA: "Holy See (Vatican City State)",
  HN: "Honduras",
  HK: "Hong Kong",
  HU: "Hungary",
  IS: "Iceland",
  IN: "India",
  ID: "Indonesia",
  IR: "Iran, Islamic Republic of",
  IQ: "Iraq",
  IE: "Ireland",
  IM: "Isle of Man",
  IL: "Israel",
  IT: "Italy",
  JM: "Jamaica",
  JP: "Japan",
  JE: "Jersey",
  JO: "Jordan",
  KZ: "Kazakhstan",
  KE: "Kenya",
  KI: "Kiribati",
  KP: "Korea, Democratic People's Republic of",
  KR: "Korea, Republic of",
  KW: "Kuwait",
  KG: "Kyrgyzstan",
  LA: "Lao People's Democratic Republic",
  LV: "Latvia",
  LB: "Lebanon",
  LS: "Lesotho",
  LR: "Liberia",
  LY: "Libya",
  LI: "Liechtenstein",
  LT: "Lithuania",
  LU: "Luxembourg",
  MO: "Macao",
  MK: "Macedonia, the former Yugoslav Republic of",
  MG: "Madagascar",
  MW: "Malawi",
  MY: "Malaysia",
  MV: "Maldives",
  ML: "Mali",
  MT: "Malta",
  MH: "Marshall Islands",
  MQ: "Martinique",
  MR: "Mauritania",
  MU: "Mauritius",
  YT: "Mayotte",
  MX: "Mexico",
  FM: "Micronesia, Federated States of",
  MD: "Moldova, Republic of",
  MC: "Monaco",
  MN: "Mongolia",
  ME: "Montenegro",
  MS: "Montserrat",
  MA: "Morocco",
  MZ: "Mozambique",
  MM: "Myanmar",
  NA: "Namibia",
  NR: "Nauru",
  NP: "Nepal",
  NL: "Netherlands",
  NC: "New Caledonia",
  NZ: "New Zealand",
  NI: "Nicaragua",
  NE: "Niger",
  NG: "Nigeria",
  NU: "Niue",
  NF: "Norfolk Island",
  MP: "Northern Mariana Islands",
  NO: "Norway",
  OM: "Oman",
  PK: "Pakistan",
  PW: "Palau",
  PS: "Palestinian Territory, Occupied",
  PA: "Panama",
  PG: "Papua New Guinea",
  PY: "Paraguay",
  PE: "Peru",
  PH: "Philippines",
  PN: "Pitcairn",
  PL: "Poland",
  PT: "Portugal",
  PR: "Puerto Rico",
  QA: "Qatar",
  RE: "Réunion",
  RO: "Romania",
  RU: "Russia",
  RW: "Rwanda",
  BL: "Saint Barthélemy",
  SH: "Saint Helena, Ascension and Tristan da Cunha",
  KN: "Saint Kitts and Nevis",
  LC: "Saint Lucia",
  MF: "Saint Martin (French part)",
  PM: "Saint Pierre and Miquelon",
  VC: "Saint Vincent and the Grenadines",
  WS: "Samoa",
  SM: "San Marino",
  ST: "Sao Tome and Principe",
  SA: "Saudi Arabia",
  SN: "Senegal",
  RS: "Serbia",
  SC: "Seychelles",
  SL: "Sierra Leone",
  SG: "Singapore",
  SX: "Sint Maarten (Dutch part)",
  SK: "Slovakia",
  SI: "Slovenia",
  SB: "Solomon Islands",
  SO: "Somalia",
  ZA: "South Africa",
  GS: "South Georgia and the South Sandwich Islands",
  SS: "South Sudan",
  ES: "Spain",
  LK: "Sri Lanka",
  SD: "Sudan",
  SR: "Suriname",
  SJ: "Svalbard and Jan Mayen",
  SZ: "Swaziland",
  SE: "Sweden",
  CH: "Switzerland",
  SY: "Syrian Arab Republic",
  TW: "Taiwan, Province of China",
  TJ: "Tajikistan",
  TZ: "Tanzania, United Republic of",
  TH: "Thailand",
  TL: "Timor-Leste",
  TG: "Togo",
  TK: "Tokelau",
  TO: "Tonga",
  TT: "Trinidad and Tobago",
  TN: "Tunisia",
  TR: "Turkey",
  TM: "Turkmenistan",
  TC: "Turks and Caicos Islands",
  TV: "Tuvalu",
  UG: "Uganda",
  UA: "Ukraine",
  AE: "United Arab Emirates",
  GB: "United Kingdom",
  US: "United States",
  UM: "United States Minor Outlying Islands",
  UY: "Uruguay",
  UZ: "Uzbekistan",
  VU: "Vanuatu",
  VE: "Venezuela, Bolivarian Republic of",
  VN: "Viet Nam",
  VG: "Virgin Islands, British",
  VI: "Virgin Islands, U.S.",
  WF: "Wallis and Futuna",
  EH: "Western Sahara",
  YE: "Yemen",
  ZM: "Zambia",
  ZW: "Zimbabwe",
};

function lookupCountry(code) {
  if (code in countryMap) {
    return countryMap[code];
  }
  return code;
}

function showAdminLink() {
  const myStorage = window.localStorage;
  const user = JSON.parse(myStorage.getItem('user'));
  const auth = JSON.parse(myStorage.getItem('auth'));

  if (user.id !== null && auth.token !== null) {
    document.getElementById('adminLink').classList.remove('d-none');
  } else {
    document.getElementById('adminLink').classList.add('d-none');
  }
}

window.addEventListener('load', () => {
  Handlebars.registerHelper('getCountryName', function (value) {
    const name = lookupCountry(value);
    if (name !== null) {
      return lookupCountry(value);
    }
  });
  Handlebars.registerHelper('fmtDate', function (inputDate) {
    const date = new Date(inputDate);
    const d = zeroPad(date.getDate(),2);
    const m = zeroPad(date.getMonth()+1, 2);
    const y = date.getFullYear();
    const h = zeroPad(date.getHours(), 2);
    const mm  = zeroPad(date.getMinutes(), 2);
    const ss = zeroPad(date.getSeconds(), 2);

    return d+'/'+m+'/'+y+' '+h+':'+mm;
  });
  Handlebars.registerHelper('isVideo', function (value) {
    if (value === 'video') {
      return true;
    }
    return false;
  });
  Handlebars.registerHelper('isImage', function (value) {
    if (value === 'image') {
      return true;
    }
    return false;
  });

  Handlebars.registerHelper('uppercaseFirst', function (value) {
    if (value !== null) {
      return value.charAt(0).toUpperCase() + value.slice(1);
    }
  });
  Handlebars.registerHelper('convertLocalTimestamp', function (ts) {
    try {
      if (ts !== null) {
        const date = new Date(ts.replace('+00:00',''));
        const locale = navigator.languages[0];
        const fmt = new Intl.DateTimeFormat([locale, 'UTC'],{ dateStyle: 'long', timeStyle: 'short' }).format(date);

        return fmt;
      }
      return '';
    } catch (e) {
      console.log(e);
      return '';
    }
  });
  Handlebars.registerHelper('convertUTCTimestamp', function (ts) {
    try {
      if (ts !== null) {
        const date = new Date(ts);
        const locale = navigator.languages[0];

        const fmt = new Intl.DateTimeFormat([locale, 'UTC'],{ dateStyle: 'long', timeStyle: 'short' }).format(date);
        return fmt;
      }
      return '';
    } catch (e) {
      console.log(e);
      return '';
    }
  });
  Handlebars.registerHelper('getSubmissionSource', function(source) {
    switch (source) {
      case 'app':
        return 'ChemTracker App';
        break;
      case 'website':
        return 'ChemTracker Website';
        break;
      case 'app-android':
        return 'ChemTracker App (android)';
        break;
      case 'app-ios':
        return 'ChemTracker App (iOS)';
        break;
      default:
        return 'ChemTracker App';
        break;
    }
  })
  Handlebars.registerHelper('convertTimestamp', function (ts) {
    try {
      if (ts !== null) {
      const date = new Date(ts);
      const locale = 'UTC';
      //const fmt = new Intl.DateTimeFormat(locale,{ dateStyle: 'full', timeStyle: 'short' }).format(date)
      const fmt = date.toLocaleDateString()+' '+date.toLocaleTimeString();
      return 'Timestamp: '+ fmt;
    } else {
      return '';
    }
    } catch (e) {
      console.log(e);
      return '';
    }
  });

  expireOldLocationData();

  showAdminLink();
});
</script>
<script src="/js/bootstrap.bundle.min.js"></script>
<script src="/js/handlebars.min.js"></script>

 </body>
</html>